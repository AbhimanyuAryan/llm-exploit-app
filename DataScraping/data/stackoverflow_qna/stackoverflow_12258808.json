{"questionTitle": "DELETE request to Modeshape rest server", "question": "<p>I'm using <a href=\"http://docs.jboss.org/modeshape/latest/manuals/reference/html/web_access.html#rest_server\" rel=\"nofollow noreferrer\">Modeshape rest server</a>. Modeshape's version is 2.8.2.</p>\n<p>When I send GET request to some node like <code>http://localhost:8080/modeshape-server/repo/workspace1/items/file</code> it returns information about the node.</p>\n<p>But when I send DELETE request (using Fiddler, for example) on the same address it returns <code>405 Method Not Allowed</code>.\nAccording to <a href=\"http://docs.jboss.org/modeshape/latest/manuals/reference/html/web_access.html#supported_rest_resources\" rel=\"nofollow noreferrer\">documentation</a> addresses like this should support DELETE requests.</p>\n<p>More detailed.\nI send:</p>\n<pre><code>DELETE http://localhost:8080/modeshape-server/repo/workspace1/items/uploads/file HTTP/1.1\nUser-Agent: Fiddler\nHost: localhost:8080\n</code></pre>\n<p>I get:</p>\n<pre><code>HTTP/1.1 405 Method Not Allowed\nServer: Apache-Coyote/1.1\nAllow: POST, OPTIONS\nContent-Type: text/html;charset=utf-8\nContent-Length: 984\nDate: Tue, 04 Sep 2012 14:16:38 GMT\n\n&lt;html&gt;&lt;head&gt;&lt;title&gt;JBoss Web/7.0.13.Final - Error report&lt;/title&gt;&lt;style&gt;&lt;!--H1 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:22px;} H2 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:16px;} H3 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:14px;} BODY {font-family:Tahoma,Arial,sans-serif;color:black;background-color:white;} B {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;} P {font-family:Tahoma,Arial,sans-serif;background:white;color:black;font-size:12px;}A {color : black;}A.name {color : black;}HR {color : #525D76;}--&gt;&lt;/style&gt; &lt;/head&gt;&lt;body&gt;&lt;h1&gt;HTTP Status 405 - &lt;/h1&gt;&lt;HR size=&quot;1&quot; noshade=&quot;noshade&quot;&gt;&lt;p&gt;&lt;b&gt;type&lt;/b&gt; Status report&lt;/p&gt;&lt;p&gt;&lt;b&gt;message&lt;/b&gt; &lt;u&gt;&lt;/u&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;description&lt;/b&gt; &lt;u&gt;The specified HTTP method is not allowed for the requested resource ().&lt;/u&gt;&lt;/p&gt;&lt;HR size=&quot;1&quot; noshade=&quot;noshade&quot;&gt;&lt;h3&gt;JBoss Web/7.0.13.Final&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n<p>pom.xml which I'm using to build rest-server.war</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;properties&gt;\n        &lt;modeshape.version&gt;2.8.2.Final&lt;/modeshape.version&gt;\n    &lt;/properties&gt;\n\n    &lt;parent&gt;\n        &lt;artifactId&gt;modeshape&lt;/artifactId&gt;\n        &lt;groupId&gt;org.modeshape&lt;/groupId&gt;\n        &lt;version&gt;2.8.2.Final&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;modeshape.demo&lt;/groupId&gt;\n    &lt;version&gt;0.1&lt;/version&gt;\n\n    &lt;artifactId&gt;modeshape-server&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;Modeshape rest server&lt;/name&gt;\n    &lt;description&gt;ModeShape servlet that provides RESTful access to JCR items&lt;/description&gt;\n    &lt;url&gt;&lt;/url&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;2.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modeshape&lt;/groupId&gt;\n            &lt;artifactId&gt;modeshape-web-jcr&lt;/artifactId&gt;\n            &lt;version&gt;${modeshape.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modeshape&lt;/groupId&gt;\n            &lt;artifactId&gt;modeshape-jcr-api&lt;/artifactId&gt;\n            &lt;version&gt;${modeshape.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modeshape&lt;/groupId&gt;\n            &lt;artifactId&gt;modeshape-jcr&lt;/artifactId&gt;\n            &lt;version&gt;${modeshape.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modeshape&lt;/groupId&gt;\n            &lt;artifactId&gt;modeshape-search-lucene&lt;/artifactId&gt;\n            &lt;version&gt;${modeshape.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modeshape&lt;/groupId&gt;\n            &lt;artifactId&gt;modeshape-cnd&lt;/artifactId&gt;\n            &lt;version&gt;${modeshape.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modeshape&lt;/groupId&gt;\n            &lt;artifactId&gt;modeshape-repository&lt;/artifactId&gt;\n            &lt;version&gt;${modeshape.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modeshape&lt;/groupId&gt;\n            &lt;artifactId&gt;modeshape-graph&lt;/artifactId&gt;\n            &lt;version&gt;${modeshape.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modeshape&lt;/groupId&gt;\n            &lt;artifactId&gt;modeshape-common&lt;/artifactId&gt;\n            &lt;version&gt;${modeshape.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modeshape&lt;/groupId&gt;\n            &lt;artifactId&gt;modeshape-web-jcr-rest&lt;/artifactId&gt;\n            &lt;version&gt;${modeshape.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modeshape&lt;/groupId&gt;\n            &lt;artifactId&gt;modeshape-connector-jdbc-metadata&lt;/artifactId&gt;\n            &lt;version&gt;${modeshape.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;5.1.6&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modeshape&lt;/groupId&gt;\n            &lt;artifactId&gt;modeshape-connector-filesystem&lt;/artifactId&gt;\n            &lt;version&gt;${modeshape.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n            &lt;artifactId&gt;resteasy-jaxrs&lt;/artifactId&gt;\n            &lt;version&gt;1.2.1.GA&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.10&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;jboss&lt;/id&gt;\n            &lt;url&gt;http://repository.jboss.org/nexus/content/groups/public&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;rest-server&lt;/finalName&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Am I doing something wrong?</p>\n<p>And I'm also using JBoss-as-7.1.1. But in response written 7.0.13.</p>\n<p>And also I'm using Modeshape rest not as service. I'm using it as normally deployed application. (I'm sorry, but I'm not quite familiar with types of applications. I heard that there are some services in JBoss-as. Anyway I'm not using it)</p>\n", "acceptedAnswer": "<p>It looks like 2.8.x is expecting a \"Content-Type: application/json\" header to be included with the <code>DELETE</code> request. I suspect that since the request has no such header, the web application doesn't have a handler for the request.</p>\n\n<p>ModeShape does provide a kit that will install ModeShape 2.x as a service in JBoss AS 5 and 6, and another kit that will install ModeShape 3.0 (still in Beta) as a service in JBoss AS7. The benefit is that your 1+ applications simply have to look up the <code>Repository</code> instance (typically via JNDI, though with 3.0 you can also use the JavaEE <code>@Inject</code> annotation to automatically inject the repository into your EJBs or application).</p>\n\n<p>However, there is no kit for installing ModeShape 2.8.2 as a service in JBoss AS7.</p>\n", "questionSource": "https://stackoverflow.com/questions/12258808/delete-request-to-modeshape-rest-server"}