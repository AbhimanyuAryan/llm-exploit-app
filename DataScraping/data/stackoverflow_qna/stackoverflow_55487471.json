{"questionTitle": "onApplyWindowInsets(WindowInsets insets) not getting called", "question": "<p>I am currently using a custom view that extends a Constraint layout but I it does not trigger this overridden method in the view onApplyWindowInsets(WindowInsets insets) not sure what went missing.</p>\n\n<pre><code>  class TestCustomView @JvmOverloads constructor(\n  context: Context,\n  attrs: AttributeSet? = null,\n  defStyleAttr: Int = 0\n) : ConstraintLayout(context, attrs, defStyleAttr) {\n\n\n    init {\n\n\n    }\n    //This method one not get called\n    override fun onApplyWindowInsets(insets: WindowInsets): WindowInsets {\n    return super.onApplyWindowInsets(insets)\n        val statusBarHeight = insets.systemWindowInsetTop\n    }\n\n\n    override fun fitSystemWindows(insets: Rect): Boolean {\n    if (Build.VERSION.SDK_INT == Build.VERSION_CODES.KITKAT) {\n      // Intentionally do not modify the bottom inset. For some reason,\n      // if the bottom inset is modified, window resizing stops working.\n      insets.left = 0\n      insets.top = 0\n      insets.right = 0\n    }\n    return super.fitSystemWindows(insets)\n  }\n\n\n}\n</code></pre>\n", "acceptedAnswer": "<p>I found that without the <code>android:windowTranslucentStatus</code> property set to <code>true</code>, <code>onApplyWindowInsets</code> is never called.  I discovered this on reading <a href=\"https://stackoverflow.com/questions/51933656/onapplywindowinsets-for-keyboard-not-called-if-windowtranslucentstatus-is-false\">this unanswered question</a>.</p>\n\n<p>In <code>styles.xml</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;style name=\"ExampleTheme\" parent=\"Theme.AppCompat.NoActionBar\"&gt;\n  &lt;item name=\"android:windowTranslucentStatus\"&gt;true&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>I would love to understand why this is so, and if there is a way to have it called without requiring this attribute change.</p>\n", "questionSource": "https://stackoverflow.com/questions/55487471/onapplywindowinsetswindowinsets-insets-not-getting-called"}