[
    {
        "Title": "Error on Google Sign In CredentialManager, using Jetpack Compose",
        "Question": "I am trying to create a Sign In with Google Button but everytime credentialManager.getCredential is called, it gives me :\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nI tried resetting the SHA-1 Fingerprint, I've created both web application and android in the google cloud credential, I've used both the web app client id and android client id. I'm lost, please help\n\nobject DeveloperScreen{\n\n    const val GOOGLE_WEB_CLIENT_ID = \"xxxxxxxxxh5n94bxxxxxxxxxxx1.apps.googleusercontent.com\"\n//    const val GOOGLE_WEB_CLIENT_SECRET = \"GxxxxxxxxCinwYDR8KQi3-wD9ugT311\"\n//    const val GOOGLE_ANDROID_CLIENT_ID = \"3xxxxxxx80-7ja1n9nknxxxxxxxxxxxxxxxxxxxens33k.apps.googleusercontent.com\"\n\n\n    private suspend fun googleSignIn(context : Context) {\n\n\n        val credentialManager = androidx.credentials.CredentialManager.create(context)\n\n        val googleIdOption: GetGoogleIdOption = GetGoogleIdOption.Builder()\n            .setFilterByAuthorizedAccounts(false)\n            .setServerClientId(GOOGLE_WEB_CLIENT_ID)\n            .build()\n\n        Log.i(\"auth-google-googleIdOption\", googleIdOption.toString())\n\n        val request: GetCredentialRequest = GetCredentialRequest.Builder()\n            .addCredentialOption(googleIdOption)\n            .build()\n\n        Log.i(\"auth-google-credentialRequest\", request.toString())\n\n\n        val result = credentialManager.getCredential(\n            request = request,\n            context = context,\n        )\n\n        Log.i(\"auth-google-result\", result.toString())\n\n\n\n\n\n    }\n\n\n\n    @Composable\n    public fun DeveloperScreen1(navController : NavHostController, context : Context){\n\n        var phoneNumber by rememberSaveable { mutableStateOf(\"\") }\n        var email by rememberSaveable { mutableStateOf(\"\")}\n        var otpCode by rememberSaveable { mutableStateOf(\"\") }\n\n        var useEmail by rememberSaveable { mutableStateOf(false)}\n\n        var message by rememberSaveable { mutableStateOf(\"\")}\n\n        val coroutineScope = rememberCoroutineScope()\n\n        Column {\n\n\n            var user : User? = getCurrentUser()\n\n            Text(\n                textAlign = TextAlign.Center,\n                fontSize = 5.em,\n                text = \"DEV SCREEN\",\n                modifier = Modifier\n                    .fillMaxWidth()\n                    .padding(top = 10.dp)\n\n            )\n\n            Text(\n                text = message,\n                color = Color.Black\n            )\n\n            Button(\n                onClick = {\n\n                    coroutineScope.launch {\n\n                        googleSignIn(context)\n\n                    }\n...\n\n\n\n\nvar screenHeight = 0.dp\nvar screenWidth = 0.dp\n\nvar authViewModel = AuthViewModel()\n\n\n\nclass MainActivity : ComponentActivity() {\n\n\n\n    @RequiresApi(Q)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n\n        Log.d(\"Initialize\", \"App Started\")\n\n        setContent {\n\n\n            var context: Context = LocalContext.current\n\n            Box(\n                Modifier\n                    .background(color = Color(0xFFBDC6CA))\n                    .safeDrawingPadding()\n            ) {\n                MetroFCTheme {\n                    MainContent(context)\n\n\n\n                }\n            }\n        }\n\n        actionBar?.hide()\n        WindowCompat.setDecorFitsSystemWindows(window, false)\n        if (Build.VERSION.SDK_INT < Build.VERSION_CODES.R) {\n            window.addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)\n        } else {\n            window.insetsController?.apply {\n//                hide(WindowInsetsAndroid.Type.statusBars())\n                systemBarsBehavior = WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\n            }\n        }\n\n    }\n\n\n}\n\n\n\n@RequiresApi(Q)\n@Composable\nfun MainContent(\n    context : Context\n){\n\n    var user by remember{ mutableStateOf<User?>(null) }\n\n    LaunchedEffect(key1 = user) {\n\n        refreshMenu()\n\n    }\n\n\n    LaunchedEffect(key1 = \"login\") {\n\n        user = loginAnonymously()\n        Log.d(\"DB-User\", \"USER LOGIN SUCCESSFUL : $user\")\n\n    }\n\n\n    Log.d(\"DB\", \"2.\" + user.toString())\n\n\n\n\n    Log.d(\"Initialize\",\"Database Connected\")\n\n    val configuration = LocalConfiguration.current\n    screenHeight = configuration.screenHeightDp.dp\n    screenWidth = configuration.screenWidthDp.dp\n\n    var onDashboard by remember {mutableStateOf(true)}\n    var onMenu = false\n    val updateStates = { dashboard: Boolean, menu: Boolean ->\n        onDashboard = dashboard\n        onMenu = menu\n    }\n\n    val navController = rememberNavController()\n\n\n    Scaffold(\n\n        bottomBar = {\n            if(authViewModel.isLoggedIn) NavigationBar(navController = navController, onDashboard, onMenu, updateStates)\n\n                    },\n        containerColor = MaterialTheme.colorScheme.background,\n        contentWindowInsets = WindowInsets(0.dp),\n        modifier = Modifier.fillMaxSize()\n\n    ) {\n    innerPadding ->\n\n        val scrollState = rememberScrollState()\n\n        val padding = innerPadding\n\n        NavHost(\n            navController = navController,\n            startDestination = if (authViewModel.isLoggedIn) Route.DEV_SCREEN else Route.DEV_SCREEN,\n            modifier = Modifier\n//                .verticalScroll(state = scrollState)\n                .fillMaxSize()\n        ) {\n\n            composable(route = Route.DEV_SCREEN){\n                DeveloperScreen1(navController, context)\n            }\n\n            composable(route = Route.DASHBOARD_SCREEN) {\n\n                authViewModel.login(user)\n                DashboardScreen()\n            }\n\n            composable(route = Route.MENU_SCREEN) {\n                authViewModel.login(user)\n                MenuScreen(user)\n            }\n        }\n    }\n}\n\nProcess: com.metrofriedchicken.metrofc, PID: 20630\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nat androidx.credentials.playservices.controllers.CredentialProviderBaseController$Companion.getCredentialExceptionTypeToException$credentials_play_services_auth_release(CredentialProviderBaseController.kt:110)\nat androidx.credentials.playservices.controllers.BeginSignIn.CredentialProviderBeginSignInController$resultReceiver$1$onReceiveResult$1.invoke(CredentialProviderBeginSignInController.kt:93)\nI've tried :\n\nDeleting Keystore and make a new one ( debug and release )\nUsed the web app client id and android client id\nChange device\nwaited a day\n\n",
        "Answer": "I am assuming you are currently integrating the Credential Manager in debug mode and testing your integration in an app directly installed from Android Studio to  your test device.\nIn this case you will need to configure the SHA1 key currently being used to sign your app, which is Android Studio's debug keystore.\nIn this case, you can get the SHA1 by running below command in Android Studio's terminal:\n./gradlew signingreport\n\nCopy the correct SHA1 fingerprint of correct Variant and Config from the terminal console and configure the same in cloud console for your app's Android OAuth2 client.\nIn order to keep the steps cleaner, I am mentioning them as below:\n\nCreate one Android OAuth2 client in cloud api console with you app's package name.\nUse the debug SHA1 key in this Android OAuth2 client creation as I mentioned above (in order to recognized this as debug client you can append the client name with debug as \"your-app-debug\")\nCreate one Web OAuth2 client in cloud api console. This will act as the server for your app\nCopy the ClientID of this Web client and use in setServerClientId(ServerClientID) in your integration.\n\nWith these simple steps alone, your integration should work fine.\nOptionally, as the next step,\n\nYou can create another Android OAuth2 client with release key's SHA1 fingerprint for production, and for recognizing this client, can give it a name \"Your-app-release\"\n\n",
        "Source": "https://stackoverflow.com/questions/78247578/error-on-google-sign-in-credentialmanager-using-jetpack-compose"
    },
    {
        "Title": "Access AWS Secrets Manager with IMDSv2 set to required",
        "Question": "I'm working on a Java application running on an EC2 instance in AWS. My goal is to access AWS Secrets Manager using an AWS SDK for Java and an IAM role attached to the EC2 instance.\nEverything works smoothly when IMDSv2 (Instance Metadata Service version 2) is optional. However, when it's set to required as recommended, I encounter an issue.\nSpecifically, I'm receiving the error 'software.amazon.awssdk.core.exception.SdkClientException: Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain'.\nHow can I resolve this issue and successfully access AWS Secrets Manager with IMDSv2 set to required?\nTried attaching different policies, created some custom ones but the result is same.\njava sdk version used:\n<dependency>\n     <groupId>software.amazon.awssdk</groupId>\n     <artifactId>secretsmanager</artifactId>\n     <version>2.25.7</version>\n</dependency>\n\n",
        "Answer": "I did some more research and was able to figure this out. There have been issues with IMDSv2 network request and what was suggested is to increase the hop limit to '2' on the ec2 instance. As said here in the considerations section as well https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-retrieval.html#imds-considerations\nTo increase the hop limit:\n\"Use the modify-instance-metadata-options CLI command and set the http-put-response-hop-limit parameter to the required number of hops. In the following example, the hop limit is set to 2. Note that when specifying a value for http-put-response-hop-limit, you must also set http-endpoint to enabled\"\nUsing aws cli:\naws ec2 modify-instance-metadata-options \\\n--instance-id <instance-id> \\\n--http-put-response-hop-limit 2 \\\n--http-endpoint enabled\n\n",
        "Source": "https://stackoverflow.com/questions/78183614/access-aws-secrets-manager-with-imdsv2-set-to-required"
    },
    {
        "Title": "Install a private package with credentials from requirements.txt",
        "Question": "I want to a private package via\n%pip install -r /dbfs/requirements.txt\n\nInside this requirements.txt is give:\ngit+https://<user>:$token@<gitprovider>.com/<path/to/repo>\n\nIf i give user and token inside the requirements.txt it works like a charm, but I want to pass user and token via dbutils.secrets. Is this doable without manipulating the requirements.txt before?\nI thought it would be possible to create environment variables, but this did not work for me.\n%env GIT_USERNAME= ...\n%env GIT_TOKEN= ...\n\n",
        "Answer": "The way is using python\n\nGetting information\nStore the information in a temporary file so that its details will not be found in the run log or records after running\nRun\n\nimport dbutils\n\nusername = dbutils.secrets.get(scope=\"your_scope\", key=\"git_username\")\ntoken = dbutils.secrets.get(scope=\"your_scope\", key=\"git_token\")\n\nrepo_url = f\"git+https://{username}:{token}@gitprovider.com/path/to/repo\"\n\nrequirements_path = \"/dbfs/tmp/requirements.txt\"\n\nwith open(requirements_path, \"w\") as file:\n    file.write(repo_url + \"\\n\")\n\ndbutils.notebook.run(\"%pip install -r \" + requirements_path, 60)\n\n",
        "Source": "https://stackoverflow.com/questions/78140635/install-a-private-package-with-credentials-from-requirements-txt"
    },
    {
        "Title": "PayPal bearer resets after x amount of seconds",
        "Question": "I\u2019m using PayPal refund api. The api docs says the bearer token that I am using will reset after x amount of seconds.\nLink to where it says access token resets:\nhttps://developer.paypal.com/reference/get-an-access-token/\nIn my case my token resets after 9 hours. I am using this token to refund purchases which will happen all the time. Is there an alternate solution from Bearer <Access-Token> that doesn\u2019t include a reset token? I haven\u2019t been able to find one other than the Basic <client_id>:<secret> which includes client credentials which doesn\u2019t seem to work. And yes the credentials are correct.\nLink to api:\nhttps://developer.paypal.com/docs/api/payments/v2/#captures_refund\n",
        "Answer": "Basic client_id:secret, where the string client_id:secret is Base64 encoded, is the header value for HTTP Basic Authentication. This is used to obtain an access token from the oauth2 token endpoint.\nAccess tokens expire after 9 hours, beyond which a new one must be obtained. These are required for all PayPal REST API operations, including refunds.\n",
        "Source": "https://stackoverflow.com/questions/78109044/paypal-bearer-resets-after-x-amount-of-seconds"
    },
    {
        "Title": "How to store MySQL credentials in python project, that users not only from my pc will use later?",
        "Question": "I have the following code:\nclass Server:\n    def __init__(self):\n        #server credentials\n        self.ip = \"192.168.1.182\"\n        self.user = \"bank_user\"\n        self.password = \"*mypass*\"\n        self.port = 3307\n        self.database = \"bank\"\n    def connect_to_server(self):\n        try:\n            self.mydb = mysql.connector.connect(\n                host = self.ip,\n                user = self.user,\n                password = self.password,\n                port = self.port,\n                database = self.database\n                )\n            self.mycursor = self.mydb.cursor()\n            print(\"\u2713 Server connection estabilished\")\n            rlist = [True]\n\nThe problem is, I don't want to store it in my code because I feel that it's not safe\nI'm creating a banking app (just for fun) so it will be used as .py->.exe later by users not only from my pc. I shouldn't be stored in a config file or a plaintext file, because if someone gets the credentials he can basically log into the MySQL database and modify all of the data.\nSo no:\n\nEnviromental variables\nPlaintext/ config file\nIt should work on any pc (I'm using pytoexe to convert my python file to exe, so that everyone can run the app)\nI'm new to stackoverflow so forgive me if I wrote sth wrong\n\nI thought about creating a password encryption, but anyone who gets the decryption key can decrypt the password. I also thought about creating my own encryption method, but anyone who gets to my code can just use the decrypting function and execute it for example: decryptor(\"encryptedpassword\")\n",
        "Answer": "Right, anyone who gets your code can extract the MySQL password and connect using any other client. They can do any SQL query according to the privileges you granted that MySQL user.\nEven if you compile using pytoexe, a skilled person could use a debugger or simply the strings tool to extract the password.\nIf you encrypt, they can decrypt. If you try to invent your own encryption algorithm, assume they can decrypt it more easily. I assume you are not an accomplished Ph.D. in applied cryptography, so any novel encryption method you think of will surely be easier to crack than state of the art encryption tools.\nThere are two common methods to solve this problem:\n\nDon't give them the MySQL password. The application you give them has no MySQL connection. The application makes HTTP requests to a web service that you develop. The code in your web service implements specific SQL they can execute. This is where you enforce business rules about what they can access. This is by far the most popular solution.\n\nGive them the MySQL password, but restrict the SQL they can execute. Privileges alone only give you limited control, so you need to create a layer of stored routines and views in the MySQL database. They should be able to access the stored routines and views, but the user cannot access the underlying tables. The routines and views have privileges to do that. Therefore the users can only do what you have allowed them to do in those routines and views.\n\n\nThere could also be a solution using a proxy such as ProxySQL. This would involve writing filters in the proxy so clients would not be allowed to run queries except those you want them to run. The advantage would be that the client application thinks it's connecting to a MySQL Server, but it's really connecting to the proxy. But I think it would be easier to write a web service than to write a whole application's business logic in a proxy.\nI suppose one could also use MySQL's query rewrite plugin to do something similar, but I've never seen anyone do that successfully.\n",
        "Source": "https://stackoverflow.com/questions/78089675/how-to-store-mysql-credentials-in-python-project-that-users-not-only-from-my-pc"
    },
    {
        "Title": "Setup access.ini file permession so it can be read by php script",
        "Question": "I'm really new to this so sorry if this isn't clear.\nI'm trying to hide my database credentials using an access.ini  file.\nI have a AWS instance, with my scripts located in /bitnami/joomla/index (in short I have an html page that display data using a php file that queries a postgresql db). I've tried creating a new directory /bitnami/joomla/config where I placed the access.ini  file. However, my php script can't read it due to permission issues (I guess).\nThe owner/group for the files in /bitnami/joomla/index are bitnami bitnami.\nAnd the owner/group and permissions for the folder /bitnami/joomla/config and its file are :\nbitnami bitnami\ndrwx--x--x\nIs my setup completly wrong, or is the issue easy to solve ?\n",
        "Answer": "Instead of using an access.ini file, consider using environment variables to store sensitive credentials.\nPHP can read environment variables easily.\nAdditional details can be found here.\n",
        "Source": "https://stackoverflow.com/questions/78035277/setup-access-ini-file-permession-so-it-can-be-read-by-php-script"
    },
    {
        "Title": "How to set an &quot;environment&quot; in a non-trivial way using expression?",
        "Question": "I have a GitHub Actions workflow which deploys some things to an environment. The workflow needs to log in to access the environment, so we use GitHub environment secrets to store credentials.\nMy workflow contains this:\non:\n  workflow_dispatch:\n    inputs:\n      deployment_target:\n        type: choice\n        description: Choose an environment to deploy to\n        options:\n          - dev\n          - staging\n          - production\n          - benchmarks\n...\njobs:\n  deploy-to-persistent-environment:\n    environment: ${{ github.event.inputs.deployment_target}}\n    steps: \n      - name: Login # Pseudocode\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy # Pseudocode\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nThe \"benchmarks\" environment uses the same credentials as the \"development\" environment. So I would like to re-use the same GitHub environment secrets rather than have two sets of duplicate environment secrets in GitHub.\nI.e., I would like to do something like this pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ if github.event.inputs.deployment_target == 'benchmarks' then 'development' else github.event.inputs.deployment_target }}\n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nIs there any way to achieve this with GitHub Actions?\n",
        "Answer": "There is a way to do it directly in the expression, according to this reference on the Github Community, by using the syntax ${{ x && 'ifTrue' || 'ifFalse'  }}\nIn that case:\n\nif the condition x is True, the first argument will be used.\nif the condition x is False, the second argument will be used.\n\nIn our case here, it would look like this:\nenvironment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}\n\nWhere:\n\nif github.event.inputs.deployment_target == 'benchmarks' is True, development will be used as environment.\n\nif github.event.inputs.deployment_target == 'benchmarks' is False, github.event.inputs.deployment_target will be used as environment.\n\n\nUpdating the pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}   \n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nEDIT: This is now available on the GitHub official doc as well (Thanks Benjamin W for reporting)\n",
        "Source": "https://stackoverflow.com/questions/77959880/how-to-set-an-environment-in-a-non-trivial-way-using-expression"
    },
    {
        "Title": "How to implement speech recognition with the Google Cloud Speech-to-Text API using Node.js?",
        "Question": "I am new to Google Cloud,\nI recently created a project with Speech-to-Text API.\nAfter creating the project and linking it to a billing account, I accessed the Node.js in-console tutorial for a quick start.\nAfter following all the steps in the in-console tutorial (and dealing with some mistakes in the code in the tutorial itself), and running the code, I got the following error:\nnode:internal/process/promises:289\n            triggerUncaughtException(err, true /* fromPromise */);\n            ^\n\nError: 3 INVALID_ARGUMENT: Invalid resource field value in the request.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Invalid resource field value in the request.',\n  metadata: Metadata {\n    internalRepr: Map(2) {\n      'google.rpc.errorinfo-bin' => [\n        Buffer(127) [Uint8Array] [\n           10,  24,  82,  69,  83,  79,  85,  82,  67,  69,  95,  80,\n           82,  79,  74,  69,  67,  84,  95,  73,  78,  86,  65,  76,\n           73,  68,  18,  14, 103, 111, 111, 103, 108, 101,  97, 112,\n          105, 115,  46,  99, 111, 109,  26,  32,  10,   7, 115, 101,\n          114, 118, 105,  99, 101,  18,  21, 115, 112, 101, 101,  99,\n          104,  46, 103, 111, 111, 103, 108, 101,  97, 112, 105, 115,\n           46,  99, 111, 109,  26,  49,  10,   6, 109, 101, 116, 104,\n          111, 100,  18,  39, 103, 111, 111, 103, 108, 101,  46,  99,\n          108, 111, 117, 100,\n          ... 27 more items\n        ]\n      ],\n      'grpc-status-details-bin' => [\n        Buffer(222) [Uint8Array] [\n            8,   3,  18,  44,  73, 110, 118,  97, 108, 105, 100,  32,\n          114, 101, 115, 111, 117, 114,  99, 101,  32, 102, 105, 101,\n          108, 100,  32, 118,  97, 108, 117, 101,  32, 105, 110,  32,\n          116, 104, 101,  32, 114, 101, 113, 117, 101, 115, 116,  46,\n           26, 171,   1,  10,  40, 116, 121, 112, 101,  46, 103, 111,\n          111, 103, 108, 101,  97, 112, 105, 115,  46,  99, 111, 109,\n           47, 103, 111, 111, 103, 108, 101,  46, 114, 112,  99,  46,\n           69, 114, 114, 111, 114,  73, 110, 102, 111,  18, 127,  10,\n           24,  82,  69,  83,\n          ... 122 more items\n        ]\n      ]\n    },\n    options: {}\n  },\n  note: 'Exception occurred in retry method that was not classified as transient',\n  statusDetails: [\n    ErrorInfo {\n      metadata: {\n        service: 'speech.googleapis.com',\n        method: 'google.cloud.speech.v2.Speech.Recognize'\n      },\n      reason: 'RESOURCE_PROJECT_INVALID',\n      domain: 'googleapis.com'\n    }\n  ],\n  reason: 'RESOURCE_PROJECT_INVALID',\n  domain: 'googleapis.com',\n  errorInfoMetadata: {\n    service: 'speech.googleapis.com',\n    method: 'google.cloud.speech.v2.Speech.Recognize'\n  }\n}\n\nThis is after I seted a project for quota purposes (using gcloud auth application-default set-quota-project $PROJECT_ID in the terminal).\nI also did the same steps through the gcloud CLI (on Windows) and it returned the same error.\nIs there something I forgot to do? Or something in the code is wrong? Maybe it's something to do with the fact that I'm working with version 2 of the API and the code is optimized to work only with version 1 of the API?\nMany thanks in advance!\nThe reusable Node.js code (I made some changes from the original code of the tutorial after encountering errors, and I also changed the way to get the data of the audio file after I couldn't get it from the uri of the bucket, as is customary in GCP):\nconst speech = require('@google-cloud/speech').v2;\nconst https = require('https');\n\nconst client = new speech.SpeechClient();\nconst projectId = '<ProjectId>';\nvar recognizerName;\n\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId: 'en123',\n    recognizer: {\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function getUrlData(url) {\n  return new Promise((resolve) => {\n      https.get(url, response => {\n          var body = '';\n          var i = 0;\n          response.on('data', chunk => {\n              i++;\n              body += chunk;\n          });\n          response.on('end', () => {\n              resolve(Buffer.from(body).toString('base64'));\n          });\n      });\n  });\n}\n\nasync function transcribeFile() {\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nUpdate:\nAfter looking at the (asker's) code in this question, I realized that I got confused in the definition of recognizerName and used only the string of the recognizerId instead of using the full path of the recognizer (projects/${projectId}/locations/global/recognizers/${recognizerId}), so currently my code looks like this:\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\n// ...\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nBut now I get another error:\nError: 3 INVALID_ARGUMENT: Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.',\n  metadata: Metadata { internalRepr: Map(0) {}, options: {} },\n  note: 'Exception occurred in retry method that was not classified as transient'\n}\n\n",
        "Answer": "I managed to solve it!\nThe error Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters occurs when the requested file is in a format without Codec (in this case .raw) and therefore the Speech to Text API does not know how to encode it.\nTo solve this I had to pass an explicitDecodingConfig object when creating the recognizer (within the defaultRecognitionConfig property) or later in the transcriptionRequest (within the config property).\nconst speech = require('@google-cloud/speech').v2;\n\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\n\nconst client = new speech.SpeechClient();\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId,\n    recognizer: {\n      defaultRecognitionConfig: {\n        explicitDecodingConfig: {\n          encoding: 'LINEAR16',\n          sampleRateHertz: 16000,\n          audioChannelCount: 1\n        }\n      },\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  const recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const gcsUri = 'gs://cloud-samples-data/speech/brooklyn_bridge.raw';\n\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    uri: gcsUri,\n    config: {\n      explicitDecodingConfig: {   // If you didn't set explicitDecodingConfig when creating the recognizer, you have to set it here.\n        encoding: 'LINEAR16',\n        sampleRateHertz: 16000,\n        audioChannelCount: 1\n      }\n    },\n  }\n\n  const response = await client.recognize(transcriptionRequest);\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\n(async function main() {\n  await createRecognizer();\n  await transcribeFile();\n})();\n\n",
        "Source": "https://stackoverflow.com/questions/77940391/how-to-implement-speech-recognition-with-the-google-cloud-speech-to-text-api-usi"
    },
    {
        "Title": "Updating AWS credentials",
        "Question": "I need advice on how I can update AWS credentials after they expire.\nI'm creating a bean of AmazonSimpleEmailService this way:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new AWSStaticCredentialsProvider(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                        .getCredentials())\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\nBut when I'm trying to use it I'm getting an error:\nThe security token included in the request is expired (Service: AmazonSimpleEmailService; Status Code: 403; Error Code: ExpiredToken\nIf I create an instance of the SES client right before each mail sending - it works correctly, but it looks like a bad practice to create a new instance before each use.\nI understand that the issue with the credentials that I'm getting via STSAssumeRoleSessionCredentialsProvider - they just have an expiration time.\nI am wondering if there should be a way to automatically update the credentials when they are going to expire, so I'd really appreciate any advice on how to do it.\n",
        "Answer": "STSAssumeRoleSessionCredentialsProvider will auto-refresh the credentials, but you are blocking that functionality by getting a single set of credentials and passing them into a AWSStaticCredentialsProvider instance.\nThis should allow you to use the auto-refresh of the STS Provider:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\n",
        "Source": "https://stackoverflow.com/questions/77921630/updating-aws-credentials"
    },
    {
        "Title": "Reading credentials from another file doesn&#39;t work in Python",
        "Question": "I created a Python file called pw.py where I store my username and password.\nThe content of pw.py is as follows:\nusername = \"username1\"\npassword = \"pswrd2\"\n\nTo access these credentials from another file called ProducerReddit.ipynb, I do the following:\nfrom pw import password, username\n\nHowever, when I try to print password and username, they are always empty.\nThe two files are inside the same folder.\nWhat I am doing wrong?\n",
        "Answer": "I recommend you to check do you have a __init__.py file in the your top folder.\nIf you don't have please create this __init__.py module.\nThen try to use absolute import path.\nFor example you have top directorty with this structure:\ntop_directory:\n              __init__.py\n              pw.py\n              other_file.py\n\nyour import instructions in the other_file.py shoud be like this:\nfrom top_directory.pw import username, password\n\nI hope this may help you\n",
        "Source": "https://stackoverflow.com/questions/77786371/reading-credentials-from-another-file-doesnt-work-in-python"
    },
    {
        "Title": "Apache HTTP Client 5.3 ~ NTCredentials no longer working",
        "Question": "I have a project that uses org.apache.httpcomponents.client5:httpclient5. I recently tried upgrading from version 5.2.3 to version 5.3, only to realize that the authentication was no longer working in the new version.\nHere is how the relevant code looks:\n        BasicCredentialsProvider credentialsProvider =\n            new BasicCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(credentialsProvider)\n            .build();\n[...]\n            final HttpGet httpget = new HttpGet(targetUrl);\n\n            CloseableHttpResponse response = httpclient.execute(httpget);\n\n\nBefore the update from 5.2.3 to 5.3 this worked fine. However, when I use 5.3, I now get a 401 UNAUTHORIZED response.\nI also tried the following variations to above code to pass the credentials along, but they all also return only 401 UNAUTHORIZED:\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(CredentialsProviderBuilder.create()\n                .add(new HttpHost(host, port), username, password.toCharArray())\n                .build())\n            .build();\n\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new UsernamePasswordCredentials(username, password.toCharArray())\n        );\n\n        SystemDefaultCredentialsProvider credentialsProvider =\n            new SystemDefaultCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n\nNow I am stumped. Could this be a bug in 5.3? Or did something change to the way that the NTCredentialsProvider works? I could not find any release notes indicating so, and since this is only a minor version update that would surprise me.\nNonetheless, the fact it that it works with the old version but not with the new one. Does anyone has any suggestions as to what I can do about that?\n",
        "Answer": "We now managed to solve it by providing the httpclient with a default auth scheme registry like this:\n        Lookup<AuthSchemeFactory> authSchemeRegistry = RegistryBuilder.<AuthSchemeFactory>create()\n                .register(StandardAuthScheme.NTLM, new NTLMSchemeFactory()).build();\n\n        httpclient = HttpClients.custom()\n                .setDefaultCredentialsProvider(credentialsProvider)\n                .setDefaultRequestConfig(config)\n                .setDefaultAuthSchemeRegistry(authSchemeRegistry)\n                .build();\n\n",
        "Source": "https://stackoverflow.com/questions/77784888/apache-http-client-5-3-ntcredentials-no-longer-working"
    },
    {
        "Title": "Error on Google Sign In CredentialManager, using Jetpack Compose",
        "Question": "I am trying to create a Sign In with Google Button but everytime credentialManager.getCredential is called, it gives me :\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nI tried resetting the SHA-1 Fingerprint, I've created both web application and android in the google cloud credential, I've used both the web app client id and android client id. I'm lost, please help\n\nobject DeveloperScreen{\n\n    const val GOOGLE_WEB_CLIENT_ID = \"xxxxxxxxxh5n94bxxxxxxxxxxx1.apps.googleusercontent.com\"\n//    const val GOOGLE_WEB_CLIENT_SECRET = \"GxxxxxxxxCinwYDR8KQi3-wD9ugT311\"\n//    const val GOOGLE_ANDROID_CLIENT_ID = \"3xxxxxxx80-7ja1n9nknxxxxxxxxxxxxxxxxxxxens33k.apps.googleusercontent.com\"\n\n\n    private suspend fun googleSignIn(context : Context) {\n\n\n        val credentialManager = androidx.credentials.CredentialManager.create(context)\n\n        val googleIdOption: GetGoogleIdOption = GetGoogleIdOption.Builder()\n            .setFilterByAuthorizedAccounts(false)\n            .setServerClientId(GOOGLE_WEB_CLIENT_ID)\n            .build()\n\n        Log.i(\"auth-google-googleIdOption\", googleIdOption.toString())\n\n        val request: GetCredentialRequest = GetCredentialRequest.Builder()\n            .addCredentialOption(googleIdOption)\n            .build()\n\n        Log.i(\"auth-google-credentialRequest\", request.toString())\n\n\n        val result = credentialManager.getCredential(\n            request = request,\n            context = context,\n        )\n\n        Log.i(\"auth-google-result\", result.toString())\n\n\n\n\n\n    }\n\n\n\n    @Composable\n    public fun DeveloperScreen1(navController : NavHostController, context : Context){\n\n        var phoneNumber by rememberSaveable { mutableStateOf(\"\") }\n        var email by rememberSaveable { mutableStateOf(\"\")}\n        var otpCode by rememberSaveable { mutableStateOf(\"\") }\n\n        var useEmail by rememberSaveable { mutableStateOf(false)}\n\n        var message by rememberSaveable { mutableStateOf(\"\")}\n\n        val coroutineScope = rememberCoroutineScope()\n\n        Column {\n\n\n            var user : User? = getCurrentUser()\n\n            Text(\n                textAlign = TextAlign.Center,\n                fontSize = 5.em,\n                text = \"DEV SCREEN\",\n                modifier = Modifier\n                    .fillMaxWidth()\n                    .padding(top = 10.dp)\n\n            )\n\n            Text(\n                text = message,\n                color = Color.Black\n            )\n\n            Button(\n                onClick = {\n\n                    coroutineScope.launch {\n\n                        googleSignIn(context)\n\n                    }\n...\n\n\n\n\nvar screenHeight = 0.dp\nvar screenWidth = 0.dp\n\nvar authViewModel = AuthViewModel()\n\n\n\nclass MainActivity : ComponentActivity() {\n\n\n\n    @RequiresApi(Q)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n\n        Log.d(\"Initialize\", \"App Started\")\n\n        setContent {\n\n\n            var context: Context = LocalContext.current\n\n            Box(\n                Modifier\n                    .background(color = Color(0xFFBDC6CA))\n                    .safeDrawingPadding()\n            ) {\n                MetroFCTheme {\n                    MainContent(context)\n\n\n\n                }\n            }\n        }\n\n        actionBar?.hide()\n        WindowCompat.setDecorFitsSystemWindows(window, false)\n        if (Build.VERSION.SDK_INT < Build.VERSION_CODES.R) {\n            window.addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)\n        } else {\n            window.insetsController?.apply {\n//                hide(WindowInsetsAndroid.Type.statusBars())\n                systemBarsBehavior = WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\n            }\n        }\n\n    }\n\n\n}\n\n\n\n@RequiresApi(Q)\n@Composable\nfun MainContent(\n    context : Context\n){\n\n    var user by remember{ mutableStateOf<User?>(null) }\n\n    LaunchedEffect(key1 = user) {\n\n        refreshMenu()\n\n    }\n\n\n    LaunchedEffect(key1 = \"login\") {\n\n        user = loginAnonymously()\n        Log.d(\"DB-User\", \"USER LOGIN SUCCESSFUL : $user\")\n\n    }\n\n\n    Log.d(\"DB\", \"2.\" + user.toString())\n\n\n\n\n    Log.d(\"Initialize\",\"Database Connected\")\n\n    val configuration = LocalConfiguration.current\n    screenHeight = configuration.screenHeightDp.dp\n    screenWidth = configuration.screenWidthDp.dp\n\n    var onDashboard by remember {mutableStateOf(true)}\n    var onMenu = false\n    val updateStates = { dashboard: Boolean, menu: Boolean ->\n        onDashboard = dashboard\n        onMenu = menu\n    }\n\n    val navController = rememberNavController()\n\n\n    Scaffold(\n\n        bottomBar = {\n            if(authViewModel.isLoggedIn) NavigationBar(navController = navController, onDashboard, onMenu, updateStates)\n\n                    },\n        containerColor = MaterialTheme.colorScheme.background,\n        contentWindowInsets = WindowInsets(0.dp),\n        modifier = Modifier.fillMaxSize()\n\n    ) {\n    innerPadding ->\n\n        val scrollState = rememberScrollState()\n\n        val padding = innerPadding\n\n        NavHost(\n            navController = navController,\n            startDestination = if (authViewModel.isLoggedIn) Route.DEV_SCREEN else Route.DEV_SCREEN,\n            modifier = Modifier\n//                .verticalScroll(state = scrollState)\n                .fillMaxSize()\n        ) {\n\n            composable(route = Route.DEV_SCREEN){\n                DeveloperScreen1(navController, context)\n            }\n\n            composable(route = Route.DASHBOARD_SCREEN) {\n\n                authViewModel.login(user)\n                DashboardScreen()\n            }\n\n            composable(route = Route.MENU_SCREEN) {\n                authViewModel.login(user)\n                MenuScreen(user)\n            }\n        }\n    }\n}\n\nProcess: com.metrofriedchicken.metrofc, PID: 20630\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nat androidx.credentials.playservices.controllers.CredentialProviderBaseController$Companion.getCredentialExceptionTypeToException$credentials_play_services_auth_release(CredentialProviderBaseController.kt:110)\nat androidx.credentials.playservices.controllers.BeginSignIn.CredentialProviderBeginSignInController$resultReceiver$1$onReceiveResult$1.invoke(CredentialProviderBeginSignInController.kt:93)\nI've tried :\n\nDeleting Keystore and make a new one ( debug and release )\nUsed the web app client id and android client id\nChange device\nwaited a day\n\n",
        "Answer": "I am assuming you are currently integrating the Credential Manager in debug mode and testing your integration in an app directly installed from Android Studio to  your test device.\nIn this case you will need to configure the SHA1 key currently being used to sign your app, which is Android Studio's debug keystore.\nIn this case, you can get the SHA1 by running below command in Android Studio's terminal:\n./gradlew signingreport\n\nCopy the correct SHA1 fingerprint of correct Variant and Config from the terminal console and configure the same in cloud console for your app's Android OAuth2 client.\nIn order to keep the steps cleaner, I am mentioning them as below:\n\nCreate one Android OAuth2 client in cloud api console with you app's package name.\nUse the debug SHA1 key in this Android OAuth2 client creation as I mentioned above (in order to recognized this as debug client you can append the client name with debug as \"your-app-debug\")\nCreate one Web OAuth2 client in cloud api console. This will act as the server for your app\nCopy the ClientID of this Web client and use in setServerClientId(ServerClientID) in your integration.\n\nWith these simple steps alone, your integration should work fine.\nOptionally, as the next step,\n\nYou can create another Android OAuth2 client with release key's SHA1 fingerprint for production, and for recognizing this client, can give it a name \"Your-app-release\"\n\n",
        "Source": "https://stackoverflow.com/questions/78247578/error-on-google-sign-in-credentialmanager-using-jetpack-compose"
    },
    {
        "Title": "Access AWS Secrets Manager with IMDSv2 set to required",
        "Question": "I'm working on a Java application running on an EC2 instance in AWS. My goal is to access AWS Secrets Manager using an AWS SDK for Java and an IAM role attached to the EC2 instance.\nEverything works smoothly when IMDSv2 (Instance Metadata Service version 2) is optional. However, when it's set to required as recommended, I encounter an issue.\nSpecifically, I'm receiving the error 'software.amazon.awssdk.core.exception.SdkClientException: Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain'.\nHow can I resolve this issue and successfully access AWS Secrets Manager with IMDSv2 set to required?\nTried attaching different policies, created some custom ones but the result is same.\njava sdk version used:\n<dependency>\n     <groupId>software.amazon.awssdk</groupId>\n     <artifactId>secretsmanager</artifactId>\n     <version>2.25.7</version>\n</dependency>\n\n",
        "Answer": "I did some more research and was able to figure this out. There have been issues with IMDSv2 network request and what was suggested is to increase the hop limit to '2' on the ec2 instance. As said here in the considerations section as well https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-retrieval.html#imds-considerations\nTo increase the hop limit:\n\"Use the modify-instance-metadata-options CLI command and set the http-put-response-hop-limit parameter to the required number of hops. In the following example, the hop limit is set to 2. Note that when specifying a value for http-put-response-hop-limit, you must also set http-endpoint to enabled\"\nUsing aws cli:\naws ec2 modify-instance-metadata-options \\\n--instance-id <instance-id> \\\n--http-put-response-hop-limit 2 \\\n--http-endpoint enabled\n\n",
        "Source": "https://stackoverflow.com/questions/78183614/access-aws-secrets-manager-with-imdsv2-set-to-required"
    },
    {
        "Title": "Install a private package with credentials from requirements.txt",
        "Question": "I want to a private package via\n%pip install -r /dbfs/requirements.txt\n\nInside this requirements.txt is give:\ngit+https://<user>:$token@<gitprovider>.com/<path/to/repo>\n\nIf i give user and token inside the requirements.txt it works like a charm, but I want to pass user and token via dbutils.secrets. Is this doable without manipulating the requirements.txt before?\nI thought it would be possible to create environment variables, but this did not work for me.\n%env GIT_USERNAME= ...\n%env GIT_TOKEN= ...\n\n",
        "Answer": "The way is using python\n\nGetting information\nStore the information in a temporary file so that its details will not be found in the run log or records after running\nRun\n\nimport dbutils\n\nusername = dbutils.secrets.get(scope=\"your_scope\", key=\"git_username\")\ntoken = dbutils.secrets.get(scope=\"your_scope\", key=\"git_token\")\n\nrepo_url = f\"git+https://{username}:{token}@gitprovider.com/path/to/repo\"\n\nrequirements_path = \"/dbfs/tmp/requirements.txt\"\n\nwith open(requirements_path, \"w\") as file:\n    file.write(repo_url + \"\\n\")\n\ndbutils.notebook.run(\"%pip install -r \" + requirements_path, 60)\n\n",
        "Source": "https://stackoverflow.com/questions/78140635/install-a-private-package-with-credentials-from-requirements-txt"
    },
    {
        "Title": "PayPal bearer resets after x amount of seconds",
        "Question": "I\u2019m using PayPal refund api. The api docs says the bearer token that I am using will reset after x amount of seconds.\nLink to where it says access token resets:\nhttps://developer.paypal.com/reference/get-an-access-token/\nIn my case my token resets after 9 hours. I am using this token to refund purchases which will happen all the time. Is there an alternate solution from Bearer <Access-Token> that doesn\u2019t include a reset token? I haven\u2019t been able to find one other than the Basic <client_id>:<secret> which includes client credentials which doesn\u2019t seem to work. And yes the credentials are correct.\nLink to api:\nhttps://developer.paypal.com/docs/api/payments/v2/#captures_refund\n",
        "Answer": "Basic client_id:secret, where the string client_id:secret is Base64 encoded, is the header value for HTTP Basic Authentication. This is used to obtain an access token from the oauth2 token endpoint.\nAccess tokens expire after 9 hours, beyond which a new one must be obtained. These are required for all PayPal REST API operations, including refunds.\n",
        "Source": "https://stackoverflow.com/questions/78109044/paypal-bearer-resets-after-x-amount-of-seconds"
    },
    {
        "Title": "How to store MySQL credentials in python project, that users not only from my pc will use later?",
        "Question": "I have the following code:\nclass Server:\n    def __init__(self):\n        #server credentials\n        self.ip = \"192.168.1.182\"\n        self.user = \"bank_user\"\n        self.password = \"*mypass*\"\n        self.port = 3307\n        self.database = \"bank\"\n    def connect_to_server(self):\n        try:\n            self.mydb = mysql.connector.connect(\n                host = self.ip,\n                user = self.user,\n                password = self.password,\n                port = self.port,\n                database = self.database\n                )\n            self.mycursor = self.mydb.cursor()\n            print(\"\u2713 Server connection estabilished\")\n            rlist = [True]\n\nThe problem is, I don't want to store it in my code because I feel that it's not safe\nI'm creating a banking app (just for fun) so it will be used as .py->.exe later by users not only from my pc. I shouldn't be stored in a config file or a plaintext file, because if someone gets the credentials he can basically log into the MySQL database and modify all of the data.\nSo no:\n\nEnviromental variables\nPlaintext/ config file\nIt should work on any pc (I'm using pytoexe to convert my python file to exe, so that everyone can run the app)\nI'm new to stackoverflow so forgive me if I wrote sth wrong\n\nI thought about creating a password encryption, but anyone who gets the decryption key can decrypt the password. I also thought about creating my own encryption method, but anyone who gets to my code can just use the decrypting function and execute it for example: decryptor(\"encryptedpassword\")\n",
        "Answer": "Right, anyone who gets your code can extract the MySQL password and connect using any other client. They can do any SQL query according to the privileges you granted that MySQL user.\nEven if you compile using pytoexe, a skilled person could use a debugger or simply the strings tool to extract the password.\nIf you encrypt, they can decrypt. If you try to invent your own encryption algorithm, assume they can decrypt it more easily. I assume you are not an accomplished Ph.D. in applied cryptography, so any novel encryption method you think of will surely be easier to crack than state of the art encryption tools.\nThere are two common methods to solve this problem:\n\nDon't give them the MySQL password. The application you give them has no MySQL connection. The application makes HTTP requests to a web service that you develop. The code in your web service implements specific SQL they can execute. This is where you enforce business rules about what they can access. This is by far the most popular solution.\n\nGive them the MySQL password, but restrict the SQL they can execute. Privileges alone only give you limited control, so you need to create a layer of stored routines and views in the MySQL database. They should be able to access the stored routines and views, but the user cannot access the underlying tables. The routines and views have privileges to do that. Therefore the users can only do what you have allowed them to do in those routines and views.\n\n\nThere could also be a solution using a proxy such as ProxySQL. This would involve writing filters in the proxy so clients would not be allowed to run queries except those you want them to run. The advantage would be that the client application thinks it's connecting to a MySQL Server, but it's really connecting to the proxy. But I think it would be easier to write a web service than to write a whole application's business logic in a proxy.\nI suppose one could also use MySQL's query rewrite plugin to do something similar, but I've never seen anyone do that successfully.\n",
        "Source": "https://stackoverflow.com/questions/78089675/how-to-store-mysql-credentials-in-python-project-that-users-not-only-from-my-pc"
    },
    {
        "Title": "Setup access.ini file permession so it can be read by php script",
        "Question": "I'm really new to this so sorry if this isn't clear.\nI'm trying to hide my database credentials using an access.ini  file.\nI have a AWS instance, with my scripts located in /bitnami/joomla/index (in short I have an html page that display data using a php file that queries a postgresql db). I've tried creating a new directory /bitnami/joomla/config where I placed the access.ini  file. However, my php script can't read it due to permission issues (I guess).\nThe owner/group for the files in /bitnami/joomla/index are bitnami bitnami.\nAnd the owner/group and permissions for the folder /bitnami/joomla/config and its file are :\nbitnami bitnami\ndrwx--x--x\nIs my setup completly wrong, or is the issue easy to solve ?\n",
        "Answer": "Instead of using an access.ini file, consider using environment variables to store sensitive credentials.\nPHP can read environment variables easily.\nAdditional details can be found here.\n",
        "Source": "https://stackoverflow.com/questions/78035277/setup-access-ini-file-permession-so-it-can-be-read-by-php-script"
    },
    {
        "Title": "How to set an &quot;environment&quot; in a non-trivial way using expression?",
        "Question": "I have a GitHub Actions workflow which deploys some things to an environment. The workflow needs to log in to access the environment, so we use GitHub environment secrets to store credentials.\nMy workflow contains this:\non:\n  workflow_dispatch:\n    inputs:\n      deployment_target:\n        type: choice\n        description: Choose an environment to deploy to\n        options:\n          - dev\n          - staging\n          - production\n          - benchmarks\n...\njobs:\n  deploy-to-persistent-environment:\n    environment: ${{ github.event.inputs.deployment_target}}\n    steps: \n      - name: Login # Pseudocode\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy # Pseudocode\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nThe \"benchmarks\" environment uses the same credentials as the \"development\" environment. So I would like to re-use the same GitHub environment secrets rather than have two sets of duplicate environment secrets in GitHub.\nI.e., I would like to do something like this pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ if github.event.inputs.deployment_target == 'benchmarks' then 'development' else github.event.inputs.deployment_target }}\n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nIs there any way to achieve this with GitHub Actions?\n",
        "Answer": "There is a way to do it directly in the expression, according to this reference on the Github Community, by using the syntax ${{ x && 'ifTrue' || 'ifFalse'  }}\nIn that case:\n\nif the condition x is True, the first argument will be used.\nif the condition x is False, the second argument will be used.\n\nIn our case here, it would look like this:\nenvironment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}\n\nWhere:\n\nif github.event.inputs.deployment_target == 'benchmarks' is True, development will be used as environment.\n\nif github.event.inputs.deployment_target == 'benchmarks' is False, github.event.inputs.deployment_target will be used as environment.\n\n\nUpdating the pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}   \n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nEDIT: This is now available on the GitHub official doc as well (Thanks Benjamin W for reporting)\n",
        "Source": "https://stackoverflow.com/questions/77959880/how-to-set-an-environment-in-a-non-trivial-way-using-expression"
    },
    {
        "Title": "How to implement speech recognition with the Google Cloud Speech-to-Text API using Node.js?",
        "Question": "I am new to Google Cloud,\nI recently created a project with Speech-to-Text API.\nAfter creating the project and linking it to a billing account, I accessed the Node.js in-console tutorial for a quick start.\nAfter following all the steps in the in-console tutorial (and dealing with some mistakes in the code in the tutorial itself), and running the code, I got the following error:\nnode:internal/process/promises:289\n            triggerUncaughtException(err, true /* fromPromise */);\n            ^\n\nError: 3 INVALID_ARGUMENT: Invalid resource field value in the request.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Invalid resource field value in the request.',\n  metadata: Metadata {\n    internalRepr: Map(2) {\n      'google.rpc.errorinfo-bin' => [\n        Buffer(127) [Uint8Array] [\n           10,  24,  82,  69,  83,  79,  85,  82,  67,  69,  95,  80,\n           82,  79,  74,  69,  67,  84,  95,  73,  78,  86,  65,  76,\n           73,  68,  18,  14, 103, 111, 111, 103, 108, 101,  97, 112,\n          105, 115,  46,  99, 111, 109,  26,  32,  10,   7, 115, 101,\n          114, 118, 105,  99, 101,  18,  21, 115, 112, 101, 101,  99,\n          104,  46, 103, 111, 111, 103, 108, 101,  97, 112, 105, 115,\n           46,  99, 111, 109,  26,  49,  10,   6, 109, 101, 116, 104,\n          111, 100,  18,  39, 103, 111, 111, 103, 108, 101,  46,  99,\n          108, 111, 117, 100,\n          ... 27 more items\n        ]\n      ],\n      'grpc-status-details-bin' => [\n        Buffer(222) [Uint8Array] [\n            8,   3,  18,  44,  73, 110, 118,  97, 108, 105, 100,  32,\n          114, 101, 115, 111, 117, 114,  99, 101,  32, 102, 105, 101,\n          108, 100,  32, 118,  97, 108, 117, 101,  32, 105, 110,  32,\n          116, 104, 101,  32, 114, 101, 113, 117, 101, 115, 116,  46,\n           26, 171,   1,  10,  40, 116, 121, 112, 101,  46, 103, 111,\n          111, 103, 108, 101,  97, 112, 105, 115,  46,  99, 111, 109,\n           47, 103, 111, 111, 103, 108, 101,  46, 114, 112,  99,  46,\n           69, 114, 114, 111, 114,  73, 110, 102, 111,  18, 127,  10,\n           24,  82,  69,  83,\n          ... 122 more items\n        ]\n      ]\n    },\n    options: {}\n  },\n  note: 'Exception occurred in retry method that was not classified as transient',\n  statusDetails: [\n    ErrorInfo {\n      metadata: {\n        service: 'speech.googleapis.com',\n        method: 'google.cloud.speech.v2.Speech.Recognize'\n      },\n      reason: 'RESOURCE_PROJECT_INVALID',\n      domain: 'googleapis.com'\n    }\n  ],\n  reason: 'RESOURCE_PROJECT_INVALID',\n  domain: 'googleapis.com',\n  errorInfoMetadata: {\n    service: 'speech.googleapis.com',\n    method: 'google.cloud.speech.v2.Speech.Recognize'\n  }\n}\n\nThis is after I seted a project for quota purposes (using gcloud auth application-default set-quota-project $PROJECT_ID in the terminal).\nI also did the same steps through the gcloud CLI (on Windows) and it returned the same error.\nIs there something I forgot to do? Or something in the code is wrong? Maybe it's something to do with the fact that I'm working with version 2 of the API and the code is optimized to work only with version 1 of the API?\nMany thanks in advance!\nThe reusable Node.js code (I made some changes from the original code of the tutorial after encountering errors, and I also changed the way to get the data of the audio file after I couldn't get it from the uri of the bucket, as is customary in GCP):\nconst speech = require('@google-cloud/speech').v2;\nconst https = require('https');\n\nconst client = new speech.SpeechClient();\nconst projectId = '<ProjectId>';\nvar recognizerName;\n\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId: 'en123',\n    recognizer: {\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function getUrlData(url) {\n  return new Promise((resolve) => {\n      https.get(url, response => {\n          var body = '';\n          var i = 0;\n          response.on('data', chunk => {\n              i++;\n              body += chunk;\n          });\n          response.on('end', () => {\n              resolve(Buffer.from(body).toString('base64'));\n          });\n      });\n  });\n}\n\nasync function transcribeFile() {\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nUpdate:\nAfter looking at the (asker's) code in this question, I realized that I got confused in the definition of recognizerName and used only the string of the recognizerId instead of using the full path of the recognizer (projects/${projectId}/locations/global/recognizers/${recognizerId}), so currently my code looks like this:\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\n// ...\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nBut now I get another error:\nError: 3 INVALID_ARGUMENT: Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.',\n  metadata: Metadata { internalRepr: Map(0) {}, options: {} },\n  note: 'Exception occurred in retry method that was not classified as transient'\n}\n\n",
        "Answer": "I managed to solve it!\nThe error Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters occurs when the requested file is in a format without Codec (in this case .raw) and therefore the Speech to Text API does not know how to encode it.\nTo solve this I had to pass an explicitDecodingConfig object when creating the recognizer (within the defaultRecognitionConfig property) or later in the transcriptionRequest (within the config property).\nconst speech = require('@google-cloud/speech').v2;\n\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\n\nconst client = new speech.SpeechClient();\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId,\n    recognizer: {\n      defaultRecognitionConfig: {\n        explicitDecodingConfig: {\n          encoding: 'LINEAR16',\n          sampleRateHertz: 16000,\n          audioChannelCount: 1\n        }\n      },\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  const recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const gcsUri = 'gs://cloud-samples-data/speech/brooklyn_bridge.raw';\n\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    uri: gcsUri,\n    config: {\n      explicitDecodingConfig: {   // If you didn't set explicitDecodingConfig when creating the recognizer, you have to set it here.\n        encoding: 'LINEAR16',\n        sampleRateHertz: 16000,\n        audioChannelCount: 1\n      }\n    },\n  }\n\n  const response = await client.recognize(transcriptionRequest);\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\n(async function main() {\n  await createRecognizer();\n  await transcribeFile();\n})();\n\n",
        "Source": "https://stackoverflow.com/questions/77940391/how-to-implement-speech-recognition-with-the-google-cloud-speech-to-text-api-usi"
    },
    {
        "Title": "Updating AWS credentials",
        "Question": "I need advice on how I can update AWS credentials after they expire.\nI'm creating a bean of AmazonSimpleEmailService this way:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new AWSStaticCredentialsProvider(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                        .getCredentials())\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\nBut when I'm trying to use it I'm getting an error:\nThe security token included in the request is expired (Service: AmazonSimpleEmailService; Status Code: 403; Error Code: ExpiredToken\nIf I create an instance of the SES client right before each mail sending - it works correctly, but it looks like a bad practice to create a new instance before each use.\nI understand that the issue with the credentials that I'm getting via STSAssumeRoleSessionCredentialsProvider - they just have an expiration time.\nI am wondering if there should be a way to automatically update the credentials when they are going to expire, so I'd really appreciate any advice on how to do it.\n",
        "Answer": "STSAssumeRoleSessionCredentialsProvider will auto-refresh the credentials, but you are blocking that functionality by getting a single set of credentials and passing them into a AWSStaticCredentialsProvider instance.\nThis should allow you to use the auto-refresh of the STS Provider:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\n",
        "Source": "https://stackoverflow.com/questions/77921630/updating-aws-credentials"
    },
    {
        "Title": "Reading credentials from another file doesn&#39;t work in Python",
        "Question": "I created a Python file called pw.py where I store my username and password.\nThe content of pw.py is as follows:\nusername = \"username1\"\npassword = \"pswrd2\"\n\nTo access these credentials from another file called ProducerReddit.ipynb, I do the following:\nfrom pw import password, username\n\nHowever, when I try to print password and username, they are always empty.\nThe two files are inside the same folder.\nWhat I am doing wrong?\n",
        "Answer": "I recommend you to check do you have a __init__.py file in the your top folder.\nIf you don't have please create this __init__.py module.\nThen try to use absolute import path.\nFor example you have top directorty with this structure:\ntop_directory:\n              __init__.py\n              pw.py\n              other_file.py\n\nyour import instructions in the other_file.py shoud be like this:\nfrom top_directory.pw import username, password\n\nI hope this may help you\n",
        "Source": "https://stackoverflow.com/questions/77786371/reading-credentials-from-another-file-doesnt-work-in-python"
    },
    {
        "Title": "Apache HTTP Client 5.3 ~ NTCredentials no longer working",
        "Question": "I have a project that uses org.apache.httpcomponents.client5:httpclient5. I recently tried upgrading from version 5.2.3 to version 5.3, only to realize that the authentication was no longer working in the new version.\nHere is how the relevant code looks:\n        BasicCredentialsProvider credentialsProvider =\n            new BasicCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(credentialsProvider)\n            .build();\n[...]\n            final HttpGet httpget = new HttpGet(targetUrl);\n\n            CloseableHttpResponse response = httpclient.execute(httpget);\n\n\nBefore the update from 5.2.3 to 5.3 this worked fine. However, when I use 5.3, I now get a 401 UNAUTHORIZED response.\nI also tried the following variations to above code to pass the credentials along, but they all also return only 401 UNAUTHORIZED:\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(CredentialsProviderBuilder.create()\n                .add(new HttpHost(host, port), username, password.toCharArray())\n                .build())\n            .build();\n\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new UsernamePasswordCredentials(username, password.toCharArray())\n        );\n\n        SystemDefaultCredentialsProvider credentialsProvider =\n            new SystemDefaultCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n\nNow I am stumped. Could this be a bug in 5.3? Or did something change to the way that the NTCredentialsProvider works? I could not find any release notes indicating so, and since this is only a minor version update that would surprise me.\nNonetheless, the fact it that it works with the old version but not with the new one. Does anyone has any suggestions as to what I can do about that?\n",
        "Answer": "We now managed to solve it by providing the httpclient with a default auth scheme registry like this:\n        Lookup<AuthSchemeFactory> authSchemeRegistry = RegistryBuilder.<AuthSchemeFactory>create()\n                .register(StandardAuthScheme.NTLM, new NTLMSchemeFactory()).build();\n\n        httpclient = HttpClients.custom()\n                .setDefaultCredentialsProvider(credentialsProvider)\n                .setDefaultRequestConfig(config)\n                .setDefaultAuthSchemeRegistry(authSchemeRegistry)\n                .build();\n\n",
        "Source": "https://stackoverflow.com/questions/77784888/apache-http-client-5-3-ntcredentials-no-longer-working"
    },
    {
        "Title": "Error on Google Sign In CredentialManager, using Jetpack Compose",
        "Question": "I am trying to create a Sign In with Google Button but everytime credentialManager.getCredential is called, it gives me :\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nI tried resetting the SHA-1 Fingerprint, I've created both web application and android in the google cloud credential, I've used both the web app client id and android client id. I'm lost, please help\n\nobject DeveloperScreen{\n\n    const val GOOGLE_WEB_CLIENT_ID = \"xxxxxxxxxh5n94bxxxxxxxxxxx1.apps.googleusercontent.com\"\n//    const val GOOGLE_WEB_CLIENT_SECRET = \"GxxxxxxxxCinwYDR8KQi3-wD9ugT311\"\n//    const val GOOGLE_ANDROID_CLIENT_ID = \"3xxxxxxx80-7ja1n9nknxxxxxxxxxxxxxxxxxxxens33k.apps.googleusercontent.com\"\n\n\n    private suspend fun googleSignIn(context : Context) {\n\n\n        val credentialManager = androidx.credentials.CredentialManager.create(context)\n\n        val googleIdOption: GetGoogleIdOption = GetGoogleIdOption.Builder()\n            .setFilterByAuthorizedAccounts(false)\n            .setServerClientId(GOOGLE_WEB_CLIENT_ID)\n            .build()\n\n        Log.i(\"auth-google-googleIdOption\", googleIdOption.toString())\n\n        val request: GetCredentialRequest = GetCredentialRequest.Builder()\n            .addCredentialOption(googleIdOption)\n            .build()\n\n        Log.i(\"auth-google-credentialRequest\", request.toString())\n\n\n        val result = credentialManager.getCredential(\n            request = request,\n            context = context,\n        )\n\n        Log.i(\"auth-google-result\", result.toString())\n\n\n\n\n\n    }\n\n\n\n    @Composable\n    public fun DeveloperScreen1(navController : NavHostController, context : Context){\n\n        var phoneNumber by rememberSaveable { mutableStateOf(\"\") }\n        var email by rememberSaveable { mutableStateOf(\"\")}\n        var otpCode by rememberSaveable { mutableStateOf(\"\") }\n\n        var useEmail by rememberSaveable { mutableStateOf(false)}\n\n        var message by rememberSaveable { mutableStateOf(\"\")}\n\n        val coroutineScope = rememberCoroutineScope()\n\n        Column {\n\n\n            var user : User? = getCurrentUser()\n\n            Text(\n                textAlign = TextAlign.Center,\n                fontSize = 5.em,\n                text = \"DEV SCREEN\",\n                modifier = Modifier\n                    .fillMaxWidth()\n                    .padding(top = 10.dp)\n\n            )\n\n            Text(\n                text = message,\n                color = Color.Black\n            )\n\n            Button(\n                onClick = {\n\n                    coroutineScope.launch {\n\n                        googleSignIn(context)\n\n                    }\n...\n\n\n\n\nvar screenHeight = 0.dp\nvar screenWidth = 0.dp\n\nvar authViewModel = AuthViewModel()\n\n\n\nclass MainActivity : ComponentActivity() {\n\n\n\n    @RequiresApi(Q)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n\n        Log.d(\"Initialize\", \"App Started\")\n\n        setContent {\n\n\n            var context: Context = LocalContext.current\n\n            Box(\n                Modifier\n                    .background(color = Color(0xFFBDC6CA))\n                    .safeDrawingPadding()\n            ) {\n                MetroFCTheme {\n                    MainContent(context)\n\n\n\n                }\n            }\n        }\n\n        actionBar?.hide()\n        WindowCompat.setDecorFitsSystemWindows(window, false)\n        if (Build.VERSION.SDK_INT < Build.VERSION_CODES.R) {\n            window.addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)\n        } else {\n            window.insetsController?.apply {\n//                hide(WindowInsetsAndroid.Type.statusBars())\n                systemBarsBehavior = WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\n            }\n        }\n\n    }\n\n\n}\n\n\n\n@RequiresApi(Q)\n@Composable\nfun MainContent(\n    context : Context\n){\n\n    var user by remember{ mutableStateOf<User?>(null) }\n\n    LaunchedEffect(key1 = user) {\n\n        refreshMenu()\n\n    }\n\n\n    LaunchedEffect(key1 = \"login\") {\n\n        user = loginAnonymously()\n        Log.d(\"DB-User\", \"USER LOGIN SUCCESSFUL : $user\")\n\n    }\n\n\n    Log.d(\"DB\", \"2.\" + user.toString())\n\n\n\n\n    Log.d(\"Initialize\",\"Database Connected\")\n\n    val configuration = LocalConfiguration.current\n    screenHeight = configuration.screenHeightDp.dp\n    screenWidth = configuration.screenWidthDp.dp\n\n    var onDashboard by remember {mutableStateOf(true)}\n    var onMenu = false\n    val updateStates = { dashboard: Boolean, menu: Boolean ->\n        onDashboard = dashboard\n        onMenu = menu\n    }\n\n    val navController = rememberNavController()\n\n\n    Scaffold(\n\n        bottomBar = {\n            if(authViewModel.isLoggedIn) NavigationBar(navController = navController, onDashboard, onMenu, updateStates)\n\n                    },\n        containerColor = MaterialTheme.colorScheme.background,\n        contentWindowInsets = WindowInsets(0.dp),\n        modifier = Modifier.fillMaxSize()\n\n    ) {\n    innerPadding ->\n\n        val scrollState = rememberScrollState()\n\n        val padding = innerPadding\n\n        NavHost(\n            navController = navController,\n            startDestination = if (authViewModel.isLoggedIn) Route.DEV_SCREEN else Route.DEV_SCREEN,\n            modifier = Modifier\n//                .verticalScroll(state = scrollState)\n                .fillMaxSize()\n        ) {\n\n            composable(route = Route.DEV_SCREEN){\n                DeveloperScreen1(navController, context)\n            }\n\n            composable(route = Route.DASHBOARD_SCREEN) {\n\n                authViewModel.login(user)\n                DashboardScreen()\n            }\n\n            composable(route = Route.MENU_SCREEN) {\n                authViewModel.login(user)\n                MenuScreen(user)\n            }\n        }\n    }\n}\n\nProcess: com.metrofriedchicken.metrofc, PID: 20630\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nat androidx.credentials.playservices.controllers.CredentialProviderBaseController$Companion.getCredentialExceptionTypeToException$credentials_play_services_auth_release(CredentialProviderBaseController.kt:110)\nat androidx.credentials.playservices.controllers.BeginSignIn.CredentialProviderBeginSignInController$resultReceiver$1$onReceiveResult$1.invoke(CredentialProviderBeginSignInController.kt:93)\nI've tried :\n\nDeleting Keystore and make a new one ( debug and release )\nUsed the web app client id and android client id\nChange device\nwaited a day\n\n",
        "Answer": "I am assuming you are currently integrating the Credential Manager in debug mode and testing your integration in an app directly installed from Android Studio to  your test device.\nIn this case you will need to configure the SHA1 key currently being used to sign your app, which is Android Studio's debug keystore.\nIn this case, you can get the SHA1 by running below command in Android Studio's terminal:\n./gradlew signingreport\n\nCopy the correct SHA1 fingerprint of correct Variant and Config from the terminal console and configure the same in cloud console for your app's Android OAuth2 client.\nIn order to keep the steps cleaner, I am mentioning them as below:\n\nCreate one Android OAuth2 client in cloud api console with you app's package name.\nUse the debug SHA1 key in this Android OAuth2 client creation as I mentioned above (in order to recognized this as debug client you can append the client name with debug as \"your-app-debug\")\nCreate one Web OAuth2 client in cloud api console. This will act as the server for your app\nCopy the ClientID of this Web client and use in setServerClientId(ServerClientID) in your integration.\n\nWith these simple steps alone, your integration should work fine.\nOptionally, as the next step,\n\nYou can create another Android OAuth2 client with release key's SHA1 fingerprint for production, and for recognizing this client, can give it a name \"Your-app-release\"\n\n",
        "Source": "https://stackoverflow.com/questions/78247578/error-on-google-sign-in-credentialmanager-using-jetpack-compose"
    },
    {
        "Title": "Access AWS Secrets Manager with IMDSv2 set to required",
        "Question": "I'm working on a Java application running on an EC2 instance in AWS. My goal is to access AWS Secrets Manager using an AWS SDK for Java and an IAM role attached to the EC2 instance.\nEverything works smoothly when IMDSv2 (Instance Metadata Service version 2) is optional. However, when it's set to required as recommended, I encounter an issue.\nSpecifically, I'm receiving the error 'software.amazon.awssdk.core.exception.SdkClientException: Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain'.\nHow can I resolve this issue and successfully access AWS Secrets Manager with IMDSv2 set to required?\nTried attaching different policies, created some custom ones but the result is same.\njava sdk version used:\n<dependency>\n     <groupId>software.amazon.awssdk</groupId>\n     <artifactId>secretsmanager</artifactId>\n     <version>2.25.7</version>\n</dependency>\n\n",
        "Answer": "I did some more research and was able to figure this out. There have been issues with IMDSv2 network request and what was suggested is to increase the hop limit to '2' on the ec2 instance. As said here in the considerations section as well https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-retrieval.html#imds-considerations\nTo increase the hop limit:\n\"Use the modify-instance-metadata-options CLI command and set the http-put-response-hop-limit parameter to the required number of hops. In the following example, the hop limit is set to 2. Note that when specifying a value for http-put-response-hop-limit, you must also set http-endpoint to enabled\"\nUsing aws cli:\naws ec2 modify-instance-metadata-options \\\n--instance-id <instance-id> \\\n--http-put-response-hop-limit 2 \\\n--http-endpoint enabled\n\n",
        "Source": "https://stackoverflow.com/questions/78183614/access-aws-secrets-manager-with-imdsv2-set-to-required"
    },
    {
        "Title": "Install a private package with credentials from requirements.txt",
        "Question": "I want to a private package via\n%pip install -r /dbfs/requirements.txt\n\nInside this requirements.txt is give:\ngit+https://<user>:$token@<gitprovider>.com/<path/to/repo>\n\nIf i give user and token inside the requirements.txt it works like a charm, but I want to pass user and token via dbutils.secrets. Is this doable without manipulating the requirements.txt before?\nI thought it would be possible to create environment variables, but this did not work for me.\n%env GIT_USERNAME= ...\n%env GIT_TOKEN= ...\n\n",
        "Answer": "The way is using python\n\nGetting information\nStore the information in a temporary file so that its details will not be found in the run log or records after running\nRun\n\nimport dbutils\n\nusername = dbutils.secrets.get(scope=\"your_scope\", key=\"git_username\")\ntoken = dbutils.secrets.get(scope=\"your_scope\", key=\"git_token\")\n\nrepo_url = f\"git+https://{username}:{token}@gitprovider.com/path/to/repo\"\n\nrequirements_path = \"/dbfs/tmp/requirements.txt\"\n\nwith open(requirements_path, \"w\") as file:\n    file.write(repo_url + \"\\n\")\n\ndbutils.notebook.run(\"%pip install -r \" + requirements_path, 60)\n\n",
        "Source": "https://stackoverflow.com/questions/78140635/install-a-private-package-with-credentials-from-requirements-txt"
    },
    {
        "Title": "PayPal bearer resets after x amount of seconds",
        "Question": "I\u2019m using PayPal refund api. The api docs says the bearer token that I am using will reset after x amount of seconds.\nLink to where it says access token resets:\nhttps://developer.paypal.com/reference/get-an-access-token/\nIn my case my token resets after 9 hours. I am using this token to refund purchases which will happen all the time. Is there an alternate solution from Bearer <Access-Token> that doesn\u2019t include a reset token? I haven\u2019t been able to find one other than the Basic <client_id>:<secret> which includes client credentials which doesn\u2019t seem to work. And yes the credentials are correct.\nLink to api:\nhttps://developer.paypal.com/docs/api/payments/v2/#captures_refund\n",
        "Answer": "Basic client_id:secret, where the string client_id:secret is Base64 encoded, is the header value for HTTP Basic Authentication. This is used to obtain an access token from the oauth2 token endpoint.\nAccess tokens expire after 9 hours, beyond which a new one must be obtained. These are required for all PayPal REST API operations, including refunds.\n",
        "Source": "https://stackoverflow.com/questions/78109044/paypal-bearer-resets-after-x-amount-of-seconds"
    },
    {
        "Title": "How to store MySQL credentials in python project, that users not only from my pc will use later?",
        "Question": "I have the following code:\nclass Server:\n    def __init__(self):\n        #server credentials\n        self.ip = \"192.168.1.182\"\n        self.user = \"bank_user\"\n        self.password = \"*mypass*\"\n        self.port = 3307\n        self.database = \"bank\"\n    def connect_to_server(self):\n        try:\n            self.mydb = mysql.connector.connect(\n                host = self.ip,\n                user = self.user,\n                password = self.password,\n                port = self.port,\n                database = self.database\n                )\n            self.mycursor = self.mydb.cursor()\n            print(\"\u2713 Server connection estabilished\")\n            rlist = [True]\n\nThe problem is, I don't want to store it in my code because I feel that it's not safe\nI'm creating a banking app (just for fun) so it will be used as .py->.exe later by users not only from my pc. I shouldn't be stored in a config file or a plaintext file, because if someone gets the credentials he can basically log into the MySQL database and modify all of the data.\nSo no:\n\nEnviromental variables\nPlaintext/ config file\nIt should work on any pc (I'm using pytoexe to convert my python file to exe, so that everyone can run the app)\nI'm new to stackoverflow so forgive me if I wrote sth wrong\n\nI thought about creating a password encryption, but anyone who gets the decryption key can decrypt the password. I also thought about creating my own encryption method, but anyone who gets to my code can just use the decrypting function and execute it for example: decryptor(\"encryptedpassword\")\n",
        "Answer": "Right, anyone who gets your code can extract the MySQL password and connect using any other client. They can do any SQL query according to the privileges you granted that MySQL user.\nEven if you compile using pytoexe, a skilled person could use a debugger or simply the strings tool to extract the password.\nIf you encrypt, they can decrypt. If you try to invent your own encryption algorithm, assume they can decrypt it more easily. I assume you are not an accomplished Ph.D. in applied cryptography, so any novel encryption method you think of will surely be easier to crack than state of the art encryption tools.\nThere are two common methods to solve this problem:\n\nDon't give them the MySQL password. The application you give them has no MySQL connection. The application makes HTTP requests to a web service that you develop. The code in your web service implements specific SQL they can execute. This is where you enforce business rules about what they can access. This is by far the most popular solution.\n\nGive them the MySQL password, but restrict the SQL they can execute. Privileges alone only give you limited control, so you need to create a layer of stored routines and views in the MySQL database. They should be able to access the stored routines and views, but the user cannot access the underlying tables. The routines and views have privileges to do that. Therefore the users can only do what you have allowed them to do in those routines and views.\n\n\nThere could also be a solution using a proxy such as ProxySQL. This would involve writing filters in the proxy so clients would not be allowed to run queries except those you want them to run. The advantage would be that the client application thinks it's connecting to a MySQL Server, but it's really connecting to the proxy. But I think it would be easier to write a web service than to write a whole application's business logic in a proxy.\nI suppose one could also use MySQL's query rewrite plugin to do something similar, but I've never seen anyone do that successfully.\n",
        "Source": "https://stackoverflow.com/questions/78089675/how-to-store-mysql-credentials-in-python-project-that-users-not-only-from-my-pc"
    },
    {
        "Title": "Setup access.ini file permession so it can be read by php script",
        "Question": "I'm really new to this so sorry if this isn't clear.\nI'm trying to hide my database credentials using an access.ini  file.\nI have a AWS instance, with my scripts located in /bitnami/joomla/index (in short I have an html page that display data using a php file that queries a postgresql db). I've tried creating a new directory /bitnami/joomla/config where I placed the access.ini  file. However, my php script can't read it due to permission issues (I guess).\nThe owner/group for the files in /bitnami/joomla/index are bitnami bitnami.\nAnd the owner/group and permissions for the folder /bitnami/joomla/config and its file are :\nbitnami bitnami\ndrwx--x--x\nIs my setup completly wrong, or is the issue easy to solve ?\n",
        "Answer": "Instead of using an access.ini file, consider using environment variables to store sensitive credentials.\nPHP can read environment variables easily.\nAdditional details can be found here.\n",
        "Source": "https://stackoverflow.com/questions/78035277/setup-access-ini-file-permession-so-it-can-be-read-by-php-script"
    },
    {
        "Title": "How to set an &quot;environment&quot; in a non-trivial way using expression?",
        "Question": "I have a GitHub Actions workflow which deploys some things to an environment. The workflow needs to log in to access the environment, so we use GitHub environment secrets to store credentials.\nMy workflow contains this:\non:\n  workflow_dispatch:\n    inputs:\n      deployment_target:\n        type: choice\n        description: Choose an environment to deploy to\n        options:\n          - dev\n          - staging\n          - production\n          - benchmarks\n...\njobs:\n  deploy-to-persistent-environment:\n    environment: ${{ github.event.inputs.deployment_target}}\n    steps: \n      - name: Login # Pseudocode\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy # Pseudocode\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nThe \"benchmarks\" environment uses the same credentials as the \"development\" environment. So I would like to re-use the same GitHub environment secrets rather than have two sets of duplicate environment secrets in GitHub.\nI.e., I would like to do something like this pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ if github.event.inputs.deployment_target == 'benchmarks' then 'development' else github.event.inputs.deployment_target }}\n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nIs there any way to achieve this with GitHub Actions?\n",
        "Answer": "There is a way to do it directly in the expression, according to this reference on the Github Community, by using the syntax ${{ x && 'ifTrue' || 'ifFalse'  }}\nIn that case:\n\nif the condition x is True, the first argument will be used.\nif the condition x is False, the second argument will be used.\n\nIn our case here, it would look like this:\nenvironment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}\n\nWhere:\n\nif github.event.inputs.deployment_target == 'benchmarks' is True, development will be used as environment.\n\nif github.event.inputs.deployment_target == 'benchmarks' is False, github.event.inputs.deployment_target will be used as environment.\n\n\nUpdating the pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}   \n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nEDIT: This is now available on the GitHub official doc as well (Thanks Benjamin W for reporting)\n",
        "Source": "https://stackoverflow.com/questions/77959880/how-to-set-an-environment-in-a-non-trivial-way-using-expression"
    },
    {
        "Title": "How to implement speech recognition with the Google Cloud Speech-to-Text API using Node.js?",
        "Question": "I am new to Google Cloud,\nI recently created a project with Speech-to-Text API.\nAfter creating the project and linking it to a billing account, I accessed the Node.js in-console tutorial for a quick start.\nAfter following all the steps in the in-console tutorial (and dealing with some mistakes in the code in the tutorial itself), and running the code, I got the following error:\nnode:internal/process/promises:289\n            triggerUncaughtException(err, true /* fromPromise */);\n            ^\n\nError: 3 INVALID_ARGUMENT: Invalid resource field value in the request.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Invalid resource field value in the request.',\n  metadata: Metadata {\n    internalRepr: Map(2) {\n      'google.rpc.errorinfo-bin' => [\n        Buffer(127) [Uint8Array] [\n           10,  24,  82,  69,  83,  79,  85,  82,  67,  69,  95,  80,\n           82,  79,  74,  69,  67,  84,  95,  73,  78,  86,  65,  76,\n           73,  68,  18,  14, 103, 111, 111, 103, 108, 101,  97, 112,\n          105, 115,  46,  99, 111, 109,  26,  32,  10,   7, 115, 101,\n          114, 118, 105,  99, 101,  18,  21, 115, 112, 101, 101,  99,\n          104,  46, 103, 111, 111, 103, 108, 101,  97, 112, 105, 115,\n           46,  99, 111, 109,  26,  49,  10,   6, 109, 101, 116, 104,\n          111, 100,  18,  39, 103, 111, 111, 103, 108, 101,  46,  99,\n          108, 111, 117, 100,\n          ... 27 more items\n        ]\n      ],\n      'grpc-status-details-bin' => [\n        Buffer(222) [Uint8Array] [\n            8,   3,  18,  44,  73, 110, 118,  97, 108, 105, 100,  32,\n          114, 101, 115, 111, 117, 114,  99, 101,  32, 102, 105, 101,\n          108, 100,  32, 118,  97, 108, 117, 101,  32, 105, 110,  32,\n          116, 104, 101,  32, 114, 101, 113, 117, 101, 115, 116,  46,\n           26, 171,   1,  10,  40, 116, 121, 112, 101,  46, 103, 111,\n          111, 103, 108, 101,  97, 112, 105, 115,  46,  99, 111, 109,\n           47, 103, 111, 111, 103, 108, 101,  46, 114, 112,  99,  46,\n           69, 114, 114, 111, 114,  73, 110, 102, 111,  18, 127,  10,\n           24,  82,  69,  83,\n          ... 122 more items\n        ]\n      ]\n    },\n    options: {}\n  },\n  note: 'Exception occurred in retry method that was not classified as transient',\n  statusDetails: [\n    ErrorInfo {\n      metadata: {\n        service: 'speech.googleapis.com',\n        method: 'google.cloud.speech.v2.Speech.Recognize'\n      },\n      reason: 'RESOURCE_PROJECT_INVALID',\n      domain: 'googleapis.com'\n    }\n  ],\n  reason: 'RESOURCE_PROJECT_INVALID',\n  domain: 'googleapis.com',\n  errorInfoMetadata: {\n    service: 'speech.googleapis.com',\n    method: 'google.cloud.speech.v2.Speech.Recognize'\n  }\n}\n\nThis is after I seted a project for quota purposes (using gcloud auth application-default set-quota-project $PROJECT_ID in the terminal).\nI also did the same steps through the gcloud CLI (on Windows) and it returned the same error.\nIs there something I forgot to do? Or something in the code is wrong? Maybe it's something to do with the fact that I'm working with version 2 of the API and the code is optimized to work only with version 1 of the API?\nMany thanks in advance!\nThe reusable Node.js code (I made some changes from the original code of the tutorial after encountering errors, and I also changed the way to get the data of the audio file after I couldn't get it from the uri of the bucket, as is customary in GCP):\nconst speech = require('@google-cloud/speech').v2;\nconst https = require('https');\n\nconst client = new speech.SpeechClient();\nconst projectId = '<ProjectId>';\nvar recognizerName;\n\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId: 'en123',\n    recognizer: {\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function getUrlData(url) {\n  return new Promise((resolve) => {\n      https.get(url, response => {\n          var body = '';\n          var i = 0;\n          response.on('data', chunk => {\n              i++;\n              body += chunk;\n          });\n          response.on('end', () => {\n              resolve(Buffer.from(body).toString('base64'));\n          });\n      });\n  });\n}\n\nasync function transcribeFile() {\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nUpdate:\nAfter looking at the (asker's) code in this question, I realized that I got confused in the definition of recognizerName and used only the string of the recognizerId instead of using the full path of the recognizer (projects/${projectId}/locations/global/recognizers/${recognizerId}), so currently my code looks like this:\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\n// ...\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nBut now I get another error:\nError: 3 INVALID_ARGUMENT: Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.',\n  metadata: Metadata { internalRepr: Map(0) {}, options: {} },\n  note: 'Exception occurred in retry method that was not classified as transient'\n}\n\n",
        "Answer": "I managed to solve it!\nThe error Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters occurs when the requested file is in a format without Codec (in this case .raw) and therefore the Speech to Text API does not know how to encode it.\nTo solve this I had to pass an explicitDecodingConfig object when creating the recognizer (within the defaultRecognitionConfig property) or later in the transcriptionRequest (within the config property).\nconst speech = require('@google-cloud/speech').v2;\n\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\n\nconst client = new speech.SpeechClient();\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId,\n    recognizer: {\n      defaultRecognitionConfig: {\n        explicitDecodingConfig: {\n          encoding: 'LINEAR16',\n          sampleRateHertz: 16000,\n          audioChannelCount: 1\n        }\n      },\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  const recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const gcsUri = 'gs://cloud-samples-data/speech/brooklyn_bridge.raw';\n\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    uri: gcsUri,\n    config: {\n      explicitDecodingConfig: {   // If you didn't set explicitDecodingConfig when creating the recognizer, you have to set it here.\n        encoding: 'LINEAR16',\n        sampleRateHertz: 16000,\n        audioChannelCount: 1\n      }\n    },\n  }\n\n  const response = await client.recognize(transcriptionRequest);\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\n(async function main() {\n  await createRecognizer();\n  await transcribeFile();\n})();\n\n",
        "Source": "https://stackoverflow.com/questions/77940391/how-to-implement-speech-recognition-with-the-google-cloud-speech-to-text-api-usi"
    },
    {
        "Title": "Updating AWS credentials",
        "Question": "I need advice on how I can update AWS credentials after they expire.\nI'm creating a bean of AmazonSimpleEmailService this way:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new AWSStaticCredentialsProvider(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                        .getCredentials())\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\nBut when I'm trying to use it I'm getting an error:\nThe security token included in the request is expired (Service: AmazonSimpleEmailService; Status Code: 403; Error Code: ExpiredToken\nIf I create an instance of the SES client right before each mail sending - it works correctly, but it looks like a bad practice to create a new instance before each use.\nI understand that the issue with the credentials that I'm getting via STSAssumeRoleSessionCredentialsProvider - they just have an expiration time.\nI am wondering if there should be a way to automatically update the credentials when they are going to expire, so I'd really appreciate any advice on how to do it.\n",
        "Answer": "STSAssumeRoleSessionCredentialsProvider will auto-refresh the credentials, but you are blocking that functionality by getting a single set of credentials and passing them into a AWSStaticCredentialsProvider instance.\nThis should allow you to use the auto-refresh of the STS Provider:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\n",
        "Source": "https://stackoverflow.com/questions/77921630/updating-aws-credentials"
    },
    {
        "Title": "Reading credentials from another file doesn&#39;t work in Python",
        "Question": "I created a Python file called pw.py where I store my username and password.\nThe content of pw.py is as follows:\nusername = \"username1\"\npassword = \"pswrd2\"\n\nTo access these credentials from another file called ProducerReddit.ipynb, I do the following:\nfrom pw import password, username\n\nHowever, when I try to print password and username, they are always empty.\nThe two files are inside the same folder.\nWhat I am doing wrong?\n",
        "Answer": "I recommend you to check do you have a __init__.py file in the your top folder.\nIf you don't have please create this __init__.py module.\nThen try to use absolute import path.\nFor example you have top directorty with this structure:\ntop_directory:\n              __init__.py\n              pw.py\n              other_file.py\n\nyour import instructions in the other_file.py shoud be like this:\nfrom top_directory.pw import username, password\n\nI hope this may help you\n",
        "Source": "https://stackoverflow.com/questions/77786371/reading-credentials-from-another-file-doesnt-work-in-python"
    },
    {
        "Title": "Apache HTTP Client 5.3 ~ NTCredentials no longer working",
        "Question": "I have a project that uses org.apache.httpcomponents.client5:httpclient5. I recently tried upgrading from version 5.2.3 to version 5.3, only to realize that the authentication was no longer working in the new version.\nHere is how the relevant code looks:\n        BasicCredentialsProvider credentialsProvider =\n            new BasicCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(credentialsProvider)\n            .build();\n[...]\n            final HttpGet httpget = new HttpGet(targetUrl);\n\n            CloseableHttpResponse response = httpclient.execute(httpget);\n\n\nBefore the update from 5.2.3 to 5.3 this worked fine. However, when I use 5.3, I now get a 401 UNAUTHORIZED response.\nI also tried the following variations to above code to pass the credentials along, but they all also return only 401 UNAUTHORIZED:\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(CredentialsProviderBuilder.create()\n                .add(new HttpHost(host, port), username, password.toCharArray())\n                .build())\n            .build();\n\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new UsernamePasswordCredentials(username, password.toCharArray())\n        );\n\n        SystemDefaultCredentialsProvider credentialsProvider =\n            new SystemDefaultCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n\nNow I am stumped. Could this be a bug in 5.3? Or did something change to the way that the NTCredentialsProvider works? I could not find any release notes indicating so, and since this is only a minor version update that would surprise me.\nNonetheless, the fact it that it works with the old version but not with the new one. Does anyone has any suggestions as to what I can do about that?\n",
        "Answer": "We now managed to solve it by providing the httpclient with a default auth scheme registry like this:\n        Lookup<AuthSchemeFactory> authSchemeRegistry = RegistryBuilder.<AuthSchemeFactory>create()\n                .register(StandardAuthScheme.NTLM, new NTLMSchemeFactory()).build();\n\n        httpclient = HttpClients.custom()\n                .setDefaultCredentialsProvider(credentialsProvider)\n                .setDefaultRequestConfig(config)\n                .setDefaultAuthSchemeRegistry(authSchemeRegistry)\n                .build();\n\n",
        "Source": "https://stackoverflow.com/questions/77784888/apache-http-client-5-3-ntcredentials-no-longer-working"
    },
    {
        "Title": "Error on Google Sign In CredentialManager, using Jetpack Compose",
        "Question": "I am trying to create a Sign In with Google Button but everytime credentialManager.getCredential is called, it gives me :\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nI tried resetting the SHA-1 Fingerprint, I've created both web application and android in the google cloud credential, I've used both the web app client id and android client id. I'm lost, please help\n\nobject DeveloperScreen{\n\n    const val GOOGLE_WEB_CLIENT_ID = \"xxxxxxxxxh5n94bxxxxxxxxxxx1.apps.googleusercontent.com\"\n//    const val GOOGLE_WEB_CLIENT_SECRET = \"GxxxxxxxxCinwYDR8KQi3-wD9ugT311\"\n//    const val GOOGLE_ANDROID_CLIENT_ID = \"3xxxxxxx80-7ja1n9nknxxxxxxxxxxxxxxxxxxxens33k.apps.googleusercontent.com\"\n\n\n    private suspend fun googleSignIn(context : Context) {\n\n\n        val credentialManager = androidx.credentials.CredentialManager.create(context)\n\n        val googleIdOption: GetGoogleIdOption = GetGoogleIdOption.Builder()\n            .setFilterByAuthorizedAccounts(false)\n            .setServerClientId(GOOGLE_WEB_CLIENT_ID)\n            .build()\n\n        Log.i(\"auth-google-googleIdOption\", googleIdOption.toString())\n\n        val request: GetCredentialRequest = GetCredentialRequest.Builder()\n            .addCredentialOption(googleIdOption)\n            .build()\n\n        Log.i(\"auth-google-credentialRequest\", request.toString())\n\n\n        val result = credentialManager.getCredential(\n            request = request,\n            context = context,\n        )\n\n        Log.i(\"auth-google-result\", result.toString())\n\n\n\n\n\n    }\n\n\n\n    @Composable\n    public fun DeveloperScreen1(navController : NavHostController, context : Context){\n\n        var phoneNumber by rememberSaveable { mutableStateOf(\"\") }\n        var email by rememberSaveable { mutableStateOf(\"\")}\n        var otpCode by rememberSaveable { mutableStateOf(\"\") }\n\n        var useEmail by rememberSaveable { mutableStateOf(false)}\n\n        var message by rememberSaveable { mutableStateOf(\"\")}\n\n        val coroutineScope = rememberCoroutineScope()\n\n        Column {\n\n\n            var user : User? = getCurrentUser()\n\n            Text(\n                textAlign = TextAlign.Center,\n                fontSize = 5.em,\n                text = \"DEV SCREEN\",\n                modifier = Modifier\n                    .fillMaxWidth()\n                    .padding(top = 10.dp)\n\n            )\n\n            Text(\n                text = message,\n                color = Color.Black\n            )\n\n            Button(\n                onClick = {\n\n                    coroutineScope.launch {\n\n                        googleSignIn(context)\n\n                    }\n...\n\n\n\n\nvar screenHeight = 0.dp\nvar screenWidth = 0.dp\n\nvar authViewModel = AuthViewModel()\n\n\n\nclass MainActivity : ComponentActivity() {\n\n\n\n    @RequiresApi(Q)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n\n        Log.d(\"Initialize\", \"App Started\")\n\n        setContent {\n\n\n            var context: Context = LocalContext.current\n\n            Box(\n                Modifier\n                    .background(color = Color(0xFFBDC6CA))\n                    .safeDrawingPadding()\n            ) {\n                MetroFCTheme {\n                    MainContent(context)\n\n\n\n                }\n            }\n        }\n\n        actionBar?.hide()\n        WindowCompat.setDecorFitsSystemWindows(window, false)\n        if (Build.VERSION.SDK_INT < Build.VERSION_CODES.R) {\n            window.addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)\n        } else {\n            window.insetsController?.apply {\n//                hide(WindowInsetsAndroid.Type.statusBars())\n                systemBarsBehavior = WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\n            }\n        }\n\n    }\n\n\n}\n\n\n\n@RequiresApi(Q)\n@Composable\nfun MainContent(\n    context : Context\n){\n\n    var user by remember{ mutableStateOf<User?>(null) }\n\n    LaunchedEffect(key1 = user) {\n\n        refreshMenu()\n\n    }\n\n\n    LaunchedEffect(key1 = \"login\") {\n\n        user = loginAnonymously()\n        Log.d(\"DB-User\", \"USER LOGIN SUCCESSFUL : $user\")\n\n    }\n\n\n    Log.d(\"DB\", \"2.\" + user.toString())\n\n\n\n\n    Log.d(\"Initialize\",\"Database Connected\")\n\n    val configuration = LocalConfiguration.current\n    screenHeight = configuration.screenHeightDp.dp\n    screenWidth = configuration.screenWidthDp.dp\n\n    var onDashboard by remember {mutableStateOf(true)}\n    var onMenu = false\n    val updateStates = { dashboard: Boolean, menu: Boolean ->\n        onDashboard = dashboard\n        onMenu = menu\n    }\n\n    val navController = rememberNavController()\n\n\n    Scaffold(\n\n        bottomBar = {\n            if(authViewModel.isLoggedIn) NavigationBar(navController = navController, onDashboard, onMenu, updateStates)\n\n                    },\n        containerColor = MaterialTheme.colorScheme.background,\n        contentWindowInsets = WindowInsets(0.dp),\n        modifier = Modifier.fillMaxSize()\n\n    ) {\n    innerPadding ->\n\n        val scrollState = rememberScrollState()\n\n        val padding = innerPadding\n\n        NavHost(\n            navController = navController,\n            startDestination = if (authViewModel.isLoggedIn) Route.DEV_SCREEN else Route.DEV_SCREEN,\n            modifier = Modifier\n//                .verticalScroll(state = scrollState)\n                .fillMaxSize()\n        ) {\n\n            composable(route = Route.DEV_SCREEN){\n                DeveloperScreen1(navController, context)\n            }\n\n            composable(route = Route.DASHBOARD_SCREEN) {\n\n                authViewModel.login(user)\n                DashboardScreen()\n            }\n\n            composable(route = Route.MENU_SCREEN) {\n                authViewModel.login(user)\n                MenuScreen(user)\n            }\n        }\n    }\n}\n\nProcess: com.metrofriedchicken.metrofc, PID: 20630\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nat androidx.credentials.playservices.controllers.CredentialProviderBaseController$Companion.getCredentialExceptionTypeToException$credentials_play_services_auth_release(CredentialProviderBaseController.kt:110)\nat androidx.credentials.playservices.controllers.BeginSignIn.CredentialProviderBeginSignInController$resultReceiver$1$onReceiveResult$1.invoke(CredentialProviderBeginSignInController.kt:93)\nI've tried :\n\nDeleting Keystore and make a new one ( debug and release )\nUsed the web app client id and android client id\nChange device\nwaited a day\n\n",
        "Answer": "I am assuming you are currently integrating the Credential Manager in debug mode and testing your integration in an app directly installed from Android Studio to  your test device.\nIn this case you will need to configure the SHA1 key currently being used to sign your app, which is Android Studio's debug keystore.\nIn this case, you can get the SHA1 by running below command in Android Studio's terminal:\n./gradlew signingreport\n\nCopy the correct SHA1 fingerprint of correct Variant and Config from the terminal console and configure the same in cloud console for your app's Android OAuth2 client.\nIn order to keep the steps cleaner, I am mentioning them as below:\n\nCreate one Android OAuth2 client in cloud api console with you app's package name.\nUse the debug SHA1 key in this Android OAuth2 client creation as I mentioned above (in order to recognized this as debug client you can append the client name with debug as \"your-app-debug\")\nCreate one Web OAuth2 client in cloud api console. This will act as the server for your app\nCopy the ClientID of this Web client and use in setServerClientId(ServerClientID) in your integration.\n\nWith these simple steps alone, your integration should work fine.\nOptionally, as the next step,\n\nYou can create another Android OAuth2 client with release key's SHA1 fingerprint for production, and for recognizing this client, can give it a name \"Your-app-release\"\n\n",
        "Source": "https://stackoverflow.com/questions/78247578/error-on-google-sign-in-credentialmanager-using-jetpack-compose"
    },
    {
        "Title": "Access AWS Secrets Manager with IMDSv2 set to required",
        "Question": "I'm working on a Java application running on an EC2 instance in AWS. My goal is to access AWS Secrets Manager using an AWS SDK for Java and an IAM role attached to the EC2 instance.\nEverything works smoothly when IMDSv2 (Instance Metadata Service version 2) is optional. However, when it's set to required as recommended, I encounter an issue.\nSpecifically, I'm receiving the error 'software.amazon.awssdk.core.exception.SdkClientException: Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain'.\nHow can I resolve this issue and successfully access AWS Secrets Manager with IMDSv2 set to required?\nTried attaching different policies, created some custom ones but the result is same.\njava sdk version used:\n<dependency>\n     <groupId>software.amazon.awssdk</groupId>\n     <artifactId>secretsmanager</artifactId>\n     <version>2.25.7</version>\n</dependency>\n\n",
        "Answer": "I did some more research and was able to figure this out. There have been issues with IMDSv2 network request and what was suggested is to increase the hop limit to '2' on the ec2 instance. As said here in the considerations section as well https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-retrieval.html#imds-considerations\nTo increase the hop limit:\n\"Use the modify-instance-metadata-options CLI command and set the http-put-response-hop-limit parameter to the required number of hops. In the following example, the hop limit is set to 2. Note that when specifying a value for http-put-response-hop-limit, you must also set http-endpoint to enabled\"\nUsing aws cli:\naws ec2 modify-instance-metadata-options \\\n--instance-id <instance-id> \\\n--http-put-response-hop-limit 2 \\\n--http-endpoint enabled\n\n",
        "Source": "https://stackoverflow.com/questions/78183614/access-aws-secrets-manager-with-imdsv2-set-to-required"
    },
    {
        "Title": "Install a private package with credentials from requirements.txt",
        "Question": "I want to a private package via\n%pip install -r /dbfs/requirements.txt\n\nInside this requirements.txt is give:\ngit+https://<user>:$token@<gitprovider>.com/<path/to/repo>\n\nIf i give user and token inside the requirements.txt it works like a charm, but I want to pass user and token via dbutils.secrets. Is this doable without manipulating the requirements.txt before?\nI thought it would be possible to create environment variables, but this did not work for me.\n%env GIT_USERNAME= ...\n%env GIT_TOKEN= ...\n\n",
        "Answer": "The way is using python\n\nGetting information\nStore the information in a temporary file so that its details will not be found in the run log or records after running\nRun\n\nimport dbutils\n\nusername = dbutils.secrets.get(scope=\"your_scope\", key=\"git_username\")\ntoken = dbutils.secrets.get(scope=\"your_scope\", key=\"git_token\")\n\nrepo_url = f\"git+https://{username}:{token}@gitprovider.com/path/to/repo\"\n\nrequirements_path = \"/dbfs/tmp/requirements.txt\"\n\nwith open(requirements_path, \"w\") as file:\n    file.write(repo_url + \"\\n\")\n\ndbutils.notebook.run(\"%pip install -r \" + requirements_path, 60)\n\n",
        "Source": "https://stackoverflow.com/questions/78140635/install-a-private-package-with-credentials-from-requirements-txt"
    },
    {
        "Title": "PayPal bearer resets after x amount of seconds",
        "Question": "I\u2019m using PayPal refund api. The api docs says the bearer token that I am using will reset after x amount of seconds.\nLink to where it says access token resets:\nhttps://developer.paypal.com/reference/get-an-access-token/\nIn my case my token resets after 9 hours. I am using this token to refund purchases which will happen all the time. Is there an alternate solution from Bearer <Access-Token> that doesn\u2019t include a reset token? I haven\u2019t been able to find one other than the Basic <client_id>:<secret> which includes client credentials which doesn\u2019t seem to work. And yes the credentials are correct.\nLink to api:\nhttps://developer.paypal.com/docs/api/payments/v2/#captures_refund\n",
        "Answer": "Basic client_id:secret, where the string client_id:secret is Base64 encoded, is the header value for HTTP Basic Authentication. This is used to obtain an access token from the oauth2 token endpoint.\nAccess tokens expire after 9 hours, beyond which a new one must be obtained. These are required for all PayPal REST API operations, including refunds.\n",
        "Source": "https://stackoverflow.com/questions/78109044/paypal-bearer-resets-after-x-amount-of-seconds"
    },
    {
        "Title": "How to store MySQL credentials in python project, that users not only from my pc will use later?",
        "Question": "I have the following code:\nclass Server:\n    def __init__(self):\n        #server credentials\n        self.ip = \"192.168.1.182\"\n        self.user = \"bank_user\"\n        self.password = \"*mypass*\"\n        self.port = 3307\n        self.database = \"bank\"\n    def connect_to_server(self):\n        try:\n            self.mydb = mysql.connector.connect(\n                host = self.ip,\n                user = self.user,\n                password = self.password,\n                port = self.port,\n                database = self.database\n                )\n            self.mycursor = self.mydb.cursor()\n            print(\"\u2713 Server connection estabilished\")\n            rlist = [True]\n\nThe problem is, I don't want to store it in my code because I feel that it's not safe\nI'm creating a banking app (just for fun) so it will be used as .py->.exe later by users not only from my pc. I shouldn't be stored in a config file or a plaintext file, because if someone gets the credentials he can basically log into the MySQL database and modify all of the data.\nSo no:\n\nEnviromental variables\nPlaintext/ config file\nIt should work on any pc (I'm using pytoexe to convert my python file to exe, so that everyone can run the app)\nI'm new to stackoverflow so forgive me if I wrote sth wrong\n\nI thought about creating a password encryption, but anyone who gets the decryption key can decrypt the password. I also thought about creating my own encryption method, but anyone who gets to my code can just use the decrypting function and execute it for example: decryptor(\"encryptedpassword\")\n",
        "Answer": "Right, anyone who gets your code can extract the MySQL password and connect using any other client. They can do any SQL query according to the privileges you granted that MySQL user.\nEven if you compile using pytoexe, a skilled person could use a debugger or simply the strings tool to extract the password.\nIf you encrypt, they can decrypt. If you try to invent your own encryption algorithm, assume they can decrypt it more easily. I assume you are not an accomplished Ph.D. in applied cryptography, so any novel encryption method you think of will surely be easier to crack than state of the art encryption tools.\nThere are two common methods to solve this problem:\n\nDon't give them the MySQL password. The application you give them has no MySQL connection. The application makes HTTP requests to a web service that you develop. The code in your web service implements specific SQL they can execute. This is where you enforce business rules about what they can access. This is by far the most popular solution.\n\nGive them the MySQL password, but restrict the SQL they can execute. Privileges alone only give you limited control, so you need to create a layer of stored routines and views in the MySQL database. They should be able to access the stored routines and views, but the user cannot access the underlying tables. The routines and views have privileges to do that. Therefore the users can only do what you have allowed them to do in those routines and views.\n\n\nThere could also be a solution using a proxy such as ProxySQL. This would involve writing filters in the proxy so clients would not be allowed to run queries except those you want them to run. The advantage would be that the client application thinks it's connecting to a MySQL Server, but it's really connecting to the proxy. But I think it would be easier to write a web service than to write a whole application's business logic in a proxy.\nI suppose one could also use MySQL's query rewrite plugin to do something similar, but I've never seen anyone do that successfully.\n",
        "Source": "https://stackoverflow.com/questions/78089675/how-to-store-mysql-credentials-in-python-project-that-users-not-only-from-my-pc"
    },
    {
        "Title": "Setup access.ini file permession so it can be read by php script",
        "Question": "I'm really new to this so sorry if this isn't clear.\nI'm trying to hide my database credentials using an access.ini  file.\nI have a AWS instance, with my scripts located in /bitnami/joomla/index (in short I have an html page that display data using a php file that queries a postgresql db). I've tried creating a new directory /bitnami/joomla/config where I placed the access.ini  file. However, my php script can't read it due to permission issues (I guess).\nThe owner/group for the files in /bitnami/joomla/index are bitnami bitnami.\nAnd the owner/group and permissions for the folder /bitnami/joomla/config and its file are :\nbitnami bitnami\ndrwx--x--x\nIs my setup completly wrong, or is the issue easy to solve ?\n",
        "Answer": "Instead of using an access.ini file, consider using environment variables to store sensitive credentials.\nPHP can read environment variables easily.\nAdditional details can be found here.\n",
        "Source": "https://stackoverflow.com/questions/78035277/setup-access-ini-file-permession-so-it-can-be-read-by-php-script"
    },
    {
        "Title": "How to set an &quot;environment&quot; in a non-trivial way using expression?",
        "Question": "I have a GitHub Actions workflow which deploys some things to an environment. The workflow needs to log in to access the environment, so we use GitHub environment secrets to store credentials.\nMy workflow contains this:\non:\n  workflow_dispatch:\n    inputs:\n      deployment_target:\n        type: choice\n        description: Choose an environment to deploy to\n        options:\n          - dev\n          - staging\n          - production\n          - benchmarks\n...\njobs:\n  deploy-to-persistent-environment:\n    environment: ${{ github.event.inputs.deployment_target}}\n    steps: \n      - name: Login # Pseudocode\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy # Pseudocode\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nThe \"benchmarks\" environment uses the same credentials as the \"development\" environment. So I would like to re-use the same GitHub environment secrets rather than have two sets of duplicate environment secrets in GitHub.\nI.e., I would like to do something like this pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ if github.event.inputs.deployment_target == 'benchmarks' then 'development' else github.event.inputs.deployment_target }}\n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nIs there any way to achieve this with GitHub Actions?\n",
        "Answer": "There is a way to do it directly in the expression, according to this reference on the Github Community, by using the syntax ${{ x && 'ifTrue' || 'ifFalse'  }}\nIn that case:\n\nif the condition x is True, the first argument will be used.\nif the condition x is False, the second argument will be used.\n\nIn our case here, it would look like this:\nenvironment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}\n\nWhere:\n\nif github.event.inputs.deployment_target == 'benchmarks' is True, development will be used as environment.\n\nif github.event.inputs.deployment_target == 'benchmarks' is False, github.event.inputs.deployment_target will be used as environment.\n\n\nUpdating the pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}   \n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nEDIT: This is now available on the GitHub official doc as well (Thanks Benjamin W for reporting)\n",
        "Source": "https://stackoverflow.com/questions/77959880/how-to-set-an-environment-in-a-non-trivial-way-using-expression"
    },
    {
        "Title": "How to implement speech recognition with the Google Cloud Speech-to-Text API using Node.js?",
        "Question": "I am new to Google Cloud,\nI recently created a project with Speech-to-Text API.\nAfter creating the project and linking it to a billing account, I accessed the Node.js in-console tutorial for a quick start.\nAfter following all the steps in the in-console tutorial (and dealing with some mistakes in the code in the tutorial itself), and running the code, I got the following error:\nnode:internal/process/promises:289\n            triggerUncaughtException(err, true /* fromPromise */);\n            ^\n\nError: 3 INVALID_ARGUMENT: Invalid resource field value in the request.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Invalid resource field value in the request.',\n  metadata: Metadata {\n    internalRepr: Map(2) {\n      'google.rpc.errorinfo-bin' => [\n        Buffer(127) [Uint8Array] [\n           10,  24,  82,  69,  83,  79,  85,  82,  67,  69,  95,  80,\n           82,  79,  74,  69,  67,  84,  95,  73,  78,  86,  65,  76,\n           73,  68,  18,  14, 103, 111, 111, 103, 108, 101,  97, 112,\n          105, 115,  46,  99, 111, 109,  26,  32,  10,   7, 115, 101,\n          114, 118, 105,  99, 101,  18,  21, 115, 112, 101, 101,  99,\n          104,  46, 103, 111, 111, 103, 108, 101,  97, 112, 105, 115,\n           46,  99, 111, 109,  26,  49,  10,   6, 109, 101, 116, 104,\n          111, 100,  18,  39, 103, 111, 111, 103, 108, 101,  46,  99,\n          108, 111, 117, 100,\n          ... 27 more items\n        ]\n      ],\n      'grpc-status-details-bin' => [\n        Buffer(222) [Uint8Array] [\n            8,   3,  18,  44,  73, 110, 118,  97, 108, 105, 100,  32,\n          114, 101, 115, 111, 117, 114,  99, 101,  32, 102, 105, 101,\n          108, 100,  32, 118,  97, 108, 117, 101,  32, 105, 110,  32,\n          116, 104, 101,  32, 114, 101, 113, 117, 101, 115, 116,  46,\n           26, 171,   1,  10,  40, 116, 121, 112, 101,  46, 103, 111,\n          111, 103, 108, 101,  97, 112, 105, 115,  46,  99, 111, 109,\n           47, 103, 111, 111, 103, 108, 101,  46, 114, 112,  99,  46,\n           69, 114, 114, 111, 114,  73, 110, 102, 111,  18, 127,  10,\n           24,  82,  69,  83,\n          ... 122 more items\n        ]\n      ]\n    },\n    options: {}\n  },\n  note: 'Exception occurred in retry method that was not classified as transient',\n  statusDetails: [\n    ErrorInfo {\n      metadata: {\n        service: 'speech.googleapis.com',\n        method: 'google.cloud.speech.v2.Speech.Recognize'\n      },\n      reason: 'RESOURCE_PROJECT_INVALID',\n      domain: 'googleapis.com'\n    }\n  ],\n  reason: 'RESOURCE_PROJECT_INVALID',\n  domain: 'googleapis.com',\n  errorInfoMetadata: {\n    service: 'speech.googleapis.com',\n    method: 'google.cloud.speech.v2.Speech.Recognize'\n  }\n}\n\nThis is after I seted a project for quota purposes (using gcloud auth application-default set-quota-project $PROJECT_ID in the terminal).\nI also did the same steps through the gcloud CLI (on Windows) and it returned the same error.\nIs there something I forgot to do? Or something in the code is wrong? Maybe it's something to do with the fact that I'm working with version 2 of the API and the code is optimized to work only with version 1 of the API?\nMany thanks in advance!\nThe reusable Node.js code (I made some changes from the original code of the tutorial after encountering errors, and I also changed the way to get the data of the audio file after I couldn't get it from the uri of the bucket, as is customary in GCP):\nconst speech = require('@google-cloud/speech').v2;\nconst https = require('https');\n\nconst client = new speech.SpeechClient();\nconst projectId = '<ProjectId>';\nvar recognizerName;\n\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId: 'en123',\n    recognizer: {\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function getUrlData(url) {\n  return new Promise((resolve) => {\n      https.get(url, response => {\n          var body = '';\n          var i = 0;\n          response.on('data', chunk => {\n              i++;\n              body += chunk;\n          });\n          response.on('end', () => {\n              resolve(Buffer.from(body).toString('base64'));\n          });\n      });\n  });\n}\n\nasync function transcribeFile() {\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nUpdate:\nAfter looking at the (asker's) code in this question, I realized that I got confused in the definition of recognizerName and used only the string of the recognizerId instead of using the full path of the recognizer (projects/${projectId}/locations/global/recognizers/${recognizerId}), so currently my code looks like this:\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\n// ...\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nBut now I get another error:\nError: 3 INVALID_ARGUMENT: Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.',\n  metadata: Metadata { internalRepr: Map(0) {}, options: {} },\n  note: 'Exception occurred in retry method that was not classified as transient'\n}\n\n",
        "Answer": "I managed to solve it!\nThe error Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters occurs when the requested file is in a format without Codec (in this case .raw) and therefore the Speech to Text API does not know how to encode it.\nTo solve this I had to pass an explicitDecodingConfig object when creating the recognizer (within the defaultRecognitionConfig property) or later in the transcriptionRequest (within the config property).\nconst speech = require('@google-cloud/speech').v2;\n\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\n\nconst client = new speech.SpeechClient();\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId,\n    recognizer: {\n      defaultRecognitionConfig: {\n        explicitDecodingConfig: {\n          encoding: 'LINEAR16',\n          sampleRateHertz: 16000,\n          audioChannelCount: 1\n        }\n      },\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  const recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const gcsUri = 'gs://cloud-samples-data/speech/brooklyn_bridge.raw';\n\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    uri: gcsUri,\n    config: {\n      explicitDecodingConfig: {   // If you didn't set explicitDecodingConfig when creating the recognizer, you have to set it here.\n        encoding: 'LINEAR16',\n        sampleRateHertz: 16000,\n        audioChannelCount: 1\n      }\n    },\n  }\n\n  const response = await client.recognize(transcriptionRequest);\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\n(async function main() {\n  await createRecognizer();\n  await transcribeFile();\n})();\n\n",
        "Source": "https://stackoverflow.com/questions/77940391/how-to-implement-speech-recognition-with-the-google-cloud-speech-to-text-api-usi"
    },
    {
        "Title": "Updating AWS credentials",
        "Question": "I need advice on how I can update AWS credentials after they expire.\nI'm creating a bean of AmazonSimpleEmailService this way:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new AWSStaticCredentialsProvider(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                        .getCredentials())\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\nBut when I'm trying to use it I'm getting an error:\nThe security token included in the request is expired (Service: AmazonSimpleEmailService; Status Code: 403; Error Code: ExpiredToken\nIf I create an instance of the SES client right before each mail sending - it works correctly, but it looks like a bad practice to create a new instance before each use.\nI understand that the issue with the credentials that I'm getting via STSAssumeRoleSessionCredentialsProvider - they just have an expiration time.\nI am wondering if there should be a way to automatically update the credentials when they are going to expire, so I'd really appreciate any advice on how to do it.\n",
        "Answer": "STSAssumeRoleSessionCredentialsProvider will auto-refresh the credentials, but you are blocking that functionality by getting a single set of credentials and passing them into a AWSStaticCredentialsProvider instance.\nThis should allow you to use the auto-refresh of the STS Provider:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\n",
        "Source": "https://stackoverflow.com/questions/77921630/updating-aws-credentials"
    },
    {
        "Title": "Reading credentials from another file doesn&#39;t work in Python",
        "Question": "I created a Python file called pw.py where I store my username and password.\nThe content of pw.py is as follows:\nusername = \"username1\"\npassword = \"pswrd2\"\n\nTo access these credentials from another file called ProducerReddit.ipynb, I do the following:\nfrom pw import password, username\n\nHowever, when I try to print password and username, they are always empty.\nThe two files are inside the same folder.\nWhat I am doing wrong?\n",
        "Answer": "I recommend you to check do you have a __init__.py file in the your top folder.\nIf you don't have please create this __init__.py module.\nThen try to use absolute import path.\nFor example you have top directorty with this structure:\ntop_directory:\n              __init__.py\n              pw.py\n              other_file.py\n\nyour import instructions in the other_file.py shoud be like this:\nfrom top_directory.pw import username, password\n\nI hope this may help you\n",
        "Source": "https://stackoverflow.com/questions/77786371/reading-credentials-from-another-file-doesnt-work-in-python"
    },
    {
        "Title": "Apache HTTP Client 5.3 ~ NTCredentials no longer working",
        "Question": "I have a project that uses org.apache.httpcomponents.client5:httpclient5. I recently tried upgrading from version 5.2.3 to version 5.3, only to realize that the authentication was no longer working in the new version.\nHere is how the relevant code looks:\n        BasicCredentialsProvider credentialsProvider =\n            new BasicCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(credentialsProvider)\n            .build();\n[...]\n            final HttpGet httpget = new HttpGet(targetUrl);\n\n            CloseableHttpResponse response = httpclient.execute(httpget);\n\n\nBefore the update from 5.2.3 to 5.3 this worked fine. However, when I use 5.3, I now get a 401 UNAUTHORIZED response.\nI also tried the following variations to above code to pass the credentials along, but they all also return only 401 UNAUTHORIZED:\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(CredentialsProviderBuilder.create()\n                .add(new HttpHost(host, port), username, password.toCharArray())\n                .build())\n            .build();\n\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new UsernamePasswordCredentials(username, password.toCharArray())\n        );\n\n        SystemDefaultCredentialsProvider credentialsProvider =\n            new SystemDefaultCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n\nNow I am stumped. Could this be a bug in 5.3? Or did something change to the way that the NTCredentialsProvider works? I could not find any release notes indicating so, and since this is only a minor version update that would surprise me.\nNonetheless, the fact it that it works with the old version but not with the new one. Does anyone has any suggestions as to what I can do about that?\n",
        "Answer": "We now managed to solve it by providing the httpclient with a default auth scheme registry like this:\n        Lookup<AuthSchemeFactory> authSchemeRegistry = RegistryBuilder.<AuthSchemeFactory>create()\n                .register(StandardAuthScheme.NTLM, new NTLMSchemeFactory()).build();\n\n        httpclient = HttpClients.custom()\n                .setDefaultCredentialsProvider(credentialsProvider)\n                .setDefaultRequestConfig(config)\n                .setDefaultAuthSchemeRegistry(authSchemeRegistry)\n                .build();\n\n",
        "Source": "https://stackoverflow.com/questions/77784888/apache-http-client-5-3-ntcredentials-no-longer-working"
    },
    {
        "Title": "Error on Google Sign In CredentialManager, using Jetpack Compose",
        "Question": "I am trying to create a Sign In with Google Button but everytime credentialManager.getCredential is called, it gives me :\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nI tried resetting the SHA-1 Fingerprint, I've created both web application and android in the google cloud credential, I've used both the web app client id and android client id. I'm lost, please help\n\nobject DeveloperScreen{\n\n    const val GOOGLE_WEB_CLIENT_ID = \"xxxxxxxxxh5n94bxxxxxxxxxxx1.apps.googleusercontent.com\"\n//    const val GOOGLE_WEB_CLIENT_SECRET = \"GxxxxxxxxCinwYDR8KQi3-wD9ugT311\"\n//    const val GOOGLE_ANDROID_CLIENT_ID = \"3xxxxxxx80-7ja1n9nknxxxxxxxxxxxxxxxxxxxens33k.apps.googleusercontent.com\"\n\n\n    private suspend fun googleSignIn(context : Context) {\n\n\n        val credentialManager = androidx.credentials.CredentialManager.create(context)\n\n        val googleIdOption: GetGoogleIdOption = GetGoogleIdOption.Builder()\n            .setFilterByAuthorizedAccounts(false)\n            .setServerClientId(GOOGLE_WEB_CLIENT_ID)\n            .build()\n\n        Log.i(\"auth-google-googleIdOption\", googleIdOption.toString())\n\n        val request: GetCredentialRequest = GetCredentialRequest.Builder()\n            .addCredentialOption(googleIdOption)\n            .build()\n\n        Log.i(\"auth-google-credentialRequest\", request.toString())\n\n\n        val result = credentialManager.getCredential(\n            request = request,\n            context = context,\n        )\n\n        Log.i(\"auth-google-result\", result.toString())\n\n\n\n\n\n    }\n\n\n\n    @Composable\n    public fun DeveloperScreen1(navController : NavHostController, context : Context){\n\n        var phoneNumber by rememberSaveable { mutableStateOf(\"\") }\n        var email by rememberSaveable { mutableStateOf(\"\")}\n        var otpCode by rememberSaveable { mutableStateOf(\"\") }\n\n        var useEmail by rememberSaveable { mutableStateOf(false)}\n\n        var message by rememberSaveable { mutableStateOf(\"\")}\n\n        val coroutineScope = rememberCoroutineScope()\n\n        Column {\n\n\n            var user : User? = getCurrentUser()\n\n            Text(\n                textAlign = TextAlign.Center,\n                fontSize = 5.em,\n                text = \"DEV SCREEN\",\n                modifier = Modifier\n                    .fillMaxWidth()\n                    .padding(top = 10.dp)\n\n            )\n\n            Text(\n                text = message,\n                color = Color.Black\n            )\n\n            Button(\n                onClick = {\n\n                    coroutineScope.launch {\n\n                        googleSignIn(context)\n\n                    }\n...\n\n\n\n\nvar screenHeight = 0.dp\nvar screenWidth = 0.dp\n\nvar authViewModel = AuthViewModel()\n\n\n\nclass MainActivity : ComponentActivity() {\n\n\n\n    @RequiresApi(Q)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n\n        Log.d(\"Initialize\", \"App Started\")\n\n        setContent {\n\n\n            var context: Context = LocalContext.current\n\n            Box(\n                Modifier\n                    .background(color = Color(0xFFBDC6CA))\n                    .safeDrawingPadding()\n            ) {\n                MetroFCTheme {\n                    MainContent(context)\n\n\n\n                }\n            }\n        }\n\n        actionBar?.hide()\n        WindowCompat.setDecorFitsSystemWindows(window, false)\n        if (Build.VERSION.SDK_INT < Build.VERSION_CODES.R) {\n            window.addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)\n        } else {\n            window.insetsController?.apply {\n//                hide(WindowInsetsAndroid.Type.statusBars())\n                systemBarsBehavior = WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\n            }\n        }\n\n    }\n\n\n}\n\n\n\n@RequiresApi(Q)\n@Composable\nfun MainContent(\n    context : Context\n){\n\n    var user by remember{ mutableStateOf<User?>(null) }\n\n    LaunchedEffect(key1 = user) {\n\n        refreshMenu()\n\n    }\n\n\n    LaunchedEffect(key1 = \"login\") {\n\n        user = loginAnonymously()\n        Log.d(\"DB-User\", \"USER LOGIN SUCCESSFUL : $user\")\n\n    }\n\n\n    Log.d(\"DB\", \"2.\" + user.toString())\n\n\n\n\n    Log.d(\"Initialize\",\"Database Connected\")\n\n    val configuration = LocalConfiguration.current\n    screenHeight = configuration.screenHeightDp.dp\n    screenWidth = configuration.screenWidthDp.dp\n\n    var onDashboard by remember {mutableStateOf(true)}\n    var onMenu = false\n    val updateStates = { dashboard: Boolean, menu: Boolean ->\n        onDashboard = dashboard\n        onMenu = menu\n    }\n\n    val navController = rememberNavController()\n\n\n    Scaffold(\n\n        bottomBar = {\n            if(authViewModel.isLoggedIn) NavigationBar(navController = navController, onDashboard, onMenu, updateStates)\n\n                    },\n        containerColor = MaterialTheme.colorScheme.background,\n        contentWindowInsets = WindowInsets(0.dp),\n        modifier = Modifier.fillMaxSize()\n\n    ) {\n    innerPadding ->\n\n        val scrollState = rememberScrollState()\n\n        val padding = innerPadding\n\n        NavHost(\n            navController = navController,\n            startDestination = if (authViewModel.isLoggedIn) Route.DEV_SCREEN else Route.DEV_SCREEN,\n            modifier = Modifier\n//                .verticalScroll(state = scrollState)\n                .fillMaxSize()\n        ) {\n\n            composable(route = Route.DEV_SCREEN){\n                DeveloperScreen1(navController, context)\n            }\n\n            composable(route = Route.DASHBOARD_SCREEN) {\n\n                authViewModel.login(user)\n                DashboardScreen()\n            }\n\n            composable(route = Route.MENU_SCREEN) {\n                authViewModel.login(user)\n                MenuScreen(user)\n            }\n        }\n    }\n}\n\nProcess: com.metrofriedchicken.metrofc, PID: 20630\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nat androidx.credentials.playservices.controllers.CredentialProviderBaseController$Companion.getCredentialExceptionTypeToException$credentials_play_services_auth_release(CredentialProviderBaseController.kt:110)\nat androidx.credentials.playservices.controllers.BeginSignIn.CredentialProviderBeginSignInController$resultReceiver$1$onReceiveResult$1.invoke(CredentialProviderBeginSignInController.kt:93)\nI've tried :\n\nDeleting Keystore and make a new one ( debug and release )\nUsed the web app client id and android client id\nChange device\nwaited a day\n\n",
        "Answer": "I am assuming you are currently integrating the Credential Manager in debug mode and testing your integration in an app directly installed from Android Studio to  your test device.\nIn this case you will need to configure the SHA1 key currently being used to sign your app, which is Android Studio's debug keystore.\nIn this case, you can get the SHA1 by running below command in Android Studio's terminal:\n./gradlew signingreport\n\nCopy the correct SHA1 fingerprint of correct Variant and Config from the terminal console and configure the same in cloud console for your app's Android OAuth2 client.\nIn order to keep the steps cleaner, I am mentioning them as below:\n\nCreate one Android OAuth2 client in cloud api console with you app's package name.\nUse the debug SHA1 key in this Android OAuth2 client creation as I mentioned above (in order to recognized this as debug client you can append the client name with debug as \"your-app-debug\")\nCreate one Web OAuth2 client in cloud api console. This will act as the server for your app\nCopy the ClientID of this Web client and use in setServerClientId(ServerClientID) in your integration.\n\nWith these simple steps alone, your integration should work fine.\nOptionally, as the next step,\n\nYou can create another Android OAuth2 client with release key's SHA1 fingerprint for production, and for recognizing this client, can give it a name \"Your-app-release\"\n\n",
        "Source": "https://stackoverflow.com/questions/78247578/error-on-google-sign-in-credentialmanager-using-jetpack-compose"
    },
    {
        "Title": "Access AWS Secrets Manager with IMDSv2 set to required",
        "Question": "I'm working on a Java application running on an EC2 instance in AWS. My goal is to access AWS Secrets Manager using an AWS SDK for Java and an IAM role attached to the EC2 instance.\nEverything works smoothly when IMDSv2 (Instance Metadata Service version 2) is optional. However, when it's set to required as recommended, I encounter an issue.\nSpecifically, I'm receiving the error 'software.amazon.awssdk.core.exception.SdkClientException: Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain'.\nHow can I resolve this issue and successfully access AWS Secrets Manager with IMDSv2 set to required?\nTried attaching different policies, created some custom ones but the result is same.\njava sdk version used:\n<dependency>\n     <groupId>software.amazon.awssdk</groupId>\n     <artifactId>secretsmanager</artifactId>\n     <version>2.25.7</version>\n</dependency>\n\n",
        "Answer": "I did some more research and was able to figure this out. There have been issues with IMDSv2 network request and what was suggested is to increase the hop limit to '2' on the ec2 instance. As said here in the considerations section as well https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-retrieval.html#imds-considerations\nTo increase the hop limit:\n\"Use the modify-instance-metadata-options CLI command and set the http-put-response-hop-limit parameter to the required number of hops. In the following example, the hop limit is set to 2. Note that when specifying a value for http-put-response-hop-limit, you must also set http-endpoint to enabled\"\nUsing aws cli:\naws ec2 modify-instance-metadata-options \\\n--instance-id <instance-id> \\\n--http-put-response-hop-limit 2 \\\n--http-endpoint enabled\n\n",
        "Source": "https://stackoverflow.com/questions/78183614/access-aws-secrets-manager-with-imdsv2-set-to-required"
    },
    {
        "Title": "Install a private package with credentials from requirements.txt",
        "Question": "I want to a private package via\n%pip install -r /dbfs/requirements.txt\n\nInside this requirements.txt is give:\ngit+https://<user>:$token@<gitprovider>.com/<path/to/repo>\n\nIf i give user and token inside the requirements.txt it works like a charm, but I want to pass user and token via dbutils.secrets. Is this doable without manipulating the requirements.txt before?\nI thought it would be possible to create environment variables, but this did not work for me.\n%env GIT_USERNAME= ...\n%env GIT_TOKEN= ...\n\n",
        "Answer": "The way is using python\n\nGetting information\nStore the information in a temporary file so that its details will not be found in the run log or records after running\nRun\n\nimport dbutils\n\nusername = dbutils.secrets.get(scope=\"your_scope\", key=\"git_username\")\ntoken = dbutils.secrets.get(scope=\"your_scope\", key=\"git_token\")\n\nrepo_url = f\"git+https://{username}:{token}@gitprovider.com/path/to/repo\"\n\nrequirements_path = \"/dbfs/tmp/requirements.txt\"\n\nwith open(requirements_path, \"w\") as file:\n    file.write(repo_url + \"\\n\")\n\ndbutils.notebook.run(\"%pip install -r \" + requirements_path, 60)\n\n",
        "Source": "https://stackoverflow.com/questions/78140635/install-a-private-package-with-credentials-from-requirements-txt"
    },
    {
        "Title": "PayPal bearer resets after x amount of seconds",
        "Question": "I\u2019m using PayPal refund api. The api docs says the bearer token that I am using will reset after x amount of seconds.\nLink to where it says access token resets:\nhttps://developer.paypal.com/reference/get-an-access-token/\nIn my case my token resets after 9 hours. I am using this token to refund purchases which will happen all the time. Is there an alternate solution from Bearer <Access-Token> that doesn\u2019t include a reset token? I haven\u2019t been able to find one other than the Basic <client_id>:<secret> which includes client credentials which doesn\u2019t seem to work. And yes the credentials are correct.\nLink to api:\nhttps://developer.paypal.com/docs/api/payments/v2/#captures_refund\n",
        "Answer": "Basic client_id:secret, where the string client_id:secret is Base64 encoded, is the header value for HTTP Basic Authentication. This is used to obtain an access token from the oauth2 token endpoint.\nAccess tokens expire after 9 hours, beyond which a new one must be obtained. These are required for all PayPal REST API operations, including refunds.\n",
        "Source": "https://stackoverflow.com/questions/78109044/paypal-bearer-resets-after-x-amount-of-seconds"
    },
    {
        "Title": "How to store MySQL credentials in python project, that users not only from my pc will use later?",
        "Question": "I have the following code:\nclass Server:\n    def __init__(self):\n        #server credentials\n        self.ip = \"192.168.1.182\"\n        self.user = \"bank_user\"\n        self.password = \"*mypass*\"\n        self.port = 3307\n        self.database = \"bank\"\n    def connect_to_server(self):\n        try:\n            self.mydb = mysql.connector.connect(\n                host = self.ip,\n                user = self.user,\n                password = self.password,\n                port = self.port,\n                database = self.database\n                )\n            self.mycursor = self.mydb.cursor()\n            print(\"\u2713 Server connection estabilished\")\n            rlist = [True]\n\nThe problem is, I don't want to store it in my code because I feel that it's not safe\nI'm creating a banking app (just for fun) so it will be used as .py->.exe later by users not only from my pc. I shouldn't be stored in a config file or a plaintext file, because if someone gets the credentials he can basically log into the MySQL database and modify all of the data.\nSo no:\n\nEnviromental variables\nPlaintext/ config file\nIt should work on any pc (I'm using pytoexe to convert my python file to exe, so that everyone can run the app)\nI'm new to stackoverflow so forgive me if I wrote sth wrong\n\nI thought about creating a password encryption, but anyone who gets the decryption key can decrypt the password. I also thought about creating my own encryption method, but anyone who gets to my code can just use the decrypting function and execute it for example: decryptor(\"encryptedpassword\")\n",
        "Answer": "Right, anyone who gets your code can extract the MySQL password and connect using any other client. They can do any SQL query according to the privileges you granted that MySQL user.\nEven if you compile using pytoexe, a skilled person could use a debugger or simply the strings tool to extract the password.\nIf you encrypt, they can decrypt. If you try to invent your own encryption algorithm, assume they can decrypt it more easily. I assume you are not an accomplished Ph.D. in applied cryptography, so any novel encryption method you think of will surely be easier to crack than state of the art encryption tools.\nThere are two common methods to solve this problem:\n\nDon't give them the MySQL password. The application you give them has no MySQL connection. The application makes HTTP requests to a web service that you develop. The code in your web service implements specific SQL they can execute. This is where you enforce business rules about what they can access. This is by far the most popular solution.\n\nGive them the MySQL password, but restrict the SQL they can execute. Privileges alone only give you limited control, so you need to create a layer of stored routines and views in the MySQL database. They should be able to access the stored routines and views, but the user cannot access the underlying tables. The routines and views have privileges to do that. Therefore the users can only do what you have allowed them to do in those routines and views.\n\n\nThere could also be a solution using a proxy such as ProxySQL. This would involve writing filters in the proxy so clients would not be allowed to run queries except those you want them to run. The advantage would be that the client application thinks it's connecting to a MySQL Server, but it's really connecting to the proxy. But I think it would be easier to write a web service than to write a whole application's business logic in a proxy.\nI suppose one could also use MySQL's query rewrite plugin to do something similar, but I've never seen anyone do that successfully.\n",
        "Source": "https://stackoverflow.com/questions/78089675/how-to-store-mysql-credentials-in-python-project-that-users-not-only-from-my-pc"
    },
    {
        "Title": "Setup access.ini file permession so it can be read by php script",
        "Question": "I'm really new to this so sorry if this isn't clear.\nI'm trying to hide my database credentials using an access.ini  file.\nI have a AWS instance, with my scripts located in /bitnami/joomla/index (in short I have an html page that display data using a php file that queries a postgresql db). I've tried creating a new directory /bitnami/joomla/config where I placed the access.ini  file. However, my php script can't read it due to permission issues (I guess).\nThe owner/group for the files in /bitnami/joomla/index are bitnami bitnami.\nAnd the owner/group and permissions for the folder /bitnami/joomla/config and its file are :\nbitnami bitnami\ndrwx--x--x\nIs my setup completly wrong, or is the issue easy to solve ?\n",
        "Answer": "Instead of using an access.ini file, consider using environment variables to store sensitive credentials.\nPHP can read environment variables easily.\nAdditional details can be found here.\n",
        "Source": "https://stackoverflow.com/questions/78035277/setup-access-ini-file-permession-so-it-can-be-read-by-php-script"
    },
    {
        "Title": "How to set an &quot;environment&quot; in a non-trivial way using expression?",
        "Question": "I have a GitHub Actions workflow which deploys some things to an environment. The workflow needs to log in to access the environment, so we use GitHub environment secrets to store credentials.\nMy workflow contains this:\non:\n  workflow_dispatch:\n    inputs:\n      deployment_target:\n        type: choice\n        description: Choose an environment to deploy to\n        options:\n          - dev\n          - staging\n          - production\n          - benchmarks\n...\njobs:\n  deploy-to-persistent-environment:\n    environment: ${{ github.event.inputs.deployment_target}}\n    steps: \n      - name: Login # Pseudocode\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy # Pseudocode\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nThe \"benchmarks\" environment uses the same credentials as the \"development\" environment. So I would like to re-use the same GitHub environment secrets rather than have two sets of duplicate environment secrets in GitHub.\nI.e., I would like to do something like this pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ if github.event.inputs.deployment_target == 'benchmarks' then 'development' else github.event.inputs.deployment_target }}\n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nIs there any way to achieve this with GitHub Actions?\n",
        "Answer": "There is a way to do it directly in the expression, according to this reference on the Github Community, by using the syntax ${{ x && 'ifTrue' || 'ifFalse'  }}\nIn that case:\n\nif the condition x is True, the first argument will be used.\nif the condition x is False, the second argument will be used.\n\nIn our case here, it would look like this:\nenvironment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}\n\nWhere:\n\nif github.event.inputs.deployment_target == 'benchmarks' is True, development will be used as environment.\n\nif github.event.inputs.deployment_target == 'benchmarks' is False, github.event.inputs.deployment_target will be used as environment.\n\n\nUpdating the pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}   \n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nEDIT: This is now available on the GitHub official doc as well (Thanks Benjamin W for reporting)\n",
        "Source": "https://stackoverflow.com/questions/77959880/how-to-set-an-environment-in-a-non-trivial-way-using-expression"
    },
    {
        "Title": "How to implement speech recognition with the Google Cloud Speech-to-Text API using Node.js?",
        "Question": "I am new to Google Cloud,\nI recently created a project with Speech-to-Text API.\nAfter creating the project and linking it to a billing account, I accessed the Node.js in-console tutorial for a quick start.\nAfter following all the steps in the in-console tutorial (and dealing with some mistakes in the code in the tutorial itself), and running the code, I got the following error:\nnode:internal/process/promises:289\n            triggerUncaughtException(err, true /* fromPromise */);\n            ^\n\nError: 3 INVALID_ARGUMENT: Invalid resource field value in the request.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Invalid resource field value in the request.',\n  metadata: Metadata {\n    internalRepr: Map(2) {\n      'google.rpc.errorinfo-bin' => [\n        Buffer(127) [Uint8Array] [\n           10,  24,  82,  69,  83,  79,  85,  82,  67,  69,  95,  80,\n           82,  79,  74,  69,  67,  84,  95,  73,  78,  86,  65,  76,\n           73,  68,  18,  14, 103, 111, 111, 103, 108, 101,  97, 112,\n          105, 115,  46,  99, 111, 109,  26,  32,  10,   7, 115, 101,\n          114, 118, 105,  99, 101,  18,  21, 115, 112, 101, 101,  99,\n          104,  46, 103, 111, 111, 103, 108, 101,  97, 112, 105, 115,\n           46,  99, 111, 109,  26,  49,  10,   6, 109, 101, 116, 104,\n          111, 100,  18,  39, 103, 111, 111, 103, 108, 101,  46,  99,\n          108, 111, 117, 100,\n          ... 27 more items\n        ]\n      ],\n      'grpc-status-details-bin' => [\n        Buffer(222) [Uint8Array] [\n            8,   3,  18,  44,  73, 110, 118,  97, 108, 105, 100,  32,\n          114, 101, 115, 111, 117, 114,  99, 101,  32, 102, 105, 101,\n          108, 100,  32, 118,  97, 108, 117, 101,  32, 105, 110,  32,\n          116, 104, 101,  32, 114, 101, 113, 117, 101, 115, 116,  46,\n           26, 171,   1,  10,  40, 116, 121, 112, 101,  46, 103, 111,\n          111, 103, 108, 101,  97, 112, 105, 115,  46,  99, 111, 109,\n           47, 103, 111, 111, 103, 108, 101,  46, 114, 112,  99,  46,\n           69, 114, 114, 111, 114,  73, 110, 102, 111,  18, 127,  10,\n           24,  82,  69,  83,\n          ... 122 more items\n        ]\n      ]\n    },\n    options: {}\n  },\n  note: 'Exception occurred in retry method that was not classified as transient',\n  statusDetails: [\n    ErrorInfo {\n      metadata: {\n        service: 'speech.googleapis.com',\n        method: 'google.cloud.speech.v2.Speech.Recognize'\n      },\n      reason: 'RESOURCE_PROJECT_INVALID',\n      domain: 'googleapis.com'\n    }\n  ],\n  reason: 'RESOURCE_PROJECT_INVALID',\n  domain: 'googleapis.com',\n  errorInfoMetadata: {\n    service: 'speech.googleapis.com',\n    method: 'google.cloud.speech.v2.Speech.Recognize'\n  }\n}\n\nThis is after I seted a project for quota purposes (using gcloud auth application-default set-quota-project $PROJECT_ID in the terminal).\nI also did the same steps through the gcloud CLI (on Windows) and it returned the same error.\nIs there something I forgot to do? Or something in the code is wrong? Maybe it's something to do with the fact that I'm working with version 2 of the API and the code is optimized to work only with version 1 of the API?\nMany thanks in advance!\nThe reusable Node.js code (I made some changes from the original code of the tutorial after encountering errors, and I also changed the way to get the data of the audio file after I couldn't get it from the uri of the bucket, as is customary in GCP):\nconst speech = require('@google-cloud/speech').v2;\nconst https = require('https');\n\nconst client = new speech.SpeechClient();\nconst projectId = '<ProjectId>';\nvar recognizerName;\n\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId: 'en123',\n    recognizer: {\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function getUrlData(url) {\n  return new Promise((resolve) => {\n      https.get(url, response => {\n          var body = '';\n          var i = 0;\n          response.on('data', chunk => {\n              i++;\n              body += chunk;\n          });\n          response.on('end', () => {\n              resolve(Buffer.from(body).toString('base64'));\n          });\n      });\n  });\n}\n\nasync function transcribeFile() {\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nUpdate:\nAfter looking at the (asker's) code in this question, I realized that I got confused in the definition of recognizerName and used only the string of the recognizerId instead of using the full path of the recognizer (projects/${projectId}/locations/global/recognizers/${recognizerId}), so currently my code looks like this:\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\n// ...\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nBut now I get another error:\nError: 3 INVALID_ARGUMENT: Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.',\n  metadata: Metadata { internalRepr: Map(0) {}, options: {} },\n  note: 'Exception occurred in retry method that was not classified as transient'\n}\n\n",
        "Answer": "I managed to solve it!\nThe error Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters occurs when the requested file is in a format without Codec (in this case .raw) and therefore the Speech to Text API does not know how to encode it.\nTo solve this I had to pass an explicitDecodingConfig object when creating the recognizer (within the defaultRecognitionConfig property) or later in the transcriptionRequest (within the config property).\nconst speech = require('@google-cloud/speech').v2;\n\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\n\nconst client = new speech.SpeechClient();\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId,\n    recognizer: {\n      defaultRecognitionConfig: {\n        explicitDecodingConfig: {\n          encoding: 'LINEAR16',\n          sampleRateHertz: 16000,\n          audioChannelCount: 1\n        }\n      },\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  const recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const gcsUri = 'gs://cloud-samples-data/speech/brooklyn_bridge.raw';\n\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    uri: gcsUri,\n    config: {\n      explicitDecodingConfig: {   // If you didn't set explicitDecodingConfig when creating the recognizer, you have to set it here.\n        encoding: 'LINEAR16',\n        sampleRateHertz: 16000,\n        audioChannelCount: 1\n      }\n    },\n  }\n\n  const response = await client.recognize(transcriptionRequest);\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\n(async function main() {\n  await createRecognizer();\n  await transcribeFile();\n})();\n\n",
        "Source": "https://stackoverflow.com/questions/77940391/how-to-implement-speech-recognition-with-the-google-cloud-speech-to-text-api-usi"
    },
    {
        "Title": "Updating AWS credentials",
        "Question": "I need advice on how I can update AWS credentials after they expire.\nI'm creating a bean of AmazonSimpleEmailService this way:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new AWSStaticCredentialsProvider(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                        .getCredentials())\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\nBut when I'm trying to use it I'm getting an error:\nThe security token included in the request is expired (Service: AmazonSimpleEmailService; Status Code: 403; Error Code: ExpiredToken\nIf I create an instance of the SES client right before each mail sending - it works correctly, but it looks like a bad practice to create a new instance before each use.\nI understand that the issue with the credentials that I'm getting via STSAssumeRoleSessionCredentialsProvider - they just have an expiration time.\nI am wondering if there should be a way to automatically update the credentials when they are going to expire, so I'd really appreciate any advice on how to do it.\n",
        "Answer": "STSAssumeRoleSessionCredentialsProvider will auto-refresh the credentials, but you are blocking that functionality by getting a single set of credentials and passing them into a AWSStaticCredentialsProvider instance.\nThis should allow you to use the auto-refresh of the STS Provider:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\n",
        "Source": "https://stackoverflow.com/questions/77921630/updating-aws-credentials"
    },
    {
        "Title": "Reading credentials from another file doesn&#39;t work in Python",
        "Question": "I created a Python file called pw.py where I store my username and password.\nThe content of pw.py is as follows:\nusername = \"username1\"\npassword = \"pswrd2\"\n\nTo access these credentials from another file called ProducerReddit.ipynb, I do the following:\nfrom pw import password, username\n\nHowever, when I try to print password and username, they are always empty.\nThe two files are inside the same folder.\nWhat I am doing wrong?\n",
        "Answer": "I recommend you to check do you have a __init__.py file in the your top folder.\nIf you don't have please create this __init__.py module.\nThen try to use absolute import path.\nFor example you have top directorty with this structure:\ntop_directory:\n              __init__.py\n              pw.py\n              other_file.py\n\nyour import instructions in the other_file.py shoud be like this:\nfrom top_directory.pw import username, password\n\nI hope this may help you\n",
        "Source": "https://stackoverflow.com/questions/77786371/reading-credentials-from-another-file-doesnt-work-in-python"
    },
    {
        "Title": "Apache HTTP Client 5.3 ~ NTCredentials no longer working",
        "Question": "I have a project that uses org.apache.httpcomponents.client5:httpclient5. I recently tried upgrading from version 5.2.3 to version 5.3, only to realize that the authentication was no longer working in the new version.\nHere is how the relevant code looks:\n        BasicCredentialsProvider credentialsProvider =\n            new BasicCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(credentialsProvider)\n            .build();\n[...]\n            final HttpGet httpget = new HttpGet(targetUrl);\n\n            CloseableHttpResponse response = httpclient.execute(httpget);\n\n\nBefore the update from 5.2.3 to 5.3 this worked fine. However, when I use 5.3, I now get a 401 UNAUTHORIZED response.\nI also tried the following variations to above code to pass the credentials along, but they all also return only 401 UNAUTHORIZED:\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(CredentialsProviderBuilder.create()\n                .add(new HttpHost(host, port), username, password.toCharArray())\n                .build())\n            .build();\n\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new UsernamePasswordCredentials(username, password.toCharArray())\n        );\n\n        SystemDefaultCredentialsProvider credentialsProvider =\n            new SystemDefaultCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n\nNow I am stumped. Could this be a bug in 5.3? Or did something change to the way that the NTCredentialsProvider works? I could not find any release notes indicating so, and since this is only a minor version update that would surprise me.\nNonetheless, the fact it that it works with the old version but not with the new one. Does anyone has any suggestions as to what I can do about that?\n",
        "Answer": "We now managed to solve it by providing the httpclient with a default auth scheme registry like this:\n        Lookup<AuthSchemeFactory> authSchemeRegistry = RegistryBuilder.<AuthSchemeFactory>create()\n                .register(StandardAuthScheme.NTLM, new NTLMSchemeFactory()).build();\n\n        httpclient = HttpClients.custom()\n                .setDefaultCredentialsProvider(credentialsProvider)\n                .setDefaultRequestConfig(config)\n                .setDefaultAuthSchemeRegistry(authSchemeRegistry)\n                .build();\n\n",
        "Source": "https://stackoverflow.com/questions/77784888/apache-http-client-5-3-ntcredentials-no-longer-working"
    },
    {
        "Title": "Error on Google Sign In CredentialManager, using Jetpack Compose",
        "Question": "I am trying to create a Sign In with Google Button but everytime credentialManager.getCredential is called, it gives me :\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nI tried resetting the SHA-1 Fingerprint, I've created both web application and android in the google cloud credential, I've used both the web app client id and android client id. I'm lost, please help\n\nobject DeveloperScreen{\n\n    const val GOOGLE_WEB_CLIENT_ID = \"xxxxxxxxxh5n94bxxxxxxxxxxx1.apps.googleusercontent.com\"\n//    const val GOOGLE_WEB_CLIENT_SECRET = \"GxxxxxxxxCinwYDR8KQi3-wD9ugT311\"\n//    const val GOOGLE_ANDROID_CLIENT_ID = \"3xxxxxxx80-7ja1n9nknxxxxxxxxxxxxxxxxxxxens33k.apps.googleusercontent.com\"\n\n\n    private suspend fun googleSignIn(context : Context) {\n\n\n        val credentialManager = androidx.credentials.CredentialManager.create(context)\n\n        val googleIdOption: GetGoogleIdOption = GetGoogleIdOption.Builder()\n            .setFilterByAuthorizedAccounts(false)\n            .setServerClientId(GOOGLE_WEB_CLIENT_ID)\n            .build()\n\n        Log.i(\"auth-google-googleIdOption\", googleIdOption.toString())\n\n        val request: GetCredentialRequest = GetCredentialRequest.Builder()\n            .addCredentialOption(googleIdOption)\n            .build()\n\n        Log.i(\"auth-google-credentialRequest\", request.toString())\n\n\n        val result = credentialManager.getCredential(\n            request = request,\n            context = context,\n        )\n\n        Log.i(\"auth-google-result\", result.toString())\n\n\n\n\n\n    }\n\n\n\n    @Composable\n    public fun DeveloperScreen1(navController : NavHostController, context : Context){\n\n        var phoneNumber by rememberSaveable { mutableStateOf(\"\") }\n        var email by rememberSaveable { mutableStateOf(\"\")}\n        var otpCode by rememberSaveable { mutableStateOf(\"\") }\n\n        var useEmail by rememberSaveable { mutableStateOf(false)}\n\n        var message by rememberSaveable { mutableStateOf(\"\")}\n\n        val coroutineScope = rememberCoroutineScope()\n\n        Column {\n\n\n            var user : User? = getCurrentUser()\n\n            Text(\n                textAlign = TextAlign.Center,\n                fontSize = 5.em,\n                text = \"DEV SCREEN\",\n                modifier = Modifier\n                    .fillMaxWidth()\n                    .padding(top = 10.dp)\n\n            )\n\n            Text(\n                text = message,\n                color = Color.Black\n            )\n\n            Button(\n                onClick = {\n\n                    coroutineScope.launch {\n\n                        googleSignIn(context)\n\n                    }\n...\n\n\n\n\nvar screenHeight = 0.dp\nvar screenWidth = 0.dp\n\nvar authViewModel = AuthViewModel()\n\n\n\nclass MainActivity : ComponentActivity() {\n\n\n\n    @RequiresApi(Q)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n\n        Log.d(\"Initialize\", \"App Started\")\n\n        setContent {\n\n\n            var context: Context = LocalContext.current\n\n            Box(\n                Modifier\n                    .background(color = Color(0xFFBDC6CA))\n                    .safeDrawingPadding()\n            ) {\n                MetroFCTheme {\n                    MainContent(context)\n\n\n\n                }\n            }\n        }\n\n        actionBar?.hide()\n        WindowCompat.setDecorFitsSystemWindows(window, false)\n        if (Build.VERSION.SDK_INT < Build.VERSION_CODES.R) {\n            window.addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)\n        } else {\n            window.insetsController?.apply {\n//                hide(WindowInsetsAndroid.Type.statusBars())\n                systemBarsBehavior = WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\n            }\n        }\n\n    }\n\n\n}\n\n\n\n@RequiresApi(Q)\n@Composable\nfun MainContent(\n    context : Context\n){\n\n    var user by remember{ mutableStateOf<User?>(null) }\n\n    LaunchedEffect(key1 = user) {\n\n        refreshMenu()\n\n    }\n\n\n    LaunchedEffect(key1 = \"login\") {\n\n        user = loginAnonymously()\n        Log.d(\"DB-User\", \"USER LOGIN SUCCESSFUL : $user\")\n\n    }\n\n\n    Log.d(\"DB\", \"2.\" + user.toString())\n\n\n\n\n    Log.d(\"Initialize\",\"Database Connected\")\n\n    val configuration = LocalConfiguration.current\n    screenHeight = configuration.screenHeightDp.dp\n    screenWidth = configuration.screenWidthDp.dp\n\n    var onDashboard by remember {mutableStateOf(true)}\n    var onMenu = false\n    val updateStates = { dashboard: Boolean, menu: Boolean ->\n        onDashboard = dashboard\n        onMenu = menu\n    }\n\n    val navController = rememberNavController()\n\n\n    Scaffold(\n\n        bottomBar = {\n            if(authViewModel.isLoggedIn) NavigationBar(navController = navController, onDashboard, onMenu, updateStates)\n\n                    },\n        containerColor = MaterialTheme.colorScheme.background,\n        contentWindowInsets = WindowInsets(0.dp),\n        modifier = Modifier.fillMaxSize()\n\n    ) {\n    innerPadding ->\n\n        val scrollState = rememberScrollState()\n\n        val padding = innerPadding\n\n        NavHost(\n            navController = navController,\n            startDestination = if (authViewModel.isLoggedIn) Route.DEV_SCREEN else Route.DEV_SCREEN,\n            modifier = Modifier\n//                .verticalScroll(state = scrollState)\n                .fillMaxSize()\n        ) {\n\n            composable(route = Route.DEV_SCREEN){\n                DeveloperScreen1(navController, context)\n            }\n\n            composable(route = Route.DASHBOARD_SCREEN) {\n\n                authViewModel.login(user)\n                DashboardScreen()\n            }\n\n            composable(route = Route.MENU_SCREEN) {\n                authViewModel.login(user)\n                MenuScreen(user)\n            }\n        }\n    }\n}\n\nProcess: com.metrofriedchicken.metrofc, PID: 20630\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nat androidx.credentials.playservices.controllers.CredentialProviderBaseController$Companion.getCredentialExceptionTypeToException$credentials_play_services_auth_release(CredentialProviderBaseController.kt:110)\nat androidx.credentials.playservices.controllers.BeginSignIn.CredentialProviderBeginSignInController$resultReceiver$1$onReceiveResult$1.invoke(CredentialProviderBeginSignInController.kt:93)\nI've tried :\n\nDeleting Keystore and make a new one ( debug and release )\nUsed the web app client id and android client id\nChange device\nwaited a day\n\n",
        "Answer": "I am assuming you are currently integrating the Credential Manager in debug mode and testing your integration in an app directly installed from Android Studio to  your test device.\nIn this case you will need to configure the SHA1 key currently being used to sign your app, which is Android Studio's debug keystore.\nIn this case, you can get the SHA1 by running below command in Android Studio's terminal:\n./gradlew signingreport\n\nCopy the correct SHA1 fingerprint of correct Variant and Config from the terminal console and configure the same in cloud console for your app's Android OAuth2 client.\nIn order to keep the steps cleaner, I am mentioning them as below:\n\nCreate one Android OAuth2 client in cloud api console with you app's package name.\nUse the debug SHA1 key in this Android OAuth2 client creation as I mentioned above (in order to recognized this as debug client you can append the client name with debug as \"your-app-debug\")\nCreate one Web OAuth2 client in cloud api console. This will act as the server for your app\nCopy the ClientID of this Web client and use in setServerClientId(ServerClientID) in your integration.\n\nWith these simple steps alone, your integration should work fine.\nOptionally, as the next step,\n\nYou can create another Android OAuth2 client with release key's SHA1 fingerprint for production, and for recognizing this client, can give it a name \"Your-app-release\"\n\n",
        "Source": "https://stackoverflow.com/questions/78247578/error-on-google-sign-in-credentialmanager-using-jetpack-compose"
    },
    {
        "Title": "Access AWS Secrets Manager with IMDSv2 set to required",
        "Question": "I'm working on a Java application running on an EC2 instance in AWS. My goal is to access AWS Secrets Manager using an AWS SDK for Java and an IAM role attached to the EC2 instance.\nEverything works smoothly when IMDSv2 (Instance Metadata Service version 2) is optional. However, when it's set to required as recommended, I encounter an issue.\nSpecifically, I'm receiving the error 'software.amazon.awssdk.core.exception.SdkClientException: Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain'.\nHow can I resolve this issue and successfully access AWS Secrets Manager with IMDSv2 set to required?\nTried attaching different policies, created some custom ones but the result is same.\njava sdk version used:\n<dependency>\n     <groupId>software.amazon.awssdk</groupId>\n     <artifactId>secretsmanager</artifactId>\n     <version>2.25.7</version>\n</dependency>\n\n",
        "Answer": "I did some more research and was able to figure this out. There have been issues with IMDSv2 network request and what was suggested is to increase the hop limit to '2' on the ec2 instance. As said here in the considerations section as well https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-retrieval.html#imds-considerations\nTo increase the hop limit:\n\"Use the modify-instance-metadata-options CLI command and set the http-put-response-hop-limit parameter to the required number of hops. In the following example, the hop limit is set to 2. Note that when specifying a value for http-put-response-hop-limit, you must also set http-endpoint to enabled\"\nUsing aws cli:\naws ec2 modify-instance-metadata-options \\\n--instance-id <instance-id> \\\n--http-put-response-hop-limit 2 \\\n--http-endpoint enabled\n\n",
        "Source": "https://stackoverflow.com/questions/78183614/access-aws-secrets-manager-with-imdsv2-set-to-required"
    },
    {
        "Title": "Install a private package with credentials from requirements.txt",
        "Question": "I want to a private package via\n%pip install -r /dbfs/requirements.txt\n\nInside this requirements.txt is give:\ngit+https://<user>:$token@<gitprovider>.com/<path/to/repo>\n\nIf i give user and token inside the requirements.txt it works like a charm, but I want to pass user and token via dbutils.secrets. Is this doable without manipulating the requirements.txt before?\nI thought it would be possible to create environment variables, but this did not work for me.\n%env GIT_USERNAME= ...\n%env GIT_TOKEN= ...\n\n",
        "Answer": "The way is using python\n\nGetting information\nStore the information in a temporary file so that its details will not be found in the run log or records after running\nRun\n\nimport dbutils\n\nusername = dbutils.secrets.get(scope=\"your_scope\", key=\"git_username\")\ntoken = dbutils.secrets.get(scope=\"your_scope\", key=\"git_token\")\n\nrepo_url = f\"git+https://{username}:{token}@gitprovider.com/path/to/repo\"\n\nrequirements_path = \"/dbfs/tmp/requirements.txt\"\n\nwith open(requirements_path, \"w\") as file:\n    file.write(repo_url + \"\\n\")\n\ndbutils.notebook.run(\"%pip install -r \" + requirements_path, 60)\n\n",
        "Source": "https://stackoverflow.com/questions/78140635/install-a-private-package-with-credentials-from-requirements-txt"
    },
    {
        "Title": "PayPal bearer resets after x amount of seconds",
        "Question": "I\u2019m using PayPal refund api. The api docs says the bearer token that I am using will reset after x amount of seconds.\nLink to where it says access token resets:\nhttps://developer.paypal.com/reference/get-an-access-token/\nIn my case my token resets after 9 hours. I am using this token to refund purchases which will happen all the time. Is there an alternate solution from Bearer <Access-Token> that doesn\u2019t include a reset token? I haven\u2019t been able to find one other than the Basic <client_id>:<secret> which includes client credentials which doesn\u2019t seem to work. And yes the credentials are correct.\nLink to api:\nhttps://developer.paypal.com/docs/api/payments/v2/#captures_refund\n",
        "Answer": "Basic client_id:secret, where the string client_id:secret is Base64 encoded, is the header value for HTTP Basic Authentication. This is used to obtain an access token from the oauth2 token endpoint.\nAccess tokens expire after 9 hours, beyond which a new one must be obtained. These are required for all PayPal REST API operations, including refunds.\n",
        "Source": "https://stackoverflow.com/questions/78109044/paypal-bearer-resets-after-x-amount-of-seconds"
    },
    {
        "Title": "How to store MySQL credentials in python project, that users not only from my pc will use later?",
        "Question": "I have the following code:\nclass Server:\n    def __init__(self):\n        #server credentials\n        self.ip = \"192.168.1.182\"\n        self.user = \"bank_user\"\n        self.password = \"*mypass*\"\n        self.port = 3307\n        self.database = \"bank\"\n    def connect_to_server(self):\n        try:\n            self.mydb = mysql.connector.connect(\n                host = self.ip,\n                user = self.user,\n                password = self.password,\n                port = self.port,\n                database = self.database\n                )\n            self.mycursor = self.mydb.cursor()\n            print(\"\u2713 Server connection estabilished\")\n            rlist = [True]\n\nThe problem is, I don't want to store it in my code because I feel that it's not safe\nI'm creating a banking app (just for fun) so it will be used as .py->.exe later by users not only from my pc. I shouldn't be stored in a config file or a plaintext file, because if someone gets the credentials he can basically log into the MySQL database and modify all of the data.\nSo no:\n\nEnviromental variables\nPlaintext/ config file\nIt should work on any pc (I'm using pytoexe to convert my python file to exe, so that everyone can run the app)\nI'm new to stackoverflow so forgive me if I wrote sth wrong\n\nI thought about creating a password encryption, but anyone who gets the decryption key can decrypt the password. I also thought about creating my own encryption method, but anyone who gets to my code can just use the decrypting function and execute it for example: decryptor(\"encryptedpassword\")\n",
        "Answer": "Right, anyone who gets your code can extract the MySQL password and connect using any other client. They can do any SQL query according to the privileges you granted that MySQL user.\nEven if you compile using pytoexe, a skilled person could use a debugger or simply the strings tool to extract the password.\nIf you encrypt, they can decrypt. If you try to invent your own encryption algorithm, assume they can decrypt it more easily. I assume you are not an accomplished Ph.D. in applied cryptography, so any novel encryption method you think of will surely be easier to crack than state of the art encryption tools.\nThere are two common methods to solve this problem:\n\nDon't give them the MySQL password. The application you give them has no MySQL connection. The application makes HTTP requests to a web service that you develop. The code in your web service implements specific SQL they can execute. This is where you enforce business rules about what they can access. This is by far the most popular solution.\n\nGive them the MySQL password, but restrict the SQL they can execute. Privileges alone only give you limited control, so you need to create a layer of stored routines and views in the MySQL database. They should be able to access the stored routines and views, but the user cannot access the underlying tables. The routines and views have privileges to do that. Therefore the users can only do what you have allowed them to do in those routines and views.\n\n\nThere could also be a solution using a proxy such as ProxySQL. This would involve writing filters in the proxy so clients would not be allowed to run queries except those you want them to run. The advantage would be that the client application thinks it's connecting to a MySQL Server, but it's really connecting to the proxy. But I think it would be easier to write a web service than to write a whole application's business logic in a proxy.\nI suppose one could also use MySQL's query rewrite plugin to do something similar, but I've never seen anyone do that successfully.\n",
        "Source": "https://stackoverflow.com/questions/78089675/how-to-store-mysql-credentials-in-python-project-that-users-not-only-from-my-pc"
    },
    {
        "Title": "Setup access.ini file permession so it can be read by php script",
        "Question": "I'm really new to this so sorry if this isn't clear.\nI'm trying to hide my database credentials using an access.ini  file.\nI have a AWS instance, with my scripts located in /bitnami/joomla/index (in short I have an html page that display data using a php file that queries a postgresql db). I've tried creating a new directory /bitnami/joomla/config where I placed the access.ini  file. However, my php script can't read it due to permission issues (I guess).\nThe owner/group for the files in /bitnami/joomla/index are bitnami bitnami.\nAnd the owner/group and permissions for the folder /bitnami/joomla/config and its file are :\nbitnami bitnami\ndrwx--x--x\nIs my setup completly wrong, or is the issue easy to solve ?\n",
        "Answer": "Instead of using an access.ini file, consider using environment variables to store sensitive credentials.\nPHP can read environment variables easily.\nAdditional details can be found here.\n",
        "Source": "https://stackoverflow.com/questions/78035277/setup-access-ini-file-permession-so-it-can-be-read-by-php-script"
    },
    {
        "Title": "How to set an &quot;environment&quot; in a non-trivial way using expression?",
        "Question": "I have a GitHub Actions workflow which deploys some things to an environment. The workflow needs to log in to access the environment, so we use GitHub environment secrets to store credentials.\nMy workflow contains this:\non:\n  workflow_dispatch:\n    inputs:\n      deployment_target:\n        type: choice\n        description: Choose an environment to deploy to\n        options:\n          - dev\n          - staging\n          - production\n          - benchmarks\n...\njobs:\n  deploy-to-persistent-environment:\n    environment: ${{ github.event.inputs.deployment_target}}\n    steps: \n      - name: Login # Pseudocode\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy # Pseudocode\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nThe \"benchmarks\" environment uses the same credentials as the \"development\" environment. So I would like to re-use the same GitHub environment secrets rather than have two sets of duplicate environment secrets in GitHub.\nI.e., I would like to do something like this pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ if github.event.inputs.deployment_target == 'benchmarks' then 'development' else github.event.inputs.deployment_target }}\n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nIs there any way to achieve this with GitHub Actions?\n",
        "Answer": "There is a way to do it directly in the expression, according to this reference on the Github Community, by using the syntax ${{ x && 'ifTrue' || 'ifFalse'  }}\nIn that case:\n\nif the condition x is True, the first argument will be used.\nif the condition x is False, the second argument will be used.\n\nIn our case here, it would look like this:\nenvironment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}\n\nWhere:\n\nif github.event.inputs.deployment_target == 'benchmarks' is True, development will be used as environment.\n\nif github.event.inputs.deployment_target == 'benchmarks' is False, github.event.inputs.deployment_target will be used as environment.\n\n\nUpdating the pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}   \n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nEDIT: This is now available on the GitHub official doc as well (Thanks Benjamin W for reporting)\n",
        "Source": "https://stackoverflow.com/questions/77959880/how-to-set-an-environment-in-a-non-trivial-way-using-expression"
    },
    {
        "Title": "How to implement speech recognition with the Google Cloud Speech-to-Text API using Node.js?",
        "Question": "I am new to Google Cloud,\nI recently created a project with Speech-to-Text API.\nAfter creating the project and linking it to a billing account, I accessed the Node.js in-console tutorial for a quick start.\nAfter following all the steps in the in-console tutorial (and dealing with some mistakes in the code in the tutorial itself), and running the code, I got the following error:\nnode:internal/process/promises:289\n            triggerUncaughtException(err, true /* fromPromise */);\n            ^\n\nError: 3 INVALID_ARGUMENT: Invalid resource field value in the request.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Invalid resource field value in the request.',\n  metadata: Metadata {\n    internalRepr: Map(2) {\n      'google.rpc.errorinfo-bin' => [\n        Buffer(127) [Uint8Array] [\n           10,  24,  82,  69,  83,  79,  85,  82,  67,  69,  95,  80,\n           82,  79,  74,  69,  67,  84,  95,  73,  78,  86,  65,  76,\n           73,  68,  18,  14, 103, 111, 111, 103, 108, 101,  97, 112,\n          105, 115,  46,  99, 111, 109,  26,  32,  10,   7, 115, 101,\n          114, 118, 105,  99, 101,  18,  21, 115, 112, 101, 101,  99,\n          104,  46, 103, 111, 111, 103, 108, 101,  97, 112, 105, 115,\n           46,  99, 111, 109,  26,  49,  10,   6, 109, 101, 116, 104,\n          111, 100,  18,  39, 103, 111, 111, 103, 108, 101,  46,  99,\n          108, 111, 117, 100,\n          ... 27 more items\n        ]\n      ],\n      'grpc-status-details-bin' => [\n        Buffer(222) [Uint8Array] [\n            8,   3,  18,  44,  73, 110, 118,  97, 108, 105, 100,  32,\n          114, 101, 115, 111, 117, 114,  99, 101,  32, 102, 105, 101,\n          108, 100,  32, 118,  97, 108, 117, 101,  32, 105, 110,  32,\n          116, 104, 101,  32, 114, 101, 113, 117, 101, 115, 116,  46,\n           26, 171,   1,  10,  40, 116, 121, 112, 101,  46, 103, 111,\n          111, 103, 108, 101,  97, 112, 105, 115,  46,  99, 111, 109,\n           47, 103, 111, 111, 103, 108, 101,  46, 114, 112,  99,  46,\n           69, 114, 114, 111, 114,  73, 110, 102, 111,  18, 127,  10,\n           24,  82,  69,  83,\n          ... 122 more items\n        ]\n      ]\n    },\n    options: {}\n  },\n  note: 'Exception occurred in retry method that was not classified as transient',\n  statusDetails: [\n    ErrorInfo {\n      metadata: {\n        service: 'speech.googleapis.com',\n        method: 'google.cloud.speech.v2.Speech.Recognize'\n      },\n      reason: 'RESOURCE_PROJECT_INVALID',\n      domain: 'googleapis.com'\n    }\n  ],\n  reason: 'RESOURCE_PROJECT_INVALID',\n  domain: 'googleapis.com',\n  errorInfoMetadata: {\n    service: 'speech.googleapis.com',\n    method: 'google.cloud.speech.v2.Speech.Recognize'\n  }\n}\n\nThis is after I seted a project for quota purposes (using gcloud auth application-default set-quota-project $PROJECT_ID in the terminal).\nI also did the same steps through the gcloud CLI (on Windows) and it returned the same error.\nIs there something I forgot to do? Or something in the code is wrong? Maybe it's something to do with the fact that I'm working with version 2 of the API and the code is optimized to work only with version 1 of the API?\nMany thanks in advance!\nThe reusable Node.js code (I made some changes from the original code of the tutorial after encountering errors, and I also changed the way to get the data of the audio file after I couldn't get it from the uri of the bucket, as is customary in GCP):\nconst speech = require('@google-cloud/speech').v2;\nconst https = require('https');\n\nconst client = new speech.SpeechClient();\nconst projectId = '<ProjectId>';\nvar recognizerName;\n\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId: 'en123',\n    recognizer: {\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function getUrlData(url) {\n  return new Promise((resolve) => {\n      https.get(url, response => {\n          var body = '';\n          var i = 0;\n          response.on('data', chunk => {\n              i++;\n              body += chunk;\n          });\n          response.on('end', () => {\n              resolve(Buffer.from(body).toString('base64'));\n          });\n      });\n  });\n}\n\nasync function transcribeFile() {\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nUpdate:\nAfter looking at the (asker's) code in this question, I realized that I got confused in the definition of recognizerName and used only the string of the recognizerId instead of using the full path of the recognizer (projects/${projectId}/locations/global/recognizers/${recognizerId}), so currently my code looks like this:\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\n// ...\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nBut now I get another error:\nError: 3 INVALID_ARGUMENT: Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.',\n  metadata: Metadata { internalRepr: Map(0) {}, options: {} },\n  note: 'Exception occurred in retry method that was not classified as transient'\n}\n\n",
        "Answer": "I managed to solve it!\nThe error Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters occurs when the requested file is in a format without Codec (in this case .raw) and therefore the Speech to Text API does not know how to encode it.\nTo solve this I had to pass an explicitDecodingConfig object when creating the recognizer (within the defaultRecognitionConfig property) or later in the transcriptionRequest (within the config property).\nconst speech = require('@google-cloud/speech').v2;\n\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\n\nconst client = new speech.SpeechClient();\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId,\n    recognizer: {\n      defaultRecognitionConfig: {\n        explicitDecodingConfig: {\n          encoding: 'LINEAR16',\n          sampleRateHertz: 16000,\n          audioChannelCount: 1\n        }\n      },\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  const recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const gcsUri = 'gs://cloud-samples-data/speech/brooklyn_bridge.raw';\n\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    uri: gcsUri,\n    config: {\n      explicitDecodingConfig: {   // If you didn't set explicitDecodingConfig when creating the recognizer, you have to set it here.\n        encoding: 'LINEAR16',\n        sampleRateHertz: 16000,\n        audioChannelCount: 1\n      }\n    },\n  }\n\n  const response = await client.recognize(transcriptionRequest);\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\n(async function main() {\n  await createRecognizer();\n  await transcribeFile();\n})();\n\n",
        "Source": "https://stackoverflow.com/questions/77940391/how-to-implement-speech-recognition-with-the-google-cloud-speech-to-text-api-usi"
    },
    {
        "Title": "Updating AWS credentials",
        "Question": "I need advice on how I can update AWS credentials after they expire.\nI'm creating a bean of AmazonSimpleEmailService this way:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new AWSStaticCredentialsProvider(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                        .getCredentials())\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\nBut when I'm trying to use it I'm getting an error:\nThe security token included in the request is expired (Service: AmazonSimpleEmailService; Status Code: 403; Error Code: ExpiredToken\nIf I create an instance of the SES client right before each mail sending - it works correctly, but it looks like a bad practice to create a new instance before each use.\nI understand that the issue with the credentials that I'm getting via STSAssumeRoleSessionCredentialsProvider - they just have an expiration time.\nI am wondering if there should be a way to automatically update the credentials when they are going to expire, so I'd really appreciate any advice on how to do it.\n",
        "Answer": "STSAssumeRoleSessionCredentialsProvider will auto-refresh the credentials, but you are blocking that functionality by getting a single set of credentials and passing them into a AWSStaticCredentialsProvider instance.\nThis should allow you to use the auto-refresh of the STS Provider:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\n",
        "Source": "https://stackoverflow.com/questions/77921630/updating-aws-credentials"
    },
    {
        "Title": "Reading credentials from another file doesn&#39;t work in Python",
        "Question": "I created a Python file called pw.py where I store my username and password.\nThe content of pw.py is as follows:\nusername = \"username1\"\npassword = \"pswrd2\"\n\nTo access these credentials from another file called ProducerReddit.ipynb, I do the following:\nfrom pw import password, username\n\nHowever, when I try to print password and username, they are always empty.\nThe two files are inside the same folder.\nWhat I am doing wrong?\n",
        "Answer": "I recommend you to check do you have a __init__.py file in the your top folder.\nIf you don't have please create this __init__.py module.\nThen try to use absolute import path.\nFor example you have top directorty with this structure:\ntop_directory:\n              __init__.py\n              pw.py\n              other_file.py\n\nyour import instructions in the other_file.py shoud be like this:\nfrom top_directory.pw import username, password\n\nI hope this may help you\n",
        "Source": "https://stackoverflow.com/questions/77786371/reading-credentials-from-another-file-doesnt-work-in-python"
    },
    {
        "Title": "Apache HTTP Client 5.3 ~ NTCredentials no longer working",
        "Question": "I have a project that uses org.apache.httpcomponents.client5:httpclient5. I recently tried upgrading from version 5.2.3 to version 5.3, only to realize that the authentication was no longer working in the new version.\nHere is how the relevant code looks:\n        BasicCredentialsProvider credentialsProvider =\n            new BasicCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(credentialsProvider)\n            .build();\n[...]\n            final HttpGet httpget = new HttpGet(targetUrl);\n\n            CloseableHttpResponse response = httpclient.execute(httpget);\n\n\nBefore the update from 5.2.3 to 5.3 this worked fine. However, when I use 5.3, I now get a 401 UNAUTHORIZED response.\nI also tried the following variations to above code to pass the credentials along, but they all also return only 401 UNAUTHORIZED:\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(CredentialsProviderBuilder.create()\n                .add(new HttpHost(host, port), username, password.toCharArray())\n                .build())\n            .build();\n\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new UsernamePasswordCredentials(username, password.toCharArray())\n        );\n\n        SystemDefaultCredentialsProvider credentialsProvider =\n            new SystemDefaultCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n\nNow I am stumped. Could this be a bug in 5.3? Or did something change to the way that the NTCredentialsProvider works? I could not find any release notes indicating so, and since this is only a minor version update that would surprise me.\nNonetheless, the fact it that it works with the old version but not with the new one. Does anyone has any suggestions as to what I can do about that?\n",
        "Answer": "We now managed to solve it by providing the httpclient with a default auth scheme registry like this:\n        Lookup<AuthSchemeFactory> authSchemeRegistry = RegistryBuilder.<AuthSchemeFactory>create()\n                .register(StandardAuthScheme.NTLM, new NTLMSchemeFactory()).build();\n\n        httpclient = HttpClients.custom()\n                .setDefaultCredentialsProvider(credentialsProvider)\n                .setDefaultRequestConfig(config)\n                .setDefaultAuthSchemeRegistry(authSchemeRegistry)\n                .build();\n\n",
        "Source": "https://stackoverflow.com/questions/77784888/apache-http-client-5-3-ntcredentials-no-longer-working"
    },
    {
        "Title": "Error on Google Sign In CredentialManager, using Jetpack Compose",
        "Question": "I am trying to create a Sign In with Google Button but everytime credentialManager.getCredential is called, it gives me :\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nI tried resetting the SHA-1 Fingerprint, I've created both web application and android in the google cloud credential, I've used both the web app client id and android client id. I'm lost, please help\n\nobject DeveloperScreen{\n\n    const val GOOGLE_WEB_CLIENT_ID = \"xxxxxxxxxh5n94bxxxxxxxxxxx1.apps.googleusercontent.com\"\n//    const val GOOGLE_WEB_CLIENT_SECRET = \"GxxxxxxxxCinwYDR8KQi3-wD9ugT311\"\n//    const val GOOGLE_ANDROID_CLIENT_ID = \"3xxxxxxx80-7ja1n9nknxxxxxxxxxxxxxxxxxxxens33k.apps.googleusercontent.com\"\n\n\n    private suspend fun googleSignIn(context : Context) {\n\n\n        val credentialManager = androidx.credentials.CredentialManager.create(context)\n\n        val googleIdOption: GetGoogleIdOption = GetGoogleIdOption.Builder()\n            .setFilterByAuthorizedAccounts(false)\n            .setServerClientId(GOOGLE_WEB_CLIENT_ID)\n            .build()\n\n        Log.i(\"auth-google-googleIdOption\", googleIdOption.toString())\n\n        val request: GetCredentialRequest = GetCredentialRequest.Builder()\n            .addCredentialOption(googleIdOption)\n            .build()\n\n        Log.i(\"auth-google-credentialRequest\", request.toString())\n\n\n        val result = credentialManager.getCredential(\n            request = request,\n            context = context,\n        )\n\n        Log.i(\"auth-google-result\", result.toString())\n\n\n\n\n\n    }\n\n\n\n    @Composable\n    public fun DeveloperScreen1(navController : NavHostController, context : Context){\n\n        var phoneNumber by rememberSaveable { mutableStateOf(\"\") }\n        var email by rememberSaveable { mutableStateOf(\"\")}\n        var otpCode by rememberSaveable { mutableStateOf(\"\") }\n\n        var useEmail by rememberSaveable { mutableStateOf(false)}\n\n        var message by rememberSaveable { mutableStateOf(\"\")}\n\n        val coroutineScope = rememberCoroutineScope()\n\n        Column {\n\n\n            var user : User? = getCurrentUser()\n\n            Text(\n                textAlign = TextAlign.Center,\n                fontSize = 5.em,\n                text = \"DEV SCREEN\",\n                modifier = Modifier\n                    .fillMaxWidth()\n                    .padding(top = 10.dp)\n\n            )\n\n            Text(\n                text = message,\n                color = Color.Black\n            )\n\n            Button(\n                onClick = {\n\n                    coroutineScope.launch {\n\n                        googleSignIn(context)\n\n                    }\n...\n\n\n\n\nvar screenHeight = 0.dp\nvar screenWidth = 0.dp\n\nvar authViewModel = AuthViewModel()\n\n\n\nclass MainActivity : ComponentActivity() {\n\n\n\n    @RequiresApi(Q)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n\n        Log.d(\"Initialize\", \"App Started\")\n\n        setContent {\n\n\n            var context: Context = LocalContext.current\n\n            Box(\n                Modifier\n                    .background(color = Color(0xFFBDC6CA))\n                    .safeDrawingPadding()\n            ) {\n                MetroFCTheme {\n                    MainContent(context)\n\n\n\n                }\n            }\n        }\n\n        actionBar?.hide()\n        WindowCompat.setDecorFitsSystemWindows(window, false)\n        if (Build.VERSION.SDK_INT < Build.VERSION_CODES.R) {\n            window.addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)\n        } else {\n            window.insetsController?.apply {\n//                hide(WindowInsetsAndroid.Type.statusBars())\n                systemBarsBehavior = WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\n            }\n        }\n\n    }\n\n\n}\n\n\n\n@RequiresApi(Q)\n@Composable\nfun MainContent(\n    context : Context\n){\n\n    var user by remember{ mutableStateOf<User?>(null) }\n\n    LaunchedEffect(key1 = user) {\n\n        refreshMenu()\n\n    }\n\n\n    LaunchedEffect(key1 = \"login\") {\n\n        user = loginAnonymously()\n        Log.d(\"DB-User\", \"USER LOGIN SUCCESSFUL : $user\")\n\n    }\n\n\n    Log.d(\"DB\", \"2.\" + user.toString())\n\n\n\n\n    Log.d(\"Initialize\",\"Database Connected\")\n\n    val configuration = LocalConfiguration.current\n    screenHeight = configuration.screenHeightDp.dp\n    screenWidth = configuration.screenWidthDp.dp\n\n    var onDashboard by remember {mutableStateOf(true)}\n    var onMenu = false\n    val updateStates = { dashboard: Boolean, menu: Boolean ->\n        onDashboard = dashboard\n        onMenu = menu\n    }\n\n    val navController = rememberNavController()\n\n\n    Scaffold(\n\n        bottomBar = {\n            if(authViewModel.isLoggedIn) NavigationBar(navController = navController, onDashboard, onMenu, updateStates)\n\n                    },\n        containerColor = MaterialTheme.colorScheme.background,\n        contentWindowInsets = WindowInsets(0.dp),\n        modifier = Modifier.fillMaxSize()\n\n    ) {\n    innerPadding ->\n\n        val scrollState = rememberScrollState()\n\n        val padding = innerPadding\n\n        NavHost(\n            navController = navController,\n            startDestination = if (authViewModel.isLoggedIn) Route.DEV_SCREEN else Route.DEV_SCREEN,\n            modifier = Modifier\n//                .verticalScroll(state = scrollState)\n                .fillMaxSize()\n        ) {\n\n            composable(route = Route.DEV_SCREEN){\n                DeveloperScreen1(navController, context)\n            }\n\n            composable(route = Route.DASHBOARD_SCREEN) {\n\n                authViewModel.login(user)\n                DashboardScreen()\n            }\n\n            composable(route = Route.MENU_SCREEN) {\n                authViewModel.login(user)\n                MenuScreen(user)\n            }\n        }\n    }\n}\n\nProcess: com.metrofriedchicken.metrofc, PID: 20630\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nat androidx.credentials.playservices.controllers.CredentialProviderBaseController$Companion.getCredentialExceptionTypeToException$credentials_play_services_auth_release(CredentialProviderBaseController.kt:110)\nat androidx.credentials.playservices.controllers.BeginSignIn.CredentialProviderBeginSignInController$resultReceiver$1$onReceiveResult$1.invoke(CredentialProviderBeginSignInController.kt:93)\nI've tried :\n\nDeleting Keystore and make a new one ( debug and release )\nUsed the web app client id and android client id\nChange device\nwaited a day\n\n",
        "Answer": "I am assuming you are currently integrating the Credential Manager in debug mode and testing your integration in an app directly installed from Android Studio to  your test device.\nIn this case you will need to configure the SHA1 key currently being used to sign your app, which is Android Studio's debug keystore.\nIn this case, you can get the SHA1 by running below command in Android Studio's terminal:\n./gradlew signingreport\n\nCopy the correct SHA1 fingerprint of correct Variant and Config from the terminal console and configure the same in cloud console for your app's Android OAuth2 client.\nIn order to keep the steps cleaner, I am mentioning them as below:\n\nCreate one Android OAuth2 client in cloud api console with you app's package name.\nUse the debug SHA1 key in this Android OAuth2 client creation as I mentioned above (in order to recognized this as debug client you can append the client name with debug as \"your-app-debug\")\nCreate one Web OAuth2 client in cloud api console. This will act as the server for your app\nCopy the ClientID of this Web client and use in setServerClientId(ServerClientID) in your integration.\n\nWith these simple steps alone, your integration should work fine.\nOptionally, as the next step,\n\nYou can create another Android OAuth2 client with release key's SHA1 fingerprint for production, and for recognizing this client, can give it a name \"Your-app-release\"\n\n",
        "Source": "https://stackoverflow.com/questions/78247578/error-on-google-sign-in-credentialmanager-using-jetpack-compose"
    },
    {
        "Title": "Access AWS Secrets Manager with IMDSv2 set to required",
        "Question": "I'm working on a Java application running on an EC2 instance in AWS. My goal is to access AWS Secrets Manager using an AWS SDK for Java and an IAM role attached to the EC2 instance.\nEverything works smoothly when IMDSv2 (Instance Metadata Service version 2) is optional. However, when it's set to required as recommended, I encounter an issue.\nSpecifically, I'm receiving the error 'software.amazon.awssdk.core.exception.SdkClientException: Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain'.\nHow can I resolve this issue and successfully access AWS Secrets Manager with IMDSv2 set to required?\nTried attaching different policies, created some custom ones but the result is same.\njava sdk version used:\n<dependency>\n     <groupId>software.amazon.awssdk</groupId>\n     <artifactId>secretsmanager</artifactId>\n     <version>2.25.7</version>\n</dependency>\n\n",
        "Answer": "I did some more research and was able to figure this out. There have been issues with IMDSv2 network request and what was suggested is to increase the hop limit to '2' on the ec2 instance. As said here in the considerations section as well https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-retrieval.html#imds-considerations\nTo increase the hop limit:\n\"Use the modify-instance-metadata-options CLI command and set the http-put-response-hop-limit parameter to the required number of hops. In the following example, the hop limit is set to 2. Note that when specifying a value for http-put-response-hop-limit, you must also set http-endpoint to enabled\"\nUsing aws cli:\naws ec2 modify-instance-metadata-options \\\n--instance-id <instance-id> \\\n--http-put-response-hop-limit 2 \\\n--http-endpoint enabled\n\n",
        "Source": "https://stackoverflow.com/questions/78183614/access-aws-secrets-manager-with-imdsv2-set-to-required"
    },
    {
        "Title": "Install a private package with credentials from requirements.txt",
        "Question": "I want to a private package via\n%pip install -r /dbfs/requirements.txt\n\nInside this requirements.txt is give:\ngit+https://<user>:$token@<gitprovider>.com/<path/to/repo>\n\nIf i give user and token inside the requirements.txt it works like a charm, but I want to pass user and token via dbutils.secrets. Is this doable without manipulating the requirements.txt before?\nI thought it would be possible to create environment variables, but this did not work for me.\n%env GIT_USERNAME= ...\n%env GIT_TOKEN= ...\n\n",
        "Answer": "The way is using python\n\nGetting information\nStore the information in a temporary file so that its details will not be found in the run log or records after running\nRun\n\nimport dbutils\n\nusername = dbutils.secrets.get(scope=\"your_scope\", key=\"git_username\")\ntoken = dbutils.secrets.get(scope=\"your_scope\", key=\"git_token\")\n\nrepo_url = f\"git+https://{username}:{token}@gitprovider.com/path/to/repo\"\n\nrequirements_path = \"/dbfs/tmp/requirements.txt\"\n\nwith open(requirements_path, \"w\") as file:\n    file.write(repo_url + \"\\n\")\n\ndbutils.notebook.run(\"%pip install -r \" + requirements_path, 60)\n\n",
        "Source": "https://stackoverflow.com/questions/78140635/install-a-private-package-with-credentials-from-requirements-txt"
    },
    {
        "Title": "PayPal bearer resets after x amount of seconds",
        "Question": "I\u2019m using PayPal refund api. The api docs says the bearer token that I am using will reset after x amount of seconds.\nLink to where it says access token resets:\nhttps://developer.paypal.com/reference/get-an-access-token/\nIn my case my token resets after 9 hours. I am using this token to refund purchases which will happen all the time. Is there an alternate solution from Bearer <Access-Token> that doesn\u2019t include a reset token? I haven\u2019t been able to find one other than the Basic <client_id>:<secret> which includes client credentials which doesn\u2019t seem to work. And yes the credentials are correct.\nLink to api:\nhttps://developer.paypal.com/docs/api/payments/v2/#captures_refund\n",
        "Answer": "Basic client_id:secret, where the string client_id:secret is Base64 encoded, is the header value for HTTP Basic Authentication. This is used to obtain an access token from the oauth2 token endpoint.\nAccess tokens expire after 9 hours, beyond which a new one must be obtained. These are required for all PayPal REST API operations, including refunds.\n",
        "Source": "https://stackoverflow.com/questions/78109044/paypal-bearer-resets-after-x-amount-of-seconds"
    },
    {
        "Title": "How to store MySQL credentials in python project, that users not only from my pc will use later?",
        "Question": "I have the following code:\nclass Server:\n    def __init__(self):\n        #server credentials\n        self.ip = \"192.168.1.182\"\n        self.user = \"bank_user\"\n        self.password = \"*mypass*\"\n        self.port = 3307\n        self.database = \"bank\"\n    def connect_to_server(self):\n        try:\n            self.mydb = mysql.connector.connect(\n                host = self.ip,\n                user = self.user,\n                password = self.password,\n                port = self.port,\n                database = self.database\n                )\n            self.mycursor = self.mydb.cursor()\n            print(\"\u2713 Server connection estabilished\")\n            rlist = [True]\n\nThe problem is, I don't want to store it in my code because I feel that it's not safe\nI'm creating a banking app (just for fun) so it will be used as .py->.exe later by users not only from my pc. I shouldn't be stored in a config file or a plaintext file, because if someone gets the credentials he can basically log into the MySQL database and modify all of the data.\nSo no:\n\nEnviromental variables\nPlaintext/ config file\nIt should work on any pc (I'm using pytoexe to convert my python file to exe, so that everyone can run the app)\nI'm new to stackoverflow so forgive me if I wrote sth wrong\n\nI thought about creating a password encryption, but anyone who gets the decryption key can decrypt the password. I also thought about creating my own encryption method, but anyone who gets to my code can just use the decrypting function and execute it for example: decryptor(\"encryptedpassword\")\n",
        "Answer": "Right, anyone who gets your code can extract the MySQL password and connect using any other client. They can do any SQL query according to the privileges you granted that MySQL user.\nEven if you compile using pytoexe, a skilled person could use a debugger or simply the strings tool to extract the password.\nIf you encrypt, they can decrypt. If you try to invent your own encryption algorithm, assume they can decrypt it more easily. I assume you are not an accomplished Ph.D. in applied cryptography, so any novel encryption method you think of will surely be easier to crack than state of the art encryption tools.\nThere are two common methods to solve this problem:\n\nDon't give them the MySQL password. The application you give them has no MySQL connection. The application makes HTTP requests to a web service that you develop. The code in your web service implements specific SQL they can execute. This is where you enforce business rules about what they can access. This is by far the most popular solution.\n\nGive them the MySQL password, but restrict the SQL they can execute. Privileges alone only give you limited control, so you need to create a layer of stored routines and views in the MySQL database. They should be able to access the stored routines and views, but the user cannot access the underlying tables. The routines and views have privileges to do that. Therefore the users can only do what you have allowed them to do in those routines and views.\n\n\nThere could also be a solution using a proxy such as ProxySQL. This would involve writing filters in the proxy so clients would not be allowed to run queries except those you want them to run. The advantage would be that the client application thinks it's connecting to a MySQL Server, but it's really connecting to the proxy. But I think it would be easier to write a web service than to write a whole application's business logic in a proxy.\nI suppose one could also use MySQL's query rewrite plugin to do something similar, but I've never seen anyone do that successfully.\n",
        "Source": "https://stackoverflow.com/questions/78089675/how-to-store-mysql-credentials-in-python-project-that-users-not-only-from-my-pc"
    },
    {
        "Title": "Setup access.ini file permession so it can be read by php script",
        "Question": "I'm really new to this so sorry if this isn't clear.\nI'm trying to hide my database credentials using an access.ini  file.\nI have a AWS instance, with my scripts located in /bitnami/joomla/index (in short I have an html page that display data using a php file that queries a postgresql db). I've tried creating a new directory /bitnami/joomla/config where I placed the access.ini  file. However, my php script can't read it due to permission issues (I guess).\nThe owner/group for the files in /bitnami/joomla/index are bitnami bitnami.\nAnd the owner/group and permissions for the folder /bitnami/joomla/config and its file are :\nbitnami bitnami\ndrwx--x--x\nIs my setup completly wrong, or is the issue easy to solve ?\n",
        "Answer": "Instead of using an access.ini file, consider using environment variables to store sensitive credentials.\nPHP can read environment variables easily.\nAdditional details can be found here.\n",
        "Source": "https://stackoverflow.com/questions/78035277/setup-access-ini-file-permession-so-it-can-be-read-by-php-script"
    },
    {
        "Title": "How to set an &quot;environment&quot; in a non-trivial way using expression?",
        "Question": "I have a GitHub Actions workflow which deploys some things to an environment. The workflow needs to log in to access the environment, so we use GitHub environment secrets to store credentials.\nMy workflow contains this:\non:\n  workflow_dispatch:\n    inputs:\n      deployment_target:\n        type: choice\n        description: Choose an environment to deploy to\n        options:\n          - dev\n          - staging\n          - production\n          - benchmarks\n...\njobs:\n  deploy-to-persistent-environment:\n    environment: ${{ github.event.inputs.deployment_target}}\n    steps: \n      - name: Login # Pseudocode\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy # Pseudocode\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nThe \"benchmarks\" environment uses the same credentials as the \"development\" environment. So I would like to re-use the same GitHub environment secrets rather than have two sets of duplicate environment secrets in GitHub.\nI.e., I would like to do something like this pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ if github.event.inputs.deployment_target == 'benchmarks' then 'development' else github.event.inputs.deployment_target }}\n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nIs there any way to achieve this with GitHub Actions?\n",
        "Answer": "There is a way to do it directly in the expression, according to this reference on the Github Community, by using the syntax ${{ x && 'ifTrue' || 'ifFalse'  }}\nIn that case:\n\nif the condition x is True, the first argument will be used.\nif the condition x is False, the second argument will be used.\n\nIn our case here, it would look like this:\nenvironment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}\n\nWhere:\n\nif github.event.inputs.deployment_target == 'benchmarks' is True, development will be used as environment.\n\nif github.event.inputs.deployment_target == 'benchmarks' is False, github.event.inputs.deployment_target will be used as environment.\n\n\nUpdating the pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}   \n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nEDIT: This is now available on the GitHub official doc as well (Thanks Benjamin W for reporting)\n",
        "Source": "https://stackoverflow.com/questions/77959880/how-to-set-an-environment-in-a-non-trivial-way-using-expression"
    },
    {
        "Title": "How to implement speech recognition with the Google Cloud Speech-to-Text API using Node.js?",
        "Question": "I am new to Google Cloud,\nI recently created a project with Speech-to-Text API.\nAfter creating the project and linking it to a billing account, I accessed the Node.js in-console tutorial for a quick start.\nAfter following all the steps in the in-console tutorial (and dealing with some mistakes in the code in the tutorial itself), and running the code, I got the following error:\nnode:internal/process/promises:289\n            triggerUncaughtException(err, true /* fromPromise */);\n            ^\n\nError: 3 INVALID_ARGUMENT: Invalid resource field value in the request.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Invalid resource field value in the request.',\n  metadata: Metadata {\n    internalRepr: Map(2) {\n      'google.rpc.errorinfo-bin' => [\n        Buffer(127) [Uint8Array] [\n           10,  24,  82,  69,  83,  79,  85,  82,  67,  69,  95,  80,\n           82,  79,  74,  69,  67,  84,  95,  73,  78,  86,  65,  76,\n           73,  68,  18,  14, 103, 111, 111, 103, 108, 101,  97, 112,\n          105, 115,  46,  99, 111, 109,  26,  32,  10,   7, 115, 101,\n          114, 118, 105,  99, 101,  18,  21, 115, 112, 101, 101,  99,\n          104,  46, 103, 111, 111, 103, 108, 101,  97, 112, 105, 115,\n           46,  99, 111, 109,  26,  49,  10,   6, 109, 101, 116, 104,\n          111, 100,  18,  39, 103, 111, 111, 103, 108, 101,  46,  99,\n          108, 111, 117, 100,\n          ... 27 more items\n        ]\n      ],\n      'grpc-status-details-bin' => [\n        Buffer(222) [Uint8Array] [\n            8,   3,  18,  44,  73, 110, 118,  97, 108, 105, 100,  32,\n          114, 101, 115, 111, 117, 114,  99, 101,  32, 102, 105, 101,\n          108, 100,  32, 118,  97, 108, 117, 101,  32, 105, 110,  32,\n          116, 104, 101,  32, 114, 101, 113, 117, 101, 115, 116,  46,\n           26, 171,   1,  10,  40, 116, 121, 112, 101,  46, 103, 111,\n          111, 103, 108, 101,  97, 112, 105, 115,  46,  99, 111, 109,\n           47, 103, 111, 111, 103, 108, 101,  46, 114, 112,  99,  46,\n           69, 114, 114, 111, 114,  73, 110, 102, 111,  18, 127,  10,\n           24,  82,  69,  83,\n          ... 122 more items\n        ]\n      ]\n    },\n    options: {}\n  },\n  note: 'Exception occurred in retry method that was not classified as transient',\n  statusDetails: [\n    ErrorInfo {\n      metadata: {\n        service: 'speech.googleapis.com',\n        method: 'google.cloud.speech.v2.Speech.Recognize'\n      },\n      reason: 'RESOURCE_PROJECT_INVALID',\n      domain: 'googleapis.com'\n    }\n  ],\n  reason: 'RESOURCE_PROJECT_INVALID',\n  domain: 'googleapis.com',\n  errorInfoMetadata: {\n    service: 'speech.googleapis.com',\n    method: 'google.cloud.speech.v2.Speech.Recognize'\n  }\n}\n\nThis is after I seted a project for quota purposes (using gcloud auth application-default set-quota-project $PROJECT_ID in the terminal).\nI also did the same steps through the gcloud CLI (on Windows) and it returned the same error.\nIs there something I forgot to do? Or something in the code is wrong? Maybe it's something to do with the fact that I'm working with version 2 of the API and the code is optimized to work only with version 1 of the API?\nMany thanks in advance!\nThe reusable Node.js code (I made some changes from the original code of the tutorial after encountering errors, and I also changed the way to get the data of the audio file after I couldn't get it from the uri of the bucket, as is customary in GCP):\nconst speech = require('@google-cloud/speech').v2;\nconst https = require('https');\n\nconst client = new speech.SpeechClient();\nconst projectId = '<ProjectId>';\nvar recognizerName;\n\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId: 'en123',\n    recognizer: {\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function getUrlData(url) {\n  return new Promise((resolve) => {\n      https.get(url, response => {\n          var body = '';\n          var i = 0;\n          response.on('data', chunk => {\n              i++;\n              body += chunk;\n          });\n          response.on('end', () => {\n              resolve(Buffer.from(body).toString('base64'));\n          });\n      });\n  });\n}\n\nasync function transcribeFile() {\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nUpdate:\nAfter looking at the (asker's) code in this question, I realized that I got confused in the definition of recognizerName and used only the string of the recognizerId instead of using the full path of the recognizer (projects/${projectId}/locations/global/recognizers/${recognizerId}), so currently my code looks like this:\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\n// ...\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nBut now I get another error:\nError: 3 INVALID_ARGUMENT: Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.',\n  metadata: Metadata { internalRepr: Map(0) {}, options: {} },\n  note: 'Exception occurred in retry method that was not classified as transient'\n}\n\n",
        "Answer": "I managed to solve it!\nThe error Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters occurs when the requested file is in a format without Codec (in this case .raw) and therefore the Speech to Text API does not know how to encode it.\nTo solve this I had to pass an explicitDecodingConfig object when creating the recognizer (within the defaultRecognitionConfig property) or later in the transcriptionRequest (within the config property).\nconst speech = require('@google-cloud/speech').v2;\n\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\n\nconst client = new speech.SpeechClient();\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId,\n    recognizer: {\n      defaultRecognitionConfig: {\n        explicitDecodingConfig: {\n          encoding: 'LINEAR16',\n          sampleRateHertz: 16000,\n          audioChannelCount: 1\n        }\n      },\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  const recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const gcsUri = 'gs://cloud-samples-data/speech/brooklyn_bridge.raw';\n\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    uri: gcsUri,\n    config: {\n      explicitDecodingConfig: {   // If you didn't set explicitDecodingConfig when creating the recognizer, you have to set it here.\n        encoding: 'LINEAR16',\n        sampleRateHertz: 16000,\n        audioChannelCount: 1\n      }\n    },\n  }\n\n  const response = await client.recognize(transcriptionRequest);\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\n(async function main() {\n  await createRecognizer();\n  await transcribeFile();\n})();\n\n",
        "Source": "https://stackoverflow.com/questions/77940391/how-to-implement-speech-recognition-with-the-google-cloud-speech-to-text-api-usi"
    },
    {
        "Title": "Updating AWS credentials",
        "Question": "I need advice on how I can update AWS credentials after they expire.\nI'm creating a bean of AmazonSimpleEmailService this way:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new AWSStaticCredentialsProvider(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                        .getCredentials())\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\nBut when I'm trying to use it I'm getting an error:\nThe security token included in the request is expired (Service: AmazonSimpleEmailService; Status Code: 403; Error Code: ExpiredToken\nIf I create an instance of the SES client right before each mail sending - it works correctly, but it looks like a bad practice to create a new instance before each use.\nI understand that the issue with the credentials that I'm getting via STSAssumeRoleSessionCredentialsProvider - they just have an expiration time.\nI am wondering if there should be a way to automatically update the credentials when they are going to expire, so I'd really appreciate any advice on how to do it.\n",
        "Answer": "STSAssumeRoleSessionCredentialsProvider will auto-refresh the credentials, but you are blocking that functionality by getting a single set of credentials and passing them into a AWSStaticCredentialsProvider instance.\nThis should allow you to use the auto-refresh of the STS Provider:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\n",
        "Source": "https://stackoverflow.com/questions/77921630/updating-aws-credentials"
    },
    {
        "Title": "Reading credentials from another file doesn&#39;t work in Python",
        "Question": "I created a Python file called pw.py where I store my username and password.\nThe content of pw.py is as follows:\nusername = \"username1\"\npassword = \"pswrd2\"\n\nTo access these credentials from another file called ProducerReddit.ipynb, I do the following:\nfrom pw import password, username\n\nHowever, when I try to print password and username, they are always empty.\nThe two files are inside the same folder.\nWhat I am doing wrong?\n",
        "Answer": "I recommend you to check do you have a __init__.py file in the your top folder.\nIf you don't have please create this __init__.py module.\nThen try to use absolute import path.\nFor example you have top directorty with this structure:\ntop_directory:\n              __init__.py\n              pw.py\n              other_file.py\n\nyour import instructions in the other_file.py shoud be like this:\nfrom top_directory.pw import username, password\n\nI hope this may help you\n",
        "Source": "https://stackoverflow.com/questions/77786371/reading-credentials-from-another-file-doesnt-work-in-python"
    },
    {
        "Title": "Apache HTTP Client 5.3 ~ NTCredentials no longer working",
        "Question": "I have a project that uses org.apache.httpcomponents.client5:httpclient5. I recently tried upgrading from version 5.2.3 to version 5.3, only to realize that the authentication was no longer working in the new version.\nHere is how the relevant code looks:\n        BasicCredentialsProvider credentialsProvider =\n            new BasicCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(credentialsProvider)\n            .build();\n[...]\n            final HttpGet httpget = new HttpGet(targetUrl);\n\n            CloseableHttpResponse response = httpclient.execute(httpget);\n\n\nBefore the update from 5.2.3 to 5.3 this worked fine. However, when I use 5.3, I now get a 401 UNAUTHORIZED response.\nI also tried the following variations to above code to pass the credentials along, but they all also return only 401 UNAUTHORIZED:\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(CredentialsProviderBuilder.create()\n                .add(new HttpHost(host, port), username, password.toCharArray())\n                .build())\n            .build();\n\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new UsernamePasswordCredentials(username, password.toCharArray())\n        );\n\n        SystemDefaultCredentialsProvider credentialsProvider =\n            new SystemDefaultCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n\nNow I am stumped. Could this be a bug in 5.3? Or did something change to the way that the NTCredentialsProvider works? I could not find any release notes indicating so, and since this is only a minor version update that would surprise me.\nNonetheless, the fact it that it works with the old version but not with the new one. Does anyone has any suggestions as to what I can do about that?\n",
        "Answer": "We now managed to solve it by providing the httpclient with a default auth scheme registry like this:\n        Lookup<AuthSchemeFactory> authSchemeRegistry = RegistryBuilder.<AuthSchemeFactory>create()\n                .register(StandardAuthScheme.NTLM, new NTLMSchemeFactory()).build();\n\n        httpclient = HttpClients.custom()\n                .setDefaultCredentialsProvider(credentialsProvider)\n                .setDefaultRequestConfig(config)\n                .setDefaultAuthSchemeRegistry(authSchemeRegistry)\n                .build();\n\n",
        "Source": "https://stackoverflow.com/questions/77784888/apache-http-client-5-3-ntcredentials-no-longer-working"
    },
    {
        "Title": "Error on Google Sign In CredentialManager, using Jetpack Compose",
        "Question": "I am trying to create a Sign In with Google Button but everytime credentialManager.getCredential is called, it gives me :\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nI tried resetting the SHA-1 Fingerprint, I've created both web application and android in the google cloud credential, I've used both the web app client id and android client id. I'm lost, please help\n\nobject DeveloperScreen{\n\n    const val GOOGLE_WEB_CLIENT_ID = \"xxxxxxxxxh5n94bxxxxxxxxxxx1.apps.googleusercontent.com\"\n//    const val GOOGLE_WEB_CLIENT_SECRET = \"GxxxxxxxxCinwYDR8KQi3-wD9ugT311\"\n//    const val GOOGLE_ANDROID_CLIENT_ID = \"3xxxxxxx80-7ja1n9nknxxxxxxxxxxxxxxxxxxxens33k.apps.googleusercontent.com\"\n\n\n    private suspend fun googleSignIn(context : Context) {\n\n\n        val credentialManager = androidx.credentials.CredentialManager.create(context)\n\n        val googleIdOption: GetGoogleIdOption = GetGoogleIdOption.Builder()\n            .setFilterByAuthorizedAccounts(false)\n            .setServerClientId(GOOGLE_WEB_CLIENT_ID)\n            .build()\n\n        Log.i(\"auth-google-googleIdOption\", googleIdOption.toString())\n\n        val request: GetCredentialRequest = GetCredentialRequest.Builder()\n            .addCredentialOption(googleIdOption)\n            .build()\n\n        Log.i(\"auth-google-credentialRequest\", request.toString())\n\n\n        val result = credentialManager.getCredential(\n            request = request,\n            context = context,\n        )\n\n        Log.i(\"auth-google-result\", result.toString())\n\n\n\n\n\n    }\n\n\n\n    @Composable\n    public fun DeveloperScreen1(navController : NavHostController, context : Context){\n\n        var phoneNumber by rememberSaveable { mutableStateOf(\"\") }\n        var email by rememberSaveable { mutableStateOf(\"\")}\n        var otpCode by rememberSaveable { mutableStateOf(\"\") }\n\n        var useEmail by rememberSaveable { mutableStateOf(false)}\n\n        var message by rememberSaveable { mutableStateOf(\"\")}\n\n        val coroutineScope = rememberCoroutineScope()\n\n        Column {\n\n\n            var user : User? = getCurrentUser()\n\n            Text(\n                textAlign = TextAlign.Center,\n                fontSize = 5.em,\n                text = \"DEV SCREEN\",\n                modifier = Modifier\n                    .fillMaxWidth()\n                    .padding(top = 10.dp)\n\n            )\n\n            Text(\n                text = message,\n                color = Color.Black\n            )\n\n            Button(\n                onClick = {\n\n                    coroutineScope.launch {\n\n                        googleSignIn(context)\n\n                    }\n...\n\n\n\n\nvar screenHeight = 0.dp\nvar screenWidth = 0.dp\n\nvar authViewModel = AuthViewModel()\n\n\n\nclass MainActivity : ComponentActivity() {\n\n\n\n    @RequiresApi(Q)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n\n        Log.d(\"Initialize\", \"App Started\")\n\n        setContent {\n\n\n            var context: Context = LocalContext.current\n\n            Box(\n                Modifier\n                    .background(color = Color(0xFFBDC6CA))\n                    .safeDrawingPadding()\n            ) {\n                MetroFCTheme {\n                    MainContent(context)\n\n\n\n                }\n            }\n        }\n\n        actionBar?.hide()\n        WindowCompat.setDecorFitsSystemWindows(window, false)\n        if (Build.VERSION.SDK_INT < Build.VERSION_CODES.R) {\n            window.addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)\n        } else {\n            window.insetsController?.apply {\n//                hide(WindowInsetsAndroid.Type.statusBars())\n                systemBarsBehavior = WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\n            }\n        }\n\n    }\n\n\n}\n\n\n\n@RequiresApi(Q)\n@Composable\nfun MainContent(\n    context : Context\n){\n\n    var user by remember{ mutableStateOf<User?>(null) }\n\n    LaunchedEffect(key1 = user) {\n\n        refreshMenu()\n\n    }\n\n\n    LaunchedEffect(key1 = \"login\") {\n\n        user = loginAnonymously()\n        Log.d(\"DB-User\", \"USER LOGIN SUCCESSFUL : $user\")\n\n    }\n\n\n    Log.d(\"DB\", \"2.\" + user.toString())\n\n\n\n\n    Log.d(\"Initialize\",\"Database Connected\")\n\n    val configuration = LocalConfiguration.current\n    screenHeight = configuration.screenHeightDp.dp\n    screenWidth = configuration.screenWidthDp.dp\n\n    var onDashboard by remember {mutableStateOf(true)}\n    var onMenu = false\n    val updateStates = { dashboard: Boolean, menu: Boolean ->\n        onDashboard = dashboard\n        onMenu = menu\n    }\n\n    val navController = rememberNavController()\n\n\n    Scaffold(\n\n        bottomBar = {\n            if(authViewModel.isLoggedIn) NavigationBar(navController = navController, onDashboard, onMenu, updateStates)\n\n                    },\n        containerColor = MaterialTheme.colorScheme.background,\n        contentWindowInsets = WindowInsets(0.dp),\n        modifier = Modifier.fillMaxSize()\n\n    ) {\n    innerPadding ->\n\n        val scrollState = rememberScrollState()\n\n        val padding = innerPadding\n\n        NavHost(\n            navController = navController,\n            startDestination = if (authViewModel.isLoggedIn) Route.DEV_SCREEN else Route.DEV_SCREEN,\n            modifier = Modifier\n//                .verticalScroll(state = scrollState)\n                .fillMaxSize()\n        ) {\n\n            composable(route = Route.DEV_SCREEN){\n                DeveloperScreen1(navController, context)\n            }\n\n            composable(route = Route.DASHBOARD_SCREEN) {\n\n                authViewModel.login(user)\n                DashboardScreen()\n            }\n\n            composable(route = Route.MENU_SCREEN) {\n                authViewModel.login(user)\n                MenuScreen(user)\n            }\n        }\n    }\n}\n\nProcess: com.metrofriedchicken.metrofc, PID: 20630\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nat androidx.credentials.playservices.controllers.CredentialProviderBaseController$Companion.getCredentialExceptionTypeToException$credentials_play_services_auth_release(CredentialProviderBaseController.kt:110)\nat androidx.credentials.playservices.controllers.BeginSignIn.CredentialProviderBeginSignInController$resultReceiver$1$onReceiveResult$1.invoke(CredentialProviderBeginSignInController.kt:93)\nI've tried :\n\nDeleting Keystore and make a new one ( debug and release )\nUsed the web app client id and android client id\nChange device\nwaited a day\n\n",
        "Answer": "I am assuming you are currently integrating the Credential Manager in debug mode and testing your integration in an app directly installed from Android Studio to  your test device.\nIn this case you will need to configure the SHA1 key currently being used to sign your app, which is Android Studio's debug keystore.\nIn this case, you can get the SHA1 by running below command in Android Studio's terminal:\n./gradlew signingreport\n\nCopy the correct SHA1 fingerprint of correct Variant and Config from the terminal console and configure the same in cloud console for your app's Android OAuth2 client.\nIn order to keep the steps cleaner, I am mentioning them as below:\n\nCreate one Android OAuth2 client in cloud api console with you app's package name.\nUse the debug SHA1 key in this Android OAuth2 client creation as I mentioned above (in order to recognized this as debug client you can append the client name with debug as \"your-app-debug\")\nCreate one Web OAuth2 client in cloud api console. This will act as the server for your app\nCopy the ClientID of this Web client and use in setServerClientId(ServerClientID) in your integration.\n\nWith these simple steps alone, your integration should work fine.\nOptionally, as the next step,\n\nYou can create another Android OAuth2 client with release key's SHA1 fingerprint for production, and for recognizing this client, can give it a name \"Your-app-release\"\n\n",
        "Source": "https://stackoverflow.com/questions/78247578/error-on-google-sign-in-credentialmanager-using-jetpack-compose"
    },
    {
        "Title": "Access AWS Secrets Manager with IMDSv2 set to required",
        "Question": "I'm working on a Java application running on an EC2 instance in AWS. My goal is to access AWS Secrets Manager using an AWS SDK for Java and an IAM role attached to the EC2 instance.\nEverything works smoothly when IMDSv2 (Instance Metadata Service version 2) is optional. However, when it's set to required as recommended, I encounter an issue.\nSpecifically, I'm receiving the error 'software.amazon.awssdk.core.exception.SdkClientException: Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain'.\nHow can I resolve this issue and successfully access AWS Secrets Manager with IMDSv2 set to required?\nTried attaching different policies, created some custom ones but the result is same.\njava sdk version used:\n<dependency>\n     <groupId>software.amazon.awssdk</groupId>\n     <artifactId>secretsmanager</artifactId>\n     <version>2.25.7</version>\n</dependency>\n\n",
        "Answer": "I did some more research and was able to figure this out. There have been issues with IMDSv2 network request and what was suggested is to increase the hop limit to '2' on the ec2 instance. As said here in the considerations section as well https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-retrieval.html#imds-considerations\nTo increase the hop limit:\n\"Use the modify-instance-metadata-options CLI command and set the http-put-response-hop-limit parameter to the required number of hops. In the following example, the hop limit is set to 2. Note that when specifying a value for http-put-response-hop-limit, you must also set http-endpoint to enabled\"\nUsing aws cli:\naws ec2 modify-instance-metadata-options \\\n--instance-id <instance-id> \\\n--http-put-response-hop-limit 2 \\\n--http-endpoint enabled\n\n",
        "Source": "https://stackoverflow.com/questions/78183614/access-aws-secrets-manager-with-imdsv2-set-to-required"
    },
    {
        "Title": "Install a private package with credentials from requirements.txt",
        "Question": "I want to a private package via\n%pip install -r /dbfs/requirements.txt\n\nInside this requirements.txt is give:\ngit+https://<user>:$token@<gitprovider>.com/<path/to/repo>\n\nIf i give user and token inside the requirements.txt it works like a charm, but I want to pass user and token via dbutils.secrets. Is this doable without manipulating the requirements.txt before?\nI thought it would be possible to create environment variables, but this did not work for me.\n%env GIT_USERNAME= ...\n%env GIT_TOKEN= ...\n\n",
        "Answer": "The way is using python\n\nGetting information\nStore the information in a temporary file so that its details will not be found in the run log or records after running\nRun\n\nimport dbutils\n\nusername = dbutils.secrets.get(scope=\"your_scope\", key=\"git_username\")\ntoken = dbutils.secrets.get(scope=\"your_scope\", key=\"git_token\")\n\nrepo_url = f\"git+https://{username}:{token}@gitprovider.com/path/to/repo\"\n\nrequirements_path = \"/dbfs/tmp/requirements.txt\"\n\nwith open(requirements_path, \"w\") as file:\n    file.write(repo_url + \"\\n\")\n\ndbutils.notebook.run(\"%pip install -r \" + requirements_path, 60)\n\n",
        "Source": "https://stackoverflow.com/questions/78140635/install-a-private-package-with-credentials-from-requirements-txt"
    },
    {
        "Title": "PayPal bearer resets after x amount of seconds",
        "Question": "I\u2019m using PayPal refund api. The api docs says the bearer token that I am using will reset after x amount of seconds.\nLink to where it says access token resets:\nhttps://developer.paypal.com/reference/get-an-access-token/\nIn my case my token resets after 9 hours. I am using this token to refund purchases which will happen all the time. Is there an alternate solution from Bearer <Access-Token> that doesn\u2019t include a reset token? I haven\u2019t been able to find one other than the Basic <client_id>:<secret> which includes client credentials which doesn\u2019t seem to work. And yes the credentials are correct.\nLink to api:\nhttps://developer.paypal.com/docs/api/payments/v2/#captures_refund\n",
        "Answer": "Basic client_id:secret, where the string client_id:secret is Base64 encoded, is the header value for HTTP Basic Authentication. This is used to obtain an access token from the oauth2 token endpoint.\nAccess tokens expire after 9 hours, beyond which a new one must be obtained. These are required for all PayPal REST API operations, including refunds.\n",
        "Source": "https://stackoverflow.com/questions/78109044/paypal-bearer-resets-after-x-amount-of-seconds"
    },
    {
        "Title": "How to store MySQL credentials in python project, that users not only from my pc will use later?",
        "Question": "I have the following code:\nclass Server:\n    def __init__(self):\n        #server credentials\n        self.ip = \"192.168.1.182\"\n        self.user = \"bank_user\"\n        self.password = \"*mypass*\"\n        self.port = 3307\n        self.database = \"bank\"\n    def connect_to_server(self):\n        try:\n            self.mydb = mysql.connector.connect(\n                host = self.ip,\n                user = self.user,\n                password = self.password,\n                port = self.port,\n                database = self.database\n                )\n            self.mycursor = self.mydb.cursor()\n            print(\"\u2713 Server connection estabilished\")\n            rlist = [True]\n\nThe problem is, I don't want to store it in my code because I feel that it's not safe\nI'm creating a banking app (just for fun) so it will be used as .py->.exe later by users not only from my pc. I shouldn't be stored in a config file or a plaintext file, because if someone gets the credentials he can basically log into the MySQL database and modify all of the data.\nSo no:\n\nEnviromental variables\nPlaintext/ config file\nIt should work on any pc (I'm using pytoexe to convert my python file to exe, so that everyone can run the app)\nI'm new to stackoverflow so forgive me if I wrote sth wrong\n\nI thought about creating a password encryption, but anyone who gets the decryption key can decrypt the password. I also thought about creating my own encryption method, but anyone who gets to my code can just use the decrypting function and execute it for example: decryptor(\"encryptedpassword\")\n",
        "Answer": "Right, anyone who gets your code can extract the MySQL password and connect using any other client. They can do any SQL query according to the privileges you granted that MySQL user.\nEven if you compile using pytoexe, a skilled person could use a debugger or simply the strings tool to extract the password.\nIf you encrypt, they can decrypt. If you try to invent your own encryption algorithm, assume they can decrypt it more easily. I assume you are not an accomplished Ph.D. in applied cryptography, so any novel encryption method you think of will surely be easier to crack than state of the art encryption tools.\nThere are two common methods to solve this problem:\n\nDon't give them the MySQL password. The application you give them has no MySQL connection. The application makes HTTP requests to a web service that you develop. The code in your web service implements specific SQL they can execute. This is where you enforce business rules about what they can access. This is by far the most popular solution.\n\nGive them the MySQL password, but restrict the SQL they can execute. Privileges alone only give you limited control, so you need to create a layer of stored routines and views in the MySQL database. They should be able to access the stored routines and views, but the user cannot access the underlying tables. The routines and views have privileges to do that. Therefore the users can only do what you have allowed them to do in those routines and views.\n\n\nThere could also be a solution using a proxy such as ProxySQL. This would involve writing filters in the proxy so clients would not be allowed to run queries except those you want them to run. The advantage would be that the client application thinks it's connecting to a MySQL Server, but it's really connecting to the proxy. But I think it would be easier to write a web service than to write a whole application's business logic in a proxy.\nI suppose one could also use MySQL's query rewrite plugin to do something similar, but I've never seen anyone do that successfully.\n",
        "Source": "https://stackoverflow.com/questions/78089675/how-to-store-mysql-credentials-in-python-project-that-users-not-only-from-my-pc"
    },
    {
        "Title": "Setup access.ini file permession so it can be read by php script",
        "Question": "I'm really new to this so sorry if this isn't clear.\nI'm trying to hide my database credentials using an access.ini  file.\nI have a AWS instance, with my scripts located in /bitnami/joomla/index (in short I have an html page that display data using a php file that queries a postgresql db). I've tried creating a new directory /bitnami/joomla/config where I placed the access.ini  file. However, my php script can't read it due to permission issues (I guess).\nThe owner/group for the files in /bitnami/joomla/index are bitnami bitnami.\nAnd the owner/group and permissions for the folder /bitnami/joomla/config and its file are :\nbitnami bitnami\ndrwx--x--x\nIs my setup completly wrong, or is the issue easy to solve ?\n",
        "Answer": "Instead of using an access.ini file, consider using environment variables to store sensitive credentials.\nPHP can read environment variables easily.\nAdditional details can be found here.\n",
        "Source": "https://stackoverflow.com/questions/78035277/setup-access-ini-file-permession-so-it-can-be-read-by-php-script"
    },
    {
        "Title": "How to set an &quot;environment&quot; in a non-trivial way using expression?",
        "Question": "I have a GitHub Actions workflow which deploys some things to an environment. The workflow needs to log in to access the environment, so we use GitHub environment secrets to store credentials.\nMy workflow contains this:\non:\n  workflow_dispatch:\n    inputs:\n      deployment_target:\n        type: choice\n        description: Choose an environment to deploy to\n        options:\n          - dev\n          - staging\n          - production\n          - benchmarks\n...\njobs:\n  deploy-to-persistent-environment:\n    environment: ${{ github.event.inputs.deployment_target}}\n    steps: \n      - name: Login # Pseudocode\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy # Pseudocode\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nThe \"benchmarks\" environment uses the same credentials as the \"development\" environment. So I would like to re-use the same GitHub environment secrets rather than have two sets of duplicate environment secrets in GitHub.\nI.e., I would like to do something like this pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ if github.event.inputs.deployment_target == 'benchmarks' then 'development' else github.event.inputs.deployment_target }}\n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nIs there any way to achieve this with GitHub Actions?\n",
        "Answer": "There is a way to do it directly in the expression, according to this reference on the Github Community, by using the syntax ${{ x && 'ifTrue' || 'ifFalse'  }}\nIn that case:\n\nif the condition x is True, the first argument will be used.\nif the condition x is False, the second argument will be used.\n\nIn our case here, it would look like this:\nenvironment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}\n\nWhere:\n\nif github.event.inputs.deployment_target == 'benchmarks' is True, development will be used as environment.\n\nif github.event.inputs.deployment_target == 'benchmarks' is False, github.event.inputs.deployment_target will be used as environment.\n\n\nUpdating the pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}   \n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nEDIT: This is now available on the GitHub official doc as well (Thanks Benjamin W for reporting)\n",
        "Source": "https://stackoverflow.com/questions/77959880/how-to-set-an-environment-in-a-non-trivial-way-using-expression"
    },
    {
        "Title": "How to implement speech recognition with the Google Cloud Speech-to-Text API using Node.js?",
        "Question": "I am new to Google Cloud,\nI recently created a project with Speech-to-Text API.\nAfter creating the project and linking it to a billing account, I accessed the Node.js in-console tutorial for a quick start.\nAfter following all the steps in the in-console tutorial (and dealing with some mistakes in the code in the tutorial itself), and running the code, I got the following error:\nnode:internal/process/promises:289\n            triggerUncaughtException(err, true /* fromPromise */);\n            ^\n\nError: 3 INVALID_ARGUMENT: Invalid resource field value in the request.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Invalid resource field value in the request.',\n  metadata: Metadata {\n    internalRepr: Map(2) {\n      'google.rpc.errorinfo-bin' => [\n        Buffer(127) [Uint8Array] [\n           10,  24,  82,  69,  83,  79,  85,  82,  67,  69,  95,  80,\n           82,  79,  74,  69,  67,  84,  95,  73,  78,  86,  65,  76,\n           73,  68,  18,  14, 103, 111, 111, 103, 108, 101,  97, 112,\n          105, 115,  46,  99, 111, 109,  26,  32,  10,   7, 115, 101,\n          114, 118, 105,  99, 101,  18,  21, 115, 112, 101, 101,  99,\n          104,  46, 103, 111, 111, 103, 108, 101,  97, 112, 105, 115,\n           46,  99, 111, 109,  26,  49,  10,   6, 109, 101, 116, 104,\n          111, 100,  18,  39, 103, 111, 111, 103, 108, 101,  46,  99,\n          108, 111, 117, 100,\n          ... 27 more items\n        ]\n      ],\n      'grpc-status-details-bin' => [\n        Buffer(222) [Uint8Array] [\n            8,   3,  18,  44,  73, 110, 118,  97, 108, 105, 100,  32,\n          114, 101, 115, 111, 117, 114,  99, 101,  32, 102, 105, 101,\n          108, 100,  32, 118,  97, 108, 117, 101,  32, 105, 110,  32,\n          116, 104, 101,  32, 114, 101, 113, 117, 101, 115, 116,  46,\n           26, 171,   1,  10,  40, 116, 121, 112, 101,  46, 103, 111,\n          111, 103, 108, 101,  97, 112, 105, 115,  46,  99, 111, 109,\n           47, 103, 111, 111, 103, 108, 101,  46, 114, 112,  99,  46,\n           69, 114, 114, 111, 114,  73, 110, 102, 111,  18, 127,  10,\n           24,  82,  69,  83,\n          ... 122 more items\n        ]\n      ]\n    },\n    options: {}\n  },\n  note: 'Exception occurred in retry method that was not classified as transient',\n  statusDetails: [\n    ErrorInfo {\n      metadata: {\n        service: 'speech.googleapis.com',\n        method: 'google.cloud.speech.v2.Speech.Recognize'\n      },\n      reason: 'RESOURCE_PROJECT_INVALID',\n      domain: 'googleapis.com'\n    }\n  ],\n  reason: 'RESOURCE_PROJECT_INVALID',\n  domain: 'googleapis.com',\n  errorInfoMetadata: {\n    service: 'speech.googleapis.com',\n    method: 'google.cloud.speech.v2.Speech.Recognize'\n  }\n}\n\nThis is after I seted a project for quota purposes (using gcloud auth application-default set-quota-project $PROJECT_ID in the terminal).\nI also did the same steps through the gcloud CLI (on Windows) and it returned the same error.\nIs there something I forgot to do? Or something in the code is wrong? Maybe it's something to do with the fact that I'm working with version 2 of the API and the code is optimized to work only with version 1 of the API?\nMany thanks in advance!\nThe reusable Node.js code (I made some changes from the original code of the tutorial after encountering errors, and I also changed the way to get the data of the audio file after I couldn't get it from the uri of the bucket, as is customary in GCP):\nconst speech = require('@google-cloud/speech').v2;\nconst https = require('https');\n\nconst client = new speech.SpeechClient();\nconst projectId = '<ProjectId>';\nvar recognizerName;\n\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId: 'en123',\n    recognizer: {\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function getUrlData(url) {\n  return new Promise((resolve) => {\n      https.get(url, response => {\n          var body = '';\n          var i = 0;\n          response.on('data', chunk => {\n              i++;\n              body += chunk;\n          });\n          response.on('end', () => {\n              resolve(Buffer.from(body).toString('base64'));\n          });\n      });\n  });\n}\n\nasync function transcribeFile() {\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nUpdate:\nAfter looking at the (asker's) code in this question, I realized that I got confused in the definition of recognizerName and used only the string of the recognizerId instead of using the full path of the recognizer (projects/${projectId}/locations/global/recognizers/${recognizerId}), so currently my code looks like this:\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\n// ...\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nBut now I get another error:\nError: 3 INVALID_ARGUMENT: Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.',\n  metadata: Metadata { internalRepr: Map(0) {}, options: {} },\n  note: 'Exception occurred in retry method that was not classified as transient'\n}\n\n",
        "Answer": "I managed to solve it!\nThe error Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters occurs when the requested file is in a format without Codec (in this case .raw) and therefore the Speech to Text API does not know how to encode it.\nTo solve this I had to pass an explicitDecodingConfig object when creating the recognizer (within the defaultRecognitionConfig property) or later in the transcriptionRequest (within the config property).\nconst speech = require('@google-cloud/speech').v2;\n\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\n\nconst client = new speech.SpeechClient();\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId,\n    recognizer: {\n      defaultRecognitionConfig: {\n        explicitDecodingConfig: {\n          encoding: 'LINEAR16',\n          sampleRateHertz: 16000,\n          audioChannelCount: 1\n        }\n      },\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  const recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const gcsUri = 'gs://cloud-samples-data/speech/brooklyn_bridge.raw';\n\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    uri: gcsUri,\n    config: {\n      explicitDecodingConfig: {   // If you didn't set explicitDecodingConfig when creating the recognizer, you have to set it here.\n        encoding: 'LINEAR16',\n        sampleRateHertz: 16000,\n        audioChannelCount: 1\n      }\n    },\n  }\n\n  const response = await client.recognize(transcriptionRequest);\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\n(async function main() {\n  await createRecognizer();\n  await transcribeFile();\n})();\n\n",
        "Source": "https://stackoverflow.com/questions/77940391/how-to-implement-speech-recognition-with-the-google-cloud-speech-to-text-api-usi"
    },
    {
        "Title": "Updating AWS credentials",
        "Question": "I need advice on how I can update AWS credentials after they expire.\nI'm creating a bean of AmazonSimpleEmailService this way:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new AWSStaticCredentialsProvider(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                        .getCredentials())\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\nBut when I'm trying to use it I'm getting an error:\nThe security token included in the request is expired (Service: AmazonSimpleEmailService; Status Code: 403; Error Code: ExpiredToken\nIf I create an instance of the SES client right before each mail sending - it works correctly, but it looks like a bad practice to create a new instance before each use.\nI understand that the issue with the credentials that I'm getting via STSAssumeRoleSessionCredentialsProvider - they just have an expiration time.\nI am wondering if there should be a way to automatically update the credentials when they are going to expire, so I'd really appreciate any advice on how to do it.\n",
        "Answer": "STSAssumeRoleSessionCredentialsProvider will auto-refresh the credentials, but you are blocking that functionality by getting a single set of credentials and passing them into a AWSStaticCredentialsProvider instance.\nThis should allow you to use the auto-refresh of the STS Provider:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\n",
        "Source": "https://stackoverflow.com/questions/77921630/updating-aws-credentials"
    },
    {
        "Title": "Reading credentials from another file doesn&#39;t work in Python",
        "Question": "I created a Python file called pw.py where I store my username and password.\nThe content of pw.py is as follows:\nusername = \"username1\"\npassword = \"pswrd2\"\n\nTo access these credentials from another file called ProducerReddit.ipynb, I do the following:\nfrom pw import password, username\n\nHowever, when I try to print password and username, they are always empty.\nThe two files are inside the same folder.\nWhat I am doing wrong?\n",
        "Answer": "I recommend you to check do you have a __init__.py file in the your top folder.\nIf you don't have please create this __init__.py module.\nThen try to use absolute import path.\nFor example you have top directorty with this structure:\ntop_directory:\n              __init__.py\n              pw.py\n              other_file.py\n\nyour import instructions in the other_file.py shoud be like this:\nfrom top_directory.pw import username, password\n\nI hope this may help you\n",
        "Source": "https://stackoverflow.com/questions/77786371/reading-credentials-from-another-file-doesnt-work-in-python"
    },
    {
        "Title": "Apache HTTP Client 5.3 ~ NTCredentials no longer working",
        "Question": "I have a project that uses org.apache.httpcomponents.client5:httpclient5. I recently tried upgrading from version 5.2.3 to version 5.3, only to realize that the authentication was no longer working in the new version.\nHere is how the relevant code looks:\n        BasicCredentialsProvider credentialsProvider =\n            new BasicCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(credentialsProvider)\n            .build();\n[...]\n            final HttpGet httpget = new HttpGet(targetUrl);\n\n            CloseableHttpResponse response = httpclient.execute(httpget);\n\n\nBefore the update from 5.2.3 to 5.3 this worked fine. However, when I use 5.3, I now get a 401 UNAUTHORIZED response.\nI also tried the following variations to above code to pass the credentials along, but they all also return only 401 UNAUTHORIZED:\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(CredentialsProviderBuilder.create()\n                .add(new HttpHost(host, port), username, password.toCharArray())\n                .build())\n            .build();\n\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new UsernamePasswordCredentials(username, password.toCharArray())\n        );\n\n        SystemDefaultCredentialsProvider credentialsProvider =\n            new SystemDefaultCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n\nNow I am stumped. Could this be a bug in 5.3? Or did something change to the way that the NTCredentialsProvider works? I could not find any release notes indicating so, and since this is only a minor version update that would surprise me.\nNonetheless, the fact it that it works with the old version but not with the new one. Does anyone has any suggestions as to what I can do about that?\n",
        "Answer": "We now managed to solve it by providing the httpclient with a default auth scheme registry like this:\n        Lookup<AuthSchemeFactory> authSchemeRegistry = RegistryBuilder.<AuthSchemeFactory>create()\n                .register(StandardAuthScheme.NTLM, new NTLMSchemeFactory()).build();\n\n        httpclient = HttpClients.custom()\n                .setDefaultCredentialsProvider(credentialsProvider)\n                .setDefaultRequestConfig(config)\n                .setDefaultAuthSchemeRegistry(authSchemeRegistry)\n                .build();\n\n",
        "Source": "https://stackoverflow.com/questions/77784888/apache-http-client-5-3-ntcredentials-no-longer-working"
    },
    {
        "Title": "Error on Google Sign In CredentialManager, using Jetpack Compose",
        "Question": "I am trying to create a Sign In with Google Button but everytime credentialManager.getCredential is called, it gives me :\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nI tried resetting the SHA-1 Fingerprint, I've created both web application and android in the google cloud credential, I've used both the web app client id and android client id. I'm lost, please help\n\nobject DeveloperScreen{\n\n    const val GOOGLE_WEB_CLIENT_ID = \"xxxxxxxxxh5n94bxxxxxxxxxxx1.apps.googleusercontent.com\"\n//    const val GOOGLE_WEB_CLIENT_SECRET = \"GxxxxxxxxCinwYDR8KQi3-wD9ugT311\"\n//    const val GOOGLE_ANDROID_CLIENT_ID = \"3xxxxxxx80-7ja1n9nknxxxxxxxxxxxxxxxxxxxens33k.apps.googleusercontent.com\"\n\n\n    private suspend fun googleSignIn(context : Context) {\n\n\n        val credentialManager = androidx.credentials.CredentialManager.create(context)\n\n        val googleIdOption: GetGoogleIdOption = GetGoogleIdOption.Builder()\n            .setFilterByAuthorizedAccounts(false)\n            .setServerClientId(GOOGLE_WEB_CLIENT_ID)\n            .build()\n\n        Log.i(\"auth-google-googleIdOption\", googleIdOption.toString())\n\n        val request: GetCredentialRequest = GetCredentialRequest.Builder()\n            .addCredentialOption(googleIdOption)\n            .build()\n\n        Log.i(\"auth-google-credentialRequest\", request.toString())\n\n\n        val result = credentialManager.getCredential(\n            request = request,\n            context = context,\n        )\n\n        Log.i(\"auth-google-result\", result.toString())\n\n\n\n\n\n    }\n\n\n\n    @Composable\n    public fun DeveloperScreen1(navController : NavHostController, context : Context){\n\n        var phoneNumber by rememberSaveable { mutableStateOf(\"\") }\n        var email by rememberSaveable { mutableStateOf(\"\")}\n        var otpCode by rememberSaveable { mutableStateOf(\"\") }\n\n        var useEmail by rememberSaveable { mutableStateOf(false)}\n\n        var message by rememberSaveable { mutableStateOf(\"\")}\n\n        val coroutineScope = rememberCoroutineScope()\n\n        Column {\n\n\n            var user : User? = getCurrentUser()\n\n            Text(\n                textAlign = TextAlign.Center,\n                fontSize = 5.em,\n                text = \"DEV SCREEN\",\n                modifier = Modifier\n                    .fillMaxWidth()\n                    .padding(top = 10.dp)\n\n            )\n\n            Text(\n                text = message,\n                color = Color.Black\n            )\n\n            Button(\n                onClick = {\n\n                    coroutineScope.launch {\n\n                        googleSignIn(context)\n\n                    }\n...\n\n\n\n\nvar screenHeight = 0.dp\nvar screenWidth = 0.dp\n\nvar authViewModel = AuthViewModel()\n\n\n\nclass MainActivity : ComponentActivity() {\n\n\n\n    @RequiresApi(Q)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n\n        Log.d(\"Initialize\", \"App Started\")\n\n        setContent {\n\n\n            var context: Context = LocalContext.current\n\n            Box(\n                Modifier\n                    .background(color = Color(0xFFBDC6CA))\n                    .safeDrawingPadding()\n            ) {\n                MetroFCTheme {\n                    MainContent(context)\n\n\n\n                }\n            }\n        }\n\n        actionBar?.hide()\n        WindowCompat.setDecorFitsSystemWindows(window, false)\n        if (Build.VERSION.SDK_INT < Build.VERSION_CODES.R) {\n            window.addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)\n        } else {\n            window.insetsController?.apply {\n//                hide(WindowInsetsAndroid.Type.statusBars())\n                systemBarsBehavior = WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\n            }\n        }\n\n    }\n\n\n}\n\n\n\n@RequiresApi(Q)\n@Composable\nfun MainContent(\n    context : Context\n){\n\n    var user by remember{ mutableStateOf<User?>(null) }\n\n    LaunchedEffect(key1 = user) {\n\n        refreshMenu()\n\n    }\n\n\n    LaunchedEffect(key1 = \"login\") {\n\n        user = loginAnonymously()\n        Log.d(\"DB-User\", \"USER LOGIN SUCCESSFUL : $user\")\n\n    }\n\n\n    Log.d(\"DB\", \"2.\" + user.toString())\n\n\n\n\n    Log.d(\"Initialize\",\"Database Connected\")\n\n    val configuration = LocalConfiguration.current\n    screenHeight = configuration.screenHeightDp.dp\n    screenWidth = configuration.screenWidthDp.dp\n\n    var onDashboard by remember {mutableStateOf(true)}\n    var onMenu = false\n    val updateStates = { dashboard: Boolean, menu: Boolean ->\n        onDashboard = dashboard\n        onMenu = menu\n    }\n\n    val navController = rememberNavController()\n\n\n    Scaffold(\n\n        bottomBar = {\n            if(authViewModel.isLoggedIn) NavigationBar(navController = navController, onDashboard, onMenu, updateStates)\n\n                    },\n        containerColor = MaterialTheme.colorScheme.background,\n        contentWindowInsets = WindowInsets(0.dp),\n        modifier = Modifier.fillMaxSize()\n\n    ) {\n    innerPadding ->\n\n        val scrollState = rememberScrollState()\n\n        val padding = innerPadding\n\n        NavHost(\n            navController = navController,\n            startDestination = if (authViewModel.isLoggedIn) Route.DEV_SCREEN else Route.DEV_SCREEN,\n            modifier = Modifier\n//                .verticalScroll(state = scrollState)\n                .fillMaxSize()\n        ) {\n\n            composable(route = Route.DEV_SCREEN){\n                DeveloperScreen1(navController, context)\n            }\n\n            composable(route = Route.DASHBOARD_SCREEN) {\n\n                authViewModel.login(user)\n                DashboardScreen()\n            }\n\n            composable(route = Route.MENU_SCREEN) {\n                authViewModel.login(user)\n                MenuScreen(user)\n            }\n        }\n    }\n}\n\nProcess: com.metrofriedchicken.metrofc, PID: 20630\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nat androidx.credentials.playservices.controllers.CredentialProviderBaseController$Companion.getCredentialExceptionTypeToException$credentials_play_services_auth_release(CredentialProviderBaseController.kt:110)\nat androidx.credentials.playservices.controllers.BeginSignIn.CredentialProviderBeginSignInController$resultReceiver$1$onReceiveResult$1.invoke(CredentialProviderBeginSignInController.kt:93)\nI've tried :\n\nDeleting Keystore and make a new one ( debug and release )\nUsed the web app client id and android client id\nChange device\nwaited a day\n\n",
        "Answer": "I am assuming you are currently integrating the Credential Manager in debug mode and testing your integration in an app directly installed from Android Studio to  your test device.\nIn this case you will need to configure the SHA1 key currently being used to sign your app, which is Android Studio's debug keystore.\nIn this case, you can get the SHA1 by running below command in Android Studio's terminal:\n./gradlew signingreport\n\nCopy the correct SHA1 fingerprint of correct Variant and Config from the terminal console and configure the same in cloud console for your app's Android OAuth2 client.\nIn order to keep the steps cleaner, I am mentioning them as below:\n\nCreate one Android OAuth2 client in cloud api console with you app's package name.\nUse the debug SHA1 key in this Android OAuth2 client creation as I mentioned above (in order to recognized this as debug client you can append the client name with debug as \"your-app-debug\")\nCreate one Web OAuth2 client in cloud api console. This will act as the server for your app\nCopy the ClientID of this Web client and use in setServerClientId(ServerClientID) in your integration.\n\nWith these simple steps alone, your integration should work fine.\nOptionally, as the next step,\n\nYou can create another Android OAuth2 client with release key's SHA1 fingerprint for production, and for recognizing this client, can give it a name \"Your-app-release\"\n\n",
        "Source": "https://stackoverflow.com/questions/78247578/error-on-google-sign-in-credentialmanager-using-jetpack-compose"
    },
    {
        "Title": "Access AWS Secrets Manager with IMDSv2 set to required",
        "Question": "I'm working on a Java application running on an EC2 instance in AWS. My goal is to access AWS Secrets Manager using an AWS SDK for Java and an IAM role attached to the EC2 instance.\nEverything works smoothly when IMDSv2 (Instance Metadata Service version 2) is optional. However, when it's set to required as recommended, I encounter an issue.\nSpecifically, I'm receiving the error 'software.amazon.awssdk.core.exception.SdkClientException: Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain'.\nHow can I resolve this issue and successfully access AWS Secrets Manager with IMDSv2 set to required?\nTried attaching different policies, created some custom ones but the result is same.\njava sdk version used:\n<dependency>\n     <groupId>software.amazon.awssdk</groupId>\n     <artifactId>secretsmanager</artifactId>\n     <version>2.25.7</version>\n</dependency>\n\n",
        "Answer": "I did some more research and was able to figure this out. There have been issues with IMDSv2 network request and what was suggested is to increase the hop limit to '2' on the ec2 instance. As said here in the considerations section as well https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-retrieval.html#imds-considerations\nTo increase the hop limit:\n\"Use the modify-instance-metadata-options CLI command and set the http-put-response-hop-limit parameter to the required number of hops. In the following example, the hop limit is set to 2. Note that when specifying a value for http-put-response-hop-limit, you must also set http-endpoint to enabled\"\nUsing aws cli:\naws ec2 modify-instance-metadata-options \\\n--instance-id <instance-id> \\\n--http-put-response-hop-limit 2 \\\n--http-endpoint enabled\n\n",
        "Source": "https://stackoverflow.com/questions/78183614/access-aws-secrets-manager-with-imdsv2-set-to-required"
    },
    {
        "Title": "Install a private package with credentials from requirements.txt",
        "Question": "I want to a private package via\n%pip install -r /dbfs/requirements.txt\n\nInside this requirements.txt is give:\ngit+https://<user>:$token@<gitprovider>.com/<path/to/repo>\n\nIf i give user and token inside the requirements.txt it works like a charm, but I want to pass user and token via dbutils.secrets. Is this doable without manipulating the requirements.txt before?\nI thought it would be possible to create environment variables, but this did not work for me.\n%env GIT_USERNAME= ...\n%env GIT_TOKEN= ...\n\n",
        "Answer": "The way is using python\n\nGetting information\nStore the information in a temporary file so that its details will not be found in the run log or records after running\nRun\n\nimport dbutils\n\nusername = dbutils.secrets.get(scope=\"your_scope\", key=\"git_username\")\ntoken = dbutils.secrets.get(scope=\"your_scope\", key=\"git_token\")\n\nrepo_url = f\"git+https://{username}:{token}@gitprovider.com/path/to/repo\"\n\nrequirements_path = \"/dbfs/tmp/requirements.txt\"\n\nwith open(requirements_path, \"w\") as file:\n    file.write(repo_url + \"\\n\")\n\ndbutils.notebook.run(\"%pip install -r \" + requirements_path, 60)\n\n",
        "Source": "https://stackoverflow.com/questions/78140635/install-a-private-package-with-credentials-from-requirements-txt"
    },
    {
        "Title": "PayPal bearer resets after x amount of seconds",
        "Question": "I\u2019m using PayPal refund api. The api docs says the bearer token that I am using will reset after x amount of seconds.\nLink to where it says access token resets:\nhttps://developer.paypal.com/reference/get-an-access-token/\nIn my case my token resets after 9 hours. I am using this token to refund purchases which will happen all the time. Is there an alternate solution from Bearer <Access-Token> that doesn\u2019t include a reset token? I haven\u2019t been able to find one other than the Basic <client_id>:<secret> which includes client credentials which doesn\u2019t seem to work. And yes the credentials are correct.\nLink to api:\nhttps://developer.paypal.com/docs/api/payments/v2/#captures_refund\n",
        "Answer": "Basic client_id:secret, where the string client_id:secret is Base64 encoded, is the header value for HTTP Basic Authentication. This is used to obtain an access token from the oauth2 token endpoint.\nAccess tokens expire after 9 hours, beyond which a new one must be obtained. These are required for all PayPal REST API operations, including refunds.\n",
        "Source": "https://stackoverflow.com/questions/78109044/paypal-bearer-resets-after-x-amount-of-seconds"
    },
    {
        "Title": "How to store MySQL credentials in python project, that users not only from my pc will use later?",
        "Question": "I have the following code:\nclass Server:\n    def __init__(self):\n        #server credentials\n        self.ip = \"192.168.1.182\"\n        self.user = \"bank_user\"\n        self.password = \"*mypass*\"\n        self.port = 3307\n        self.database = \"bank\"\n    def connect_to_server(self):\n        try:\n            self.mydb = mysql.connector.connect(\n                host = self.ip,\n                user = self.user,\n                password = self.password,\n                port = self.port,\n                database = self.database\n                )\n            self.mycursor = self.mydb.cursor()\n            print(\"\u2713 Server connection estabilished\")\n            rlist = [True]\n\nThe problem is, I don't want to store it in my code because I feel that it's not safe\nI'm creating a banking app (just for fun) so it will be used as .py->.exe later by users not only from my pc. I shouldn't be stored in a config file or a plaintext file, because if someone gets the credentials he can basically log into the MySQL database and modify all of the data.\nSo no:\n\nEnviromental variables\nPlaintext/ config file\nIt should work on any pc (I'm using pytoexe to convert my python file to exe, so that everyone can run the app)\nI'm new to stackoverflow so forgive me if I wrote sth wrong\n\nI thought about creating a password encryption, but anyone who gets the decryption key can decrypt the password. I also thought about creating my own encryption method, but anyone who gets to my code can just use the decrypting function and execute it for example: decryptor(\"encryptedpassword\")\n",
        "Answer": "Right, anyone who gets your code can extract the MySQL password and connect using any other client. They can do any SQL query according to the privileges you granted that MySQL user.\nEven if you compile using pytoexe, a skilled person could use a debugger or simply the strings tool to extract the password.\nIf you encrypt, they can decrypt. If you try to invent your own encryption algorithm, assume they can decrypt it more easily. I assume you are not an accomplished Ph.D. in applied cryptography, so any novel encryption method you think of will surely be easier to crack than state of the art encryption tools.\nThere are two common methods to solve this problem:\n\nDon't give them the MySQL password. The application you give them has no MySQL connection. The application makes HTTP requests to a web service that you develop. The code in your web service implements specific SQL they can execute. This is where you enforce business rules about what they can access. This is by far the most popular solution.\n\nGive them the MySQL password, but restrict the SQL they can execute. Privileges alone only give you limited control, so you need to create a layer of stored routines and views in the MySQL database. They should be able to access the stored routines and views, but the user cannot access the underlying tables. The routines and views have privileges to do that. Therefore the users can only do what you have allowed them to do in those routines and views.\n\n\nThere could also be a solution using a proxy such as ProxySQL. This would involve writing filters in the proxy so clients would not be allowed to run queries except those you want them to run. The advantage would be that the client application thinks it's connecting to a MySQL Server, but it's really connecting to the proxy. But I think it would be easier to write a web service than to write a whole application's business logic in a proxy.\nI suppose one could also use MySQL's query rewrite plugin to do something similar, but I've never seen anyone do that successfully.\n",
        "Source": "https://stackoverflow.com/questions/78089675/how-to-store-mysql-credentials-in-python-project-that-users-not-only-from-my-pc"
    },
    {
        "Title": "Setup access.ini file permession so it can be read by php script",
        "Question": "I'm really new to this so sorry if this isn't clear.\nI'm trying to hide my database credentials using an access.ini  file.\nI have a AWS instance, with my scripts located in /bitnami/joomla/index (in short I have an html page that display data using a php file that queries a postgresql db). I've tried creating a new directory /bitnami/joomla/config where I placed the access.ini  file. However, my php script can't read it due to permission issues (I guess).\nThe owner/group for the files in /bitnami/joomla/index are bitnami bitnami.\nAnd the owner/group and permissions for the folder /bitnami/joomla/config and its file are :\nbitnami bitnami\ndrwx--x--x\nIs my setup completly wrong, or is the issue easy to solve ?\n",
        "Answer": "Instead of using an access.ini file, consider using environment variables to store sensitive credentials.\nPHP can read environment variables easily.\nAdditional details can be found here.\n",
        "Source": "https://stackoverflow.com/questions/78035277/setup-access-ini-file-permession-so-it-can-be-read-by-php-script"
    },
    {
        "Title": "How to set an &quot;environment&quot; in a non-trivial way using expression?",
        "Question": "I have a GitHub Actions workflow which deploys some things to an environment. The workflow needs to log in to access the environment, so we use GitHub environment secrets to store credentials.\nMy workflow contains this:\non:\n  workflow_dispatch:\n    inputs:\n      deployment_target:\n        type: choice\n        description: Choose an environment to deploy to\n        options:\n          - dev\n          - staging\n          - production\n          - benchmarks\n...\njobs:\n  deploy-to-persistent-environment:\n    environment: ${{ github.event.inputs.deployment_target}}\n    steps: \n      - name: Login # Pseudocode\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy # Pseudocode\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nThe \"benchmarks\" environment uses the same credentials as the \"development\" environment. So I would like to re-use the same GitHub environment secrets rather than have two sets of duplicate environment secrets in GitHub.\nI.e., I would like to do something like this pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ if github.event.inputs.deployment_target == 'benchmarks' then 'development' else github.event.inputs.deployment_target }}\n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nIs there any way to achieve this with GitHub Actions?\n",
        "Answer": "There is a way to do it directly in the expression, according to this reference on the Github Community, by using the syntax ${{ x && 'ifTrue' || 'ifFalse'  }}\nIn that case:\n\nif the condition x is True, the first argument will be used.\nif the condition x is False, the second argument will be used.\n\nIn our case here, it would look like this:\nenvironment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}\n\nWhere:\n\nif github.event.inputs.deployment_target == 'benchmarks' is True, development will be used as environment.\n\nif github.event.inputs.deployment_target == 'benchmarks' is False, github.event.inputs.deployment_target will be used as environment.\n\n\nUpdating the pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}   \n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nEDIT: This is now available on the GitHub official doc as well (Thanks Benjamin W for reporting)\n",
        "Source": "https://stackoverflow.com/questions/77959880/how-to-set-an-environment-in-a-non-trivial-way-using-expression"
    },
    {
        "Title": "How to implement speech recognition with the Google Cloud Speech-to-Text API using Node.js?",
        "Question": "I am new to Google Cloud,\nI recently created a project with Speech-to-Text API.\nAfter creating the project and linking it to a billing account, I accessed the Node.js in-console tutorial for a quick start.\nAfter following all the steps in the in-console tutorial (and dealing with some mistakes in the code in the tutorial itself), and running the code, I got the following error:\nnode:internal/process/promises:289\n            triggerUncaughtException(err, true /* fromPromise */);\n            ^\n\nError: 3 INVALID_ARGUMENT: Invalid resource field value in the request.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Invalid resource field value in the request.',\n  metadata: Metadata {\n    internalRepr: Map(2) {\n      'google.rpc.errorinfo-bin' => [\n        Buffer(127) [Uint8Array] [\n           10,  24,  82,  69,  83,  79,  85,  82,  67,  69,  95,  80,\n           82,  79,  74,  69,  67,  84,  95,  73,  78,  86,  65,  76,\n           73,  68,  18,  14, 103, 111, 111, 103, 108, 101,  97, 112,\n          105, 115,  46,  99, 111, 109,  26,  32,  10,   7, 115, 101,\n          114, 118, 105,  99, 101,  18,  21, 115, 112, 101, 101,  99,\n          104,  46, 103, 111, 111, 103, 108, 101,  97, 112, 105, 115,\n           46,  99, 111, 109,  26,  49,  10,   6, 109, 101, 116, 104,\n          111, 100,  18,  39, 103, 111, 111, 103, 108, 101,  46,  99,\n          108, 111, 117, 100,\n          ... 27 more items\n        ]\n      ],\n      'grpc-status-details-bin' => [\n        Buffer(222) [Uint8Array] [\n            8,   3,  18,  44,  73, 110, 118,  97, 108, 105, 100,  32,\n          114, 101, 115, 111, 117, 114,  99, 101,  32, 102, 105, 101,\n          108, 100,  32, 118,  97, 108, 117, 101,  32, 105, 110,  32,\n          116, 104, 101,  32, 114, 101, 113, 117, 101, 115, 116,  46,\n           26, 171,   1,  10,  40, 116, 121, 112, 101,  46, 103, 111,\n          111, 103, 108, 101,  97, 112, 105, 115,  46,  99, 111, 109,\n           47, 103, 111, 111, 103, 108, 101,  46, 114, 112,  99,  46,\n           69, 114, 114, 111, 114,  73, 110, 102, 111,  18, 127,  10,\n           24,  82,  69,  83,\n          ... 122 more items\n        ]\n      ]\n    },\n    options: {}\n  },\n  note: 'Exception occurred in retry method that was not classified as transient',\n  statusDetails: [\n    ErrorInfo {\n      metadata: {\n        service: 'speech.googleapis.com',\n        method: 'google.cloud.speech.v2.Speech.Recognize'\n      },\n      reason: 'RESOURCE_PROJECT_INVALID',\n      domain: 'googleapis.com'\n    }\n  ],\n  reason: 'RESOURCE_PROJECT_INVALID',\n  domain: 'googleapis.com',\n  errorInfoMetadata: {\n    service: 'speech.googleapis.com',\n    method: 'google.cloud.speech.v2.Speech.Recognize'\n  }\n}\n\nThis is after I seted a project for quota purposes (using gcloud auth application-default set-quota-project $PROJECT_ID in the terminal).\nI also did the same steps through the gcloud CLI (on Windows) and it returned the same error.\nIs there something I forgot to do? Or something in the code is wrong? Maybe it's something to do with the fact that I'm working with version 2 of the API and the code is optimized to work only with version 1 of the API?\nMany thanks in advance!\nThe reusable Node.js code (I made some changes from the original code of the tutorial after encountering errors, and I also changed the way to get the data of the audio file after I couldn't get it from the uri of the bucket, as is customary in GCP):\nconst speech = require('@google-cloud/speech').v2;\nconst https = require('https');\n\nconst client = new speech.SpeechClient();\nconst projectId = '<ProjectId>';\nvar recognizerName;\n\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId: 'en123',\n    recognizer: {\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function getUrlData(url) {\n  return new Promise((resolve) => {\n      https.get(url, response => {\n          var body = '';\n          var i = 0;\n          response.on('data', chunk => {\n              i++;\n              body += chunk;\n          });\n          response.on('end', () => {\n              resolve(Buffer.from(body).toString('base64'));\n          });\n      });\n  });\n}\n\nasync function transcribeFile() {\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nUpdate:\nAfter looking at the (asker's) code in this question, I realized that I got confused in the definition of recognizerName and used only the string of the recognizerId instead of using the full path of the recognizer (projects/${projectId}/locations/global/recognizers/${recognizerId}), so currently my code looks like this:\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\n// ...\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nBut now I get another error:\nError: 3 INVALID_ARGUMENT: Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.',\n  metadata: Metadata { internalRepr: Map(0) {}, options: {} },\n  note: 'Exception occurred in retry method that was not classified as transient'\n}\n\n",
        "Answer": "I managed to solve it!\nThe error Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters occurs when the requested file is in a format without Codec (in this case .raw) and therefore the Speech to Text API does not know how to encode it.\nTo solve this I had to pass an explicitDecodingConfig object when creating the recognizer (within the defaultRecognitionConfig property) or later in the transcriptionRequest (within the config property).\nconst speech = require('@google-cloud/speech').v2;\n\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\n\nconst client = new speech.SpeechClient();\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId,\n    recognizer: {\n      defaultRecognitionConfig: {\n        explicitDecodingConfig: {\n          encoding: 'LINEAR16',\n          sampleRateHertz: 16000,\n          audioChannelCount: 1\n        }\n      },\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  const recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const gcsUri = 'gs://cloud-samples-data/speech/brooklyn_bridge.raw';\n\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    uri: gcsUri,\n    config: {\n      explicitDecodingConfig: {   // If you didn't set explicitDecodingConfig when creating the recognizer, you have to set it here.\n        encoding: 'LINEAR16',\n        sampleRateHertz: 16000,\n        audioChannelCount: 1\n      }\n    },\n  }\n\n  const response = await client.recognize(transcriptionRequest);\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\n(async function main() {\n  await createRecognizer();\n  await transcribeFile();\n})();\n\n",
        "Source": "https://stackoverflow.com/questions/77940391/how-to-implement-speech-recognition-with-the-google-cloud-speech-to-text-api-usi"
    },
    {
        "Title": "Updating AWS credentials",
        "Question": "I need advice on how I can update AWS credentials after they expire.\nI'm creating a bean of AmazonSimpleEmailService this way:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new AWSStaticCredentialsProvider(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                        .getCredentials())\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\nBut when I'm trying to use it I'm getting an error:\nThe security token included in the request is expired (Service: AmazonSimpleEmailService; Status Code: 403; Error Code: ExpiredToken\nIf I create an instance of the SES client right before each mail sending - it works correctly, but it looks like a bad practice to create a new instance before each use.\nI understand that the issue with the credentials that I'm getting via STSAssumeRoleSessionCredentialsProvider - they just have an expiration time.\nI am wondering if there should be a way to automatically update the credentials when they are going to expire, so I'd really appreciate any advice on how to do it.\n",
        "Answer": "STSAssumeRoleSessionCredentialsProvider will auto-refresh the credentials, but you are blocking that functionality by getting a single set of credentials and passing them into a AWSStaticCredentialsProvider instance.\nThis should allow you to use the auto-refresh of the STS Provider:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\n",
        "Source": "https://stackoverflow.com/questions/77921630/updating-aws-credentials"
    },
    {
        "Title": "Reading credentials from another file doesn&#39;t work in Python",
        "Question": "I created a Python file called pw.py where I store my username and password.\nThe content of pw.py is as follows:\nusername = \"username1\"\npassword = \"pswrd2\"\n\nTo access these credentials from another file called ProducerReddit.ipynb, I do the following:\nfrom pw import password, username\n\nHowever, when I try to print password and username, they are always empty.\nThe two files are inside the same folder.\nWhat I am doing wrong?\n",
        "Answer": "I recommend you to check do you have a __init__.py file in the your top folder.\nIf you don't have please create this __init__.py module.\nThen try to use absolute import path.\nFor example you have top directorty with this structure:\ntop_directory:\n              __init__.py\n              pw.py\n              other_file.py\n\nyour import instructions in the other_file.py shoud be like this:\nfrom top_directory.pw import username, password\n\nI hope this may help you\n",
        "Source": "https://stackoverflow.com/questions/77786371/reading-credentials-from-another-file-doesnt-work-in-python"
    },
    {
        "Title": "Apache HTTP Client 5.3 ~ NTCredentials no longer working",
        "Question": "I have a project that uses org.apache.httpcomponents.client5:httpclient5. I recently tried upgrading from version 5.2.3 to version 5.3, only to realize that the authentication was no longer working in the new version.\nHere is how the relevant code looks:\n        BasicCredentialsProvider credentialsProvider =\n            new BasicCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(credentialsProvider)\n            .build();\n[...]\n            final HttpGet httpget = new HttpGet(targetUrl);\n\n            CloseableHttpResponse response = httpclient.execute(httpget);\n\n\nBefore the update from 5.2.3 to 5.3 this worked fine. However, when I use 5.3, I now get a 401 UNAUTHORIZED response.\nI also tried the following variations to above code to pass the credentials along, but they all also return only 401 UNAUTHORIZED:\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(CredentialsProviderBuilder.create()\n                .add(new HttpHost(host, port), username, password.toCharArray())\n                .build())\n            .build();\n\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new UsernamePasswordCredentials(username, password.toCharArray())\n        );\n\n        SystemDefaultCredentialsProvider credentialsProvider =\n            new SystemDefaultCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n\nNow I am stumped. Could this be a bug in 5.3? Or did something change to the way that the NTCredentialsProvider works? I could not find any release notes indicating so, and since this is only a minor version update that would surprise me.\nNonetheless, the fact it that it works with the old version but not with the new one. Does anyone has any suggestions as to what I can do about that?\n",
        "Answer": "We now managed to solve it by providing the httpclient with a default auth scheme registry like this:\n        Lookup<AuthSchemeFactory> authSchemeRegistry = RegistryBuilder.<AuthSchemeFactory>create()\n                .register(StandardAuthScheme.NTLM, new NTLMSchemeFactory()).build();\n\n        httpclient = HttpClients.custom()\n                .setDefaultCredentialsProvider(credentialsProvider)\n                .setDefaultRequestConfig(config)\n                .setDefaultAuthSchemeRegistry(authSchemeRegistry)\n                .build();\n\n",
        "Source": "https://stackoverflow.com/questions/77784888/apache-http-client-5-3-ntcredentials-no-longer-working"
    },
    {
        "Title": "Error on Google Sign In CredentialManager, using Jetpack Compose",
        "Question": "I am trying to create a Sign In with Google Button but everytime credentialManager.getCredential is called, it gives me :\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nI tried resetting the SHA-1 Fingerprint, I've created both web application and android in the google cloud credential, I've used both the web app client id and android client id. I'm lost, please help\n\nobject DeveloperScreen{\n\n    const val GOOGLE_WEB_CLIENT_ID = \"xxxxxxxxxh5n94bxxxxxxxxxxx1.apps.googleusercontent.com\"\n//    const val GOOGLE_WEB_CLIENT_SECRET = \"GxxxxxxxxCinwYDR8KQi3-wD9ugT311\"\n//    const val GOOGLE_ANDROID_CLIENT_ID = \"3xxxxxxx80-7ja1n9nknxxxxxxxxxxxxxxxxxxxens33k.apps.googleusercontent.com\"\n\n\n    private suspend fun googleSignIn(context : Context) {\n\n\n        val credentialManager = androidx.credentials.CredentialManager.create(context)\n\n        val googleIdOption: GetGoogleIdOption = GetGoogleIdOption.Builder()\n            .setFilterByAuthorizedAccounts(false)\n            .setServerClientId(GOOGLE_WEB_CLIENT_ID)\n            .build()\n\n        Log.i(\"auth-google-googleIdOption\", googleIdOption.toString())\n\n        val request: GetCredentialRequest = GetCredentialRequest.Builder()\n            .addCredentialOption(googleIdOption)\n            .build()\n\n        Log.i(\"auth-google-credentialRequest\", request.toString())\n\n\n        val result = credentialManager.getCredential(\n            request = request,\n            context = context,\n        )\n\n        Log.i(\"auth-google-result\", result.toString())\n\n\n\n\n\n    }\n\n\n\n    @Composable\n    public fun DeveloperScreen1(navController : NavHostController, context : Context){\n\n        var phoneNumber by rememberSaveable { mutableStateOf(\"\") }\n        var email by rememberSaveable { mutableStateOf(\"\")}\n        var otpCode by rememberSaveable { mutableStateOf(\"\") }\n\n        var useEmail by rememberSaveable { mutableStateOf(false)}\n\n        var message by rememberSaveable { mutableStateOf(\"\")}\n\n        val coroutineScope = rememberCoroutineScope()\n\n        Column {\n\n\n            var user : User? = getCurrentUser()\n\n            Text(\n                textAlign = TextAlign.Center,\n                fontSize = 5.em,\n                text = \"DEV SCREEN\",\n                modifier = Modifier\n                    .fillMaxWidth()\n                    .padding(top = 10.dp)\n\n            )\n\n            Text(\n                text = message,\n                color = Color.Black\n            )\n\n            Button(\n                onClick = {\n\n                    coroutineScope.launch {\n\n                        googleSignIn(context)\n\n                    }\n...\n\n\n\n\nvar screenHeight = 0.dp\nvar screenWidth = 0.dp\n\nvar authViewModel = AuthViewModel()\n\n\n\nclass MainActivity : ComponentActivity() {\n\n\n\n    @RequiresApi(Q)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n\n        Log.d(\"Initialize\", \"App Started\")\n\n        setContent {\n\n\n            var context: Context = LocalContext.current\n\n            Box(\n                Modifier\n                    .background(color = Color(0xFFBDC6CA))\n                    .safeDrawingPadding()\n            ) {\n                MetroFCTheme {\n                    MainContent(context)\n\n\n\n                }\n            }\n        }\n\n        actionBar?.hide()\n        WindowCompat.setDecorFitsSystemWindows(window, false)\n        if (Build.VERSION.SDK_INT < Build.VERSION_CODES.R) {\n            window.addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)\n        } else {\n            window.insetsController?.apply {\n//                hide(WindowInsetsAndroid.Type.statusBars())\n                systemBarsBehavior = WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\n            }\n        }\n\n    }\n\n\n}\n\n\n\n@RequiresApi(Q)\n@Composable\nfun MainContent(\n    context : Context\n){\n\n    var user by remember{ mutableStateOf<User?>(null) }\n\n    LaunchedEffect(key1 = user) {\n\n        refreshMenu()\n\n    }\n\n\n    LaunchedEffect(key1 = \"login\") {\n\n        user = loginAnonymously()\n        Log.d(\"DB-User\", \"USER LOGIN SUCCESSFUL : $user\")\n\n    }\n\n\n    Log.d(\"DB\", \"2.\" + user.toString())\n\n\n\n\n    Log.d(\"Initialize\",\"Database Connected\")\n\n    val configuration = LocalConfiguration.current\n    screenHeight = configuration.screenHeightDp.dp\n    screenWidth = configuration.screenWidthDp.dp\n\n    var onDashboard by remember {mutableStateOf(true)}\n    var onMenu = false\n    val updateStates = { dashboard: Boolean, menu: Boolean ->\n        onDashboard = dashboard\n        onMenu = menu\n    }\n\n    val navController = rememberNavController()\n\n\n    Scaffold(\n\n        bottomBar = {\n            if(authViewModel.isLoggedIn) NavigationBar(navController = navController, onDashboard, onMenu, updateStates)\n\n                    },\n        containerColor = MaterialTheme.colorScheme.background,\n        contentWindowInsets = WindowInsets(0.dp),\n        modifier = Modifier.fillMaxSize()\n\n    ) {\n    innerPadding ->\n\n        val scrollState = rememberScrollState()\n\n        val padding = innerPadding\n\n        NavHost(\n            navController = navController,\n            startDestination = if (authViewModel.isLoggedIn) Route.DEV_SCREEN else Route.DEV_SCREEN,\n            modifier = Modifier\n//                .verticalScroll(state = scrollState)\n                .fillMaxSize()\n        ) {\n\n            composable(route = Route.DEV_SCREEN){\n                DeveloperScreen1(navController, context)\n            }\n\n            composable(route = Route.DASHBOARD_SCREEN) {\n\n                authViewModel.login(user)\n                DashboardScreen()\n            }\n\n            composable(route = Route.MENU_SCREEN) {\n                authViewModel.login(user)\n                MenuScreen(user)\n            }\n        }\n    }\n}\n\nProcess: com.metrofriedchicken.metrofc, PID: 20630\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nat androidx.credentials.playservices.controllers.CredentialProviderBaseController$Companion.getCredentialExceptionTypeToException$credentials_play_services_auth_release(CredentialProviderBaseController.kt:110)\nat androidx.credentials.playservices.controllers.BeginSignIn.CredentialProviderBeginSignInController$resultReceiver$1$onReceiveResult$1.invoke(CredentialProviderBeginSignInController.kt:93)\nI've tried :\n\nDeleting Keystore and make a new one ( debug and release )\nUsed the web app client id and android client id\nChange device\nwaited a day\n\n",
        "Answer": "I am assuming you are currently integrating the Credential Manager in debug mode and testing your integration in an app directly installed from Android Studio to  your test device.\nIn this case you will need to configure the SHA1 key currently being used to sign your app, which is Android Studio's debug keystore.\nIn this case, you can get the SHA1 by running below command in Android Studio's terminal:\n./gradlew signingreport\n\nCopy the correct SHA1 fingerprint of correct Variant and Config from the terminal console and configure the same in cloud console for your app's Android OAuth2 client.\nIn order to keep the steps cleaner, I am mentioning them as below:\n\nCreate one Android OAuth2 client in cloud api console with you app's package name.\nUse the debug SHA1 key in this Android OAuth2 client creation as I mentioned above (in order to recognized this as debug client you can append the client name with debug as \"your-app-debug\")\nCreate one Web OAuth2 client in cloud api console. This will act as the server for your app\nCopy the ClientID of this Web client and use in setServerClientId(ServerClientID) in your integration.\n\nWith these simple steps alone, your integration should work fine.\nOptionally, as the next step,\n\nYou can create another Android OAuth2 client with release key's SHA1 fingerprint for production, and for recognizing this client, can give it a name \"Your-app-release\"\n\n",
        "Source": "https://stackoverflow.com/questions/78247578/error-on-google-sign-in-credentialmanager-using-jetpack-compose"
    },
    {
        "Title": "Access AWS Secrets Manager with IMDSv2 set to required",
        "Question": "I'm working on a Java application running on an EC2 instance in AWS. My goal is to access AWS Secrets Manager using an AWS SDK for Java and an IAM role attached to the EC2 instance.\nEverything works smoothly when IMDSv2 (Instance Metadata Service version 2) is optional. However, when it's set to required as recommended, I encounter an issue.\nSpecifically, I'm receiving the error 'software.amazon.awssdk.core.exception.SdkClientException: Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain'.\nHow can I resolve this issue and successfully access AWS Secrets Manager with IMDSv2 set to required?\nTried attaching different policies, created some custom ones but the result is same.\njava sdk version used:\n<dependency>\n     <groupId>software.amazon.awssdk</groupId>\n     <artifactId>secretsmanager</artifactId>\n     <version>2.25.7</version>\n</dependency>\n\n",
        "Answer": "I did some more research and was able to figure this out. There have been issues with IMDSv2 network request and what was suggested is to increase the hop limit to '2' on the ec2 instance. As said here in the considerations section as well https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-retrieval.html#imds-considerations\nTo increase the hop limit:\n\"Use the modify-instance-metadata-options CLI command and set the http-put-response-hop-limit parameter to the required number of hops. In the following example, the hop limit is set to 2. Note that when specifying a value for http-put-response-hop-limit, you must also set http-endpoint to enabled\"\nUsing aws cli:\naws ec2 modify-instance-metadata-options \\\n--instance-id <instance-id> \\\n--http-put-response-hop-limit 2 \\\n--http-endpoint enabled\n\n",
        "Source": "https://stackoverflow.com/questions/78183614/access-aws-secrets-manager-with-imdsv2-set-to-required"
    },
    {
        "Title": "Install a private package with credentials from requirements.txt",
        "Question": "I want to a private package via\n%pip install -r /dbfs/requirements.txt\n\nInside this requirements.txt is give:\ngit+https://<user>:$token@<gitprovider>.com/<path/to/repo>\n\nIf i give user and token inside the requirements.txt it works like a charm, but I want to pass user and token via dbutils.secrets. Is this doable without manipulating the requirements.txt before?\nI thought it would be possible to create environment variables, but this did not work for me.\n%env GIT_USERNAME= ...\n%env GIT_TOKEN= ...\n\n",
        "Answer": "The way is using python\n\nGetting information\nStore the information in a temporary file so that its details will not be found in the run log or records after running\nRun\n\nimport dbutils\n\nusername = dbutils.secrets.get(scope=\"your_scope\", key=\"git_username\")\ntoken = dbutils.secrets.get(scope=\"your_scope\", key=\"git_token\")\n\nrepo_url = f\"git+https://{username}:{token}@gitprovider.com/path/to/repo\"\n\nrequirements_path = \"/dbfs/tmp/requirements.txt\"\n\nwith open(requirements_path, \"w\") as file:\n    file.write(repo_url + \"\\n\")\n\ndbutils.notebook.run(\"%pip install -r \" + requirements_path, 60)\n\n",
        "Source": "https://stackoverflow.com/questions/78140635/install-a-private-package-with-credentials-from-requirements-txt"
    },
    {
        "Title": "PayPal bearer resets after x amount of seconds",
        "Question": "I\u2019m using PayPal refund api. The api docs says the bearer token that I am using will reset after x amount of seconds.\nLink to where it says access token resets:\nhttps://developer.paypal.com/reference/get-an-access-token/\nIn my case my token resets after 9 hours. I am using this token to refund purchases which will happen all the time. Is there an alternate solution from Bearer <Access-Token> that doesn\u2019t include a reset token? I haven\u2019t been able to find one other than the Basic <client_id>:<secret> which includes client credentials which doesn\u2019t seem to work. And yes the credentials are correct.\nLink to api:\nhttps://developer.paypal.com/docs/api/payments/v2/#captures_refund\n",
        "Answer": "Basic client_id:secret, where the string client_id:secret is Base64 encoded, is the header value for HTTP Basic Authentication. This is used to obtain an access token from the oauth2 token endpoint.\nAccess tokens expire after 9 hours, beyond which a new one must be obtained. These are required for all PayPal REST API operations, including refunds.\n",
        "Source": "https://stackoverflow.com/questions/78109044/paypal-bearer-resets-after-x-amount-of-seconds"
    },
    {
        "Title": "How to store MySQL credentials in python project, that users not only from my pc will use later?",
        "Question": "I have the following code:\nclass Server:\n    def __init__(self):\n        #server credentials\n        self.ip = \"192.168.1.182\"\n        self.user = \"bank_user\"\n        self.password = \"*mypass*\"\n        self.port = 3307\n        self.database = \"bank\"\n    def connect_to_server(self):\n        try:\n            self.mydb = mysql.connector.connect(\n                host = self.ip,\n                user = self.user,\n                password = self.password,\n                port = self.port,\n                database = self.database\n                )\n            self.mycursor = self.mydb.cursor()\n            print(\"\u2713 Server connection estabilished\")\n            rlist = [True]\n\nThe problem is, I don't want to store it in my code because I feel that it's not safe\nI'm creating a banking app (just for fun) so it will be used as .py->.exe later by users not only from my pc. I shouldn't be stored in a config file or a plaintext file, because if someone gets the credentials he can basically log into the MySQL database and modify all of the data.\nSo no:\n\nEnviromental variables\nPlaintext/ config file\nIt should work on any pc (I'm using pytoexe to convert my python file to exe, so that everyone can run the app)\nI'm new to stackoverflow so forgive me if I wrote sth wrong\n\nI thought about creating a password encryption, but anyone who gets the decryption key can decrypt the password. I also thought about creating my own encryption method, but anyone who gets to my code can just use the decrypting function and execute it for example: decryptor(\"encryptedpassword\")\n",
        "Answer": "Right, anyone who gets your code can extract the MySQL password and connect using any other client. They can do any SQL query according to the privileges you granted that MySQL user.\nEven if you compile using pytoexe, a skilled person could use a debugger or simply the strings tool to extract the password.\nIf you encrypt, they can decrypt. If you try to invent your own encryption algorithm, assume they can decrypt it more easily. I assume you are not an accomplished Ph.D. in applied cryptography, so any novel encryption method you think of will surely be easier to crack than state of the art encryption tools.\nThere are two common methods to solve this problem:\n\nDon't give them the MySQL password. The application you give them has no MySQL connection. The application makes HTTP requests to a web service that you develop. The code in your web service implements specific SQL they can execute. This is where you enforce business rules about what they can access. This is by far the most popular solution.\n\nGive them the MySQL password, but restrict the SQL they can execute. Privileges alone only give you limited control, so you need to create a layer of stored routines and views in the MySQL database. They should be able to access the stored routines and views, but the user cannot access the underlying tables. The routines and views have privileges to do that. Therefore the users can only do what you have allowed them to do in those routines and views.\n\n\nThere could also be a solution using a proxy such as ProxySQL. This would involve writing filters in the proxy so clients would not be allowed to run queries except those you want them to run. The advantage would be that the client application thinks it's connecting to a MySQL Server, but it's really connecting to the proxy. But I think it would be easier to write a web service than to write a whole application's business logic in a proxy.\nI suppose one could also use MySQL's query rewrite plugin to do something similar, but I've never seen anyone do that successfully.\n",
        "Source": "https://stackoverflow.com/questions/78089675/how-to-store-mysql-credentials-in-python-project-that-users-not-only-from-my-pc"
    },
    {
        "Title": "Setup access.ini file permession so it can be read by php script",
        "Question": "I'm really new to this so sorry if this isn't clear.\nI'm trying to hide my database credentials using an access.ini  file.\nI have a AWS instance, with my scripts located in /bitnami/joomla/index (in short I have an html page that display data using a php file that queries a postgresql db). I've tried creating a new directory /bitnami/joomla/config where I placed the access.ini  file. However, my php script can't read it due to permission issues (I guess).\nThe owner/group for the files in /bitnami/joomla/index are bitnami bitnami.\nAnd the owner/group and permissions for the folder /bitnami/joomla/config and its file are :\nbitnami bitnami\ndrwx--x--x\nIs my setup completly wrong, or is the issue easy to solve ?\n",
        "Answer": "Instead of using an access.ini file, consider using environment variables to store sensitive credentials.\nPHP can read environment variables easily.\nAdditional details can be found here.\n",
        "Source": "https://stackoverflow.com/questions/78035277/setup-access-ini-file-permession-so-it-can-be-read-by-php-script"
    },
    {
        "Title": "How to set an &quot;environment&quot; in a non-trivial way using expression?",
        "Question": "I have a GitHub Actions workflow which deploys some things to an environment. The workflow needs to log in to access the environment, so we use GitHub environment secrets to store credentials.\nMy workflow contains this:\non:\n  workflow_dispatch:\n    inputs:\n      deployment_target:\n        type: choice\n        description: Choose an environment to deploy to\n        options:\n          - dev\n          - staging\n          - production\n          - benchmarks\n...\njobs:\n  deploy-to-persistent-environment:\n    environment: ${{ github.event.inputs.deployment_target}}\n    steps: \n      - name: Login # Pseudocode\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy # Pseudocode\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nThe \"benchmarks\" environment uses the same credentials as the \"development\" environment. So I would like to re-use the same GitHub environment secrets rather than have two sets of duplicate environment secrets in GitHub.\nI.e., I would like to do something like this pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ if github.event.inputs.deployment_target == 'benchmarks' then 'development' else github.event.inputs.deployment_target }}\n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nIs there any way to achieve this with GitHub Actions?\n",
        "Answer": "There is a way to do it directly in the expression, according to this reference on the Github Community, by using the syntax ${{ x && 'ifTrue' || 'ifFalse'  }}\nIn that case:\n\nif the condition x is True, the first argument will be used.\nif the condition x is False, the second argument will be used.\n\nIn our case here, it would look like this:\nenvironment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}\n\nWhere:\n\nif github.event.inputs.deployment_target == 'benchmarks' is True, development will be used as environment.\n\nif github.event.inputs.deployment_target == 'benchmarks' is False, github.event.inputs.deployment_target will be used as environment.\n\n\nUpdating the pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}   \n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nEDIT: This is now available on the GitHub official doc as well (Thanks Benjamin W for reporting)\n",
        "Source": "https://stackoverflow.com/questions/77959880/how-to-set-an-environment-in-a-non-trivial-way-using-expression"
    },
    {
        "Title": "How to implement speech recognition with the Google Cloud Speech-to-Text API using Node.js?",
        "Question": "I am new to Google Cloud,\nI recently created a project with Speech-to-Text API.\nAfter creating the project and linking it to a billing account, I accessed the Node.js in-console tutorial for a quick start.\nAfter following all the steps in the in-console tutorial (and dealing with some mistakes in the code in the tutorial itself), and running the code, I got the following error:\nnode:internal/process/promises:289\n            triggerUncaughtException(err, true /* fromPromise */);\n            ^\n\nError: 3 INVALID_ARGUMENT: Invalid resource field value in the request.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Invalid resource field value in the request.',\n  metadata: Metadata {\n    internalRepr: Map(2) {\n      'google.rpc.errorinfo-bin' => [\n        Buffer(127) [Uint8Array] [\n           10,  24,  82,  69,  83,  79,  85,  82,  67,  69,  95,  80,\n           82,  79,  74,  69,  67,  84,  95,  73,  78,  86,  65,  76,\n           73,  68,  18,  14, 103, 111, 111, 103, 108, 101,  97, 112,\n          105, 115,  46,  99, 111, 109,  26,  32,  10,   7, 115, 101,\n          114, 118, 105,  99, 101,  18,  21, 115, 112, 101, 101,  99,\n          104,  46, 103, 111, 111, 103, 108, 101,  97, 112, 105, 115,\n           46,  99, 111, 109,  26,  49,  10,   6, 109, 101, 116, 104,\n          111, 100,  18,  39, 103, 111, 111, 103, 108, 101,  46,  99,\n          108, 111, 117, 100,\n          ... 27 more items\n        ]\n      ],\n      'grpc-status-details-bin' => [\n        Buffer(222) [Uint8Array] [\n            8,   3,  18,  44,  73, 110, 118,  97, 108, 105, 100,  32,\n          114, 101, 115, 111, 117, 114,  99, 101,  32, 102, 105, 101,\n          108, 100,  32, 118,  97, 108, 117, 101,  32, 105, 110,  32,\n          116, 104, 101,  32, 114, 101, 113, 117, 101, 115, 116,  46,\n           26, 171,   1,  10,  40, 116, 121, 112, 101,  46, 103, 111,\n          111, 103, 108, 101,  97, 112, 105, 115,  46,  99, 111, 109,\n           47, 103, 111, 111, 103, 108, 101,  46, 114, 112,  99,  46,\n           69, 114, 114, 111, 114,  73, 110, 102, 111,  18, 127,  10,\n           24,  82,  69,  83,\n          ... 122 more items\n        ]\n      ]\n    },\n    options: {}\n  },\n  note: 'Exception occurred in retry method that was not classified as transient',\n  statusDetails: [\n    ErrorInfo {\n      metadata: {\n        service: 'speech.googleapis.com',\n        method: 'google.cloud.speech.v2.Speech.Recognize'\n      },\n      reason: 'RESOURCE_PROJECT_INVALID',\n      domain: 'googleapis.com'\n    }\n  ],\n  reason: 'RESOURCE_PROJECT_INVALID',\n  domain: 'googleapis.com',\n  errorInfoMetadata: {\n    service: 'speech.googleapis.com',\n    method: 'google.cloud.speech.v2.Speech.Recognize'\n  }\n}\n\nThis is after I seted a project for quota purposes (using gcloud auth application-default set-quota-project $PROJECT_ID in the terminal).\nI also did the same steps through the gcloud CLI (on Windows) and it returned the same error.\nIs there something I forgot to do? Or something in the code is wrong? Maybe it's something to do with the fact that I'm working with version 2 of the API and the code is optimized to work only with version 1 of the API?\nMany thanks in advance!\nThe reusable Node.js code (I made some changes from the original code of the tutorial after encountering errors, and I also changed the way to get the data of the audio file after I couldn't get it from the uri of the bucket, as is customary in GCP):\nconst speech = require('@google-cloud/speech').v2;\nconst https = require('https');\n\nconst client = new speech.SpeechClient();\nconst projectId = '<ProjectId>';\nvar recognizerName;\n\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId: 'en123',\n    recognizer: {\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function getUrlData(url) {\n  return new Promise((resolve) => {\n      https.get(url, response => {\n          var body = '';\n          var i = 0;\n          response.on('data', chunk => {\n              i++;\n              body += chunk;\n          });\n          response.on('end', () => {\n              resolve(Buffer.from(body).toString('base64'));\n          });\n      });\n  });\n}\n\nasync function transcribeFile() {\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nUpdate:\nAfter looking at the (asker's) code in this question, I realized that I got confused in the definition of recognizerName and used only the string of the recognizerId instead of using the full path of the recognizer (projects/${projectId}/locations/global/recognizers/${recognizerId}), so currently my code looks like this:\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\n// ...\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nBut now I get another error:\nError: 3 INVALID_ARGUMENT: Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.',\n  metadata: Metadata { internalRepr: Map(0) {}, options: {} },\n  note: 'Exception occurred in retry method that was not classified as transient'\n}\n\n",
        "Answer": "I managed to solve it!\nThe error Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters occurs when the requested file is in a format without Codec (in this case .raw) and therefore the Speech to Text API does not know how to encode it.\nTo solve this I had to pass an explicitDecodingConfig object when creating the recognizer (within the defaultRecognitionConfig property) or later in the transcriptionRequest (within the config property).\nconst speech = require('@google-cloud/speech').v2;\n\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\n\nconst client = new speech.SpeechClient();\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId,\n    recognizer: {\n      defaultRecognitionConfig: {\n        explicitDecodingConfig: {\n          encoding: 'LINEAR16',\n          sampleRateHertz: 16000,\n          audioChannelCount: 1\n        }\n      },\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  const recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const gcsUri = 'gs://cloud-samples-data/speech/brooklyn_bridge.raw';\n\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    uri: gcsUri,\n    config: {\n      explicitDecodingConfig: {   // If you didn't set explicitDecodingConfig when creating the recognizer, you have to set it here.\n        encoding: 'LINEAR16',\n        sampleRateHertz: 16000,\n        audioChannelCount: 1\n      }\n    },\n  }\n\n  const response = await client.recognize(transcriptionRequest);\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\n(async function main() {\n  await createRecognizer();\n  await transcribeFile();\n})();\n\n",
        "Source": "https://stackoverflow.com/questions/77940391/how-to-implement-speech-recognition-with-the-google-cloud-speech-to-text-api-usi"
    },
    {
        "Title": "Updating AWS credentials",
        "Question": "I need advice on how I can update AWS credentials after they expire.\nI'm creating a bean of AmazonSimpleEmailService this way:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new AWSStaticCredentialsProvider(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                        .getCredentials())\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\nBut when I'm trying to use it I'm getting an error:\nThe security token included in the request is expired (Service: AmazonSimpleEmailService; Status Code: 403; Error Code: ExpiredToken\nIf I create an instance of the SES client right before each mail sending - it works correctly, but it looks like a bad practice to create a new instance before each use.\nI understand that the issue with the credentials that I'm getting via STSAssumeRoleSessionCredentialsProvider - they just have an expiration time.\nI am wondering if there should be a way to automatically update the credentials when they are going to expire, so I'd really appreciate any advice on how to do it.\n",
        "Answer": "STSAssumeRoleSessionCredentialsProvider will auto-refresh the credentials, but you are blocking that functionality by getting a single set of credentials and passing them into a AWSStaticCredentialsProvider instance.\nThis should allow you to use the auto-refresh of the STS Provider:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\n",
        "Source": "https://stackoverflow.com/questions/77921630/updating-aws-credentials"
    },
    {
        "Title": "Reading credentials from another file doesn&#39;t work in Python",
        "Question": "I created a Python file called pw.py where I store my username and password.\nThe content of pw.py is as follows:\nusername = \"username1\"\npassword = \"pswrd2\"\n\nTo access these credentials from another file called ProducerReddit.ipynb, I do the following:\nfrom pw import password, username\n\nHowever, when I try to print password and username, they are always empty.\nThe two files are inside the same folder.\nWhat I am doing wrong?\n",
        "Answer": "I recommend you to check do you have a __init__.py file in the your top folder.\nIf you don't have please create this __init__.py module.\nThen try to use absolute import path.\nFor example you have top directorty with this structure:\ntop_directory:\n              __init__.py\n              pw.py\n              other_file.py\n\nyour import instructions in the other_file.py shoud be like this:\nfrom top_directory.pw import username, password\n\nI hope this may help you\n",
        "Source": "https://stackoverflow.com/questions/77786371/reading-credentials-from-another-file-doesnt-work-in-python"
    },
    {
        "Title": "Apache HTTP Client 5.3 ~ NTCredentials no longer working",
        "Question": "I have a project that uses org.apache.httpcomponents.client5:httpclient5. I recently tried upgrading from version 5.2.3 to version 5.3, only to realize that the authentication was no longer working in the new version.\nHere is how the relevant code looks:\n        BasicCredentialsProvider credentialsProvider =\n            new BasicCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(credentialsProvider)\n            .build();\n[...]\n            final HttpGet httpget = new HttpGet(targetUrl);\n\n            CloseableHttpResponse response = httpclient.execute(httpget);\n\n\nBefore the update from 5.2.3 to 5.3 this worked fine. However, when I use 5.3, I now get a 401 UNAUTHORIZED response.\nI also tried the following variations to above code to pass the credentials along, but they all also return only 401 UNAUTHORIZED:\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(CredentialsProviderBuilder.create()\n                .add(new HttpHost(host, port), username, password.toCharArray())\n                .build())\n            .build();\n\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new UsernamePasswordCredentials(username, password.toCharArray())\n        );\n\n        SystemDefaultCredentialsProvider credentialsProvider =\n            new SystemDefaultCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n\nNow I am stumped. Could this be a bug in 5.3? Or did something change to the way that the NTCredentialsProvider works? I could not find any release notes indicating so, and since this is only a minor version update that would surprise me.\nNonetheless, the fact it that it works with the old version but not with the new one. Does anyone has any suggestions as to what I can do about that?\n",
        "Answer": "We now managed to solve it by providing the httpclient with a default auth scheme registry like this:\n        Lookup<AuthSchemeFactory> authSchemeRegistry = RegistryBuilder.<AuthSchemeFactory>create()\n                .register(StandardAuthScheme.NTLM, new NTLMSchemeFactory()).build();\n\n        httpclient = HttpClients.custom()\n                .setDefaultCredentialsProvider(credentialsProvider)\n                .setDefaultRequestConfig(config)\n                .setDefaultAuthSchemeRegistry(authSchemeRegistry)\n                .build();\n\n",
        "Source": "https://stackoverflow.com/questions/77784888/apache-http-client-5-3-ntcredentials-no-longer-working"
    },
    {
        "Title": "Error on Google Sign In CredentialManager, using Jetpack Compose",
        "Question": "I am trying to create a Sign In with Google Button but everytime credentialManager.getCredential is called, it gives me :\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nI tried resetting the SHA-1 Fingerprint, I've created both web application and android in the google cloud credential, I've used both the web app client id and android client id. I'm lost, please help\n\nobject DeveloperScreen{\n\n    const val GOOGLE_WEB_CLIENT_ID = \"xxxxxxxxxh5n94bxxxxxxxxxxx1.apps.googleusercontent.com\"\n//    const val GOOGLE_WEB_CLIENT_SECRET = \"GxxxxxxxxCinwYDR8KQi3-wD9ugT311\"\n//    const val GOOGLE_ANDROID_CLIENT_ID = \"3xxxxxxx80-7ja1n9nknxxxxxxxxxxxxxxxxxxxens33k.apps.googleusercontent.com\"\n\n\n    private suspend fun googleSignIn(context : Context) {\n\n\n        val credentialManager = androidx.credentials.CredentialManager.create(context)\n\n        val googleIdOption: GetGoogleIdOption = GetGoogleIdOption.Builder()\n            .setFilterByAuthorizedAccounts(false)\n            .setServerClientId(GOOGLE_WEB_CLIENT_ID)\n            .build()\n\n        Log.i(\"auth-google-googleIdOption\", googleIdOption.toString())\n\n        val request: GetCredentialRequest = GetCredentialRequest.Builder()\n            .addCredentialOption(googleIdOption)\n            .build()\n\n        Log.i(\"auth-google-credentialRequest\", request.toString())\n\n\n        val result = credentialManager.getCredential(\n            request = request,\n            context = context,\n        )\n\n        Log.i(\"auth-google-result\", result.toString())\n\n\n\n\n\n    }\n\n\n\n    @Composable\n    public fun DeveloperScreen1(navController : NavHostController, context : Context){\n\n        var phoneNumber by rememberSaveable { mutableStateOf(\"\") }\n        var email by rememberSaveable { mutableStateOf(\"\")}\n        var otpCode by rememberSaveable { mutableStateOf(\"\") }\n\n        var useEmail by rememberSaveable { mutableStateOf(false)}\n\n        var message by rememberSaveable { mutableStateOf(\"\")}\n\n        val coroutineScope = rememberCoroutineScope()\n\n        Column {\n\n\n            var user : User? = getCurrentUser()\n\n            Text(\n                textAlign = TextAlign.Center,\n                fontSize = 5.em,\n                text = \"DEV SCREEN\",\n                modifier = Modifier\n                    .fillMaxWidth()\n                    .padding(top = 10.dp)\n\n            )\n\n            Text(\n                text = message,\n                color = Color.Black\n            )\n\n            Button(\n                onClick = {\n\n                    coroutineScope.launch {\n\n                        googleSignIn(context)\n\n                    }\n...\n\n\n\n\nvar screenHeight = 0.dp\nvar screenWidth = 0.dp\n\nvar authViewModel = AuthViewModel()\n\n\n\nclass MainActivity : ComponentActivity() {\n\n\n\n    @RequiresApi(Q)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n\n        Log.d(\"Initialize\", \"App Started\")\n\n        setContent {\n\n\n            var context: Context = LocalContext.current\n\n            Box(\n                Modifier\n                    .background(color = Color(0xFFBDC6CA))\n                    .safeDrawingPadding()\n            ) {\n                MetroFCTheme {\n                    MainContent(context)\n\n\n\n                }\n            }\n        }\n\n        actionBar?.hide()\n        WindowCompat.setDecorFitsSystemWindows(window, false)\n        if (Build.VERSION.SDK_INT < Build.VERSION_CODES.R) {\n            window.addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)\n        } else {\n            window.insetsController?.apply {\n//                hide(WindowInsetsAndroid.Type.statusBars())\n                systemBarsBehavior = WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\n            }\n        }\n\n    }\n\n\n}\n\n\n\n@RequiresApi(Q)\n@Composable\nfun MainContent(\n    context : Context\n){\n\n    var user by remember{ mutableStateOf<User?>(null) }\n\n    LaunchedEffect(key1 = user) {\n\n        refreshMenu()\n\n    }\n\n\n    LaunchedEffect(key1 = \"login\") {\n\n        user = loginAnonymously()\n        Log.d(\"DB-User\", \"USER LOGIN SUCCESSFUL : $user\")\n\n    }\n\n\n    Log.d(\"DB\", \"2.\" + user.toString())\n\n\n\n\n    Log.d(\"Initialize\",\"Database Connected\")\n\n    val configuration = LocalConfiguration.current\n    screenHeight = configuration.screenHeightDp.dp\n    screenWidth = configuration.screenWidthDp.dp\n\n    var onDashboard by remember {mutableStateOf(true)}\n    var onMenu = false\n    val updateStates = { dashboard: Boolean, menu: Boolean ->\n        onDashboard = dashboard\n        onMenu = menu\n    }\n\n    val navController = rememberNavController()\n\n\n    Scaffold(\n\n        bottomBar = {\n            if(authViewModel.isLoggedIn) NavigationBar(navController = navController, onDashboard, onMenu, updateStates)\n\n                    },\n        containerColor = MaterialTheme.colorScheme.background,\n        contentWindowInsets = WindowInsets(0.dp),\n        modifier = Modifier.fillMaxSize()\n\n    ) {\n    innerPadding ->\n\n        val scrollState = rememberScrollState()\n\n        val padding = innerPadding\n\n        NavHost(\n            navController = navController,\n            startDestination = if (authViewModel.isLoggedIn) Route.DEV_SCREEN else Route.DEV_SCREEN,\n            modifier = Modifier\n//                .verticalScroll(state = scrollState)\n                .fillMaxSize()\n        ) {\n\n            composable(route = Route.DEV_SCREEN){\n                DeveloperScreen1(navController, context)\n            }\n\n            composable(route = Route.DASHBOARD_SCREEN) {\n\n                authViewModel.login(user)\n                DashboardScreen()\n            }\n\n            composable(route = Route.MENU_SCREEN) {\n                authViewModel.login(user)\n                MenuScreen(user)\n            }\n        }\n    }\n}\n\nProcess: com.metrofriedchicken.metrofc, PID: 20630\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nat androidx.credentials.playservices.controllers.CredentialProviderBaseController$Companion.getCredentialExceptionTypeToException$credentials_play_services_auth_release(CredentialProviderBaseController.kt:110)\nat androidx.credentials.playservices.controllers.BeginSignIn.CredentialProviderBeginSignInController$resultReceiver$1$onReceiveResult$1.invoke(CredentialProviderBeginSignInController.kt:93)\nI've tried :\n\nDeleting Keystore and make a new one ( debug and release )\nUsed the web app client id and android client id\nChange device\nwaited a day\n\n",
        "Answer": "I am assuming you are currently integrating the Credential Manager in debug mode and testing your integration in an app directly installed from Android Studio to  your test device.\nIn this case you will need to configure the SHA1 key currently being used to sign your app, which is Android Studio's debug keystore.\nIn this case, you can get the SHA1 by running below command in Android Studio's terminal:\n./gradlew signingreport\n\nCopy the correct SHA1 fingerprint of correct Variant and Config from the terminal console and configure the same in cloud console for your app's Android OAuth2 client.\nIn order to keep the steps cleaner, I am mentioning them as below:\n\nCreate one Android OAuth2 client in cloud api console with you app's package name.\nUse the debug SHA1 key in this Android OAuth2 client creation as I mentioned above (in order to recognized this as debug client you can append the client name with debug as \"your-app-debug\")\nCreate one Web OAuth2 client in cloud api console. This will act as the server for your app\nCopy the ClientID of this Web client and use in setServerClientId(ServerClientID) in your integration.\n\nWith these simple steps alone, your integration should work fine.\nOptionally, as the next step,\n\nYou can create another Android OAuth2 client with release key's SHA1 fingerprint for production, and for recognizing this client, can give it a name \"Your-app-release\"\n\n",
        "Source": "https://stackoverflow.com/questions/78247578/error-on-google-sign-in-credentialmanager-using-jetpack-compose"
    },
    {
        "Title": "Access AWS Secrets Manager with IMDSv2 set to required",
        "Question": "I'm working on a Java application running on an EC2 instance in AWS. My goal is to access AWS Secrets Manager using an AWS SDK for Java and an IAM role attached to the EC2 instance.\nEverything works smoothly when IMDSv2 (Instance Metadata Service version 2) is optional. However, when it's set to required as recommended, I encounter an issue.\nSpecifically, I'm receiving the error 'software.amazon.awssdk.core.exception.SdkClientException: Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain'.\nHow can I resolve this issue and successfully access AWS Secrets Manager with IMDSv2 set to required?\nTried attaching different policies, created some custom ones but the result is same.\njava sdk version used:\n<dependency>\n     <groupId>software.amazon.awssdk</groupId>\n     <artifactId>secretsmanager</artifactId>\n     <version>2.25.7</version>\n</dependency>\n\n",
        "Answer": "I did some more research and was able to figure this out. There have been issues with IMDSv2 network request and what was suggested is to increase the hop limit to '2' on the ec2 instance. As said here in the considerations section as well https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-retrieval.html#imds-considerations\nTo increase the hop limit:\n\"Use the modify-instance-metadata-options CLI command and set the http-put-response-hop-limit parameter to the required number of hops. In the following example, the hop limit is set to 2. Note that when specifying a value for http-put-response-hop-limit, you must also set http-endpoint to enabled\"\nUsing aws cli:\naws ec2 modify-instance-metadata-options \\\n--instance-id <instance-id> \\\n--http-put-response-hop-limit 2 \\\n--http-endpoint enabled\n\n",
        "Source": "https://stackoverflow.com/questions/78183614/access-aws-secrets-manager-with-imdsv2-set-to-required"
    },
    {
        "Title": "Install a private package with credentials from requirements.txt",
        "Question": "I want to a private package via\n%pip install -r /dbfs/requirements.txt\n\nInside this requirements.txt is give:\ngit+https://<user>:$token@<gitprovider>.com/<path/to/repo>\n\nIf i give user and token inside the requirements.txt it works like a charm, but I want to pass user and token via dbutils.secrets. Is this doable without manipulating the requirements.txt before?\nI thought it would be possible to create environment variables, but this did not work for me.\n%env GIT_USERNAME= ...\n%env GIT_TOKEN= ...\n\n",
        "Answer": "The way is using python\n\nGetting information\nStore the information in a temporary file so that its details will not be found in the run log or records after running\nRun\n\nimport dbutils\n\nusername = dbutils.secrets.get(scope=\"your_scope\", key=\"git_username\")\ntoken = dbutils.secrets.get(scope=\"your_scope\", key=\"git_token\")\n\nrepo_url = f\"git+https://{username}:{token}@gitprovider.com/path/to/repo\"\n\nrequirements_path = \"/dbfs/tmp/requirements.txt\"\n\nwith open(requirements_path, \"w\") as file:\n    file.write(repo_url + \"\\n\")\n\ndbutils.notebook.run(\"%pip install -r \" + requirements_path, 60)\n\n",
        "Source": "https://stackoverflow.com/questions/78140635/install-a-private-package-with-credentials-from-requirements-txt"
    },
    {
        "Title": "PayPal bearer resets after x amount of seconds",
        "Question": "I\u2019m using PayPal refund api. The api docs says the bearer token that I am using will reset after x amount of seconds.\nLink to where it says access token resets:\nhttps://developer.paypal.com/reference/get-an-access-token/\nIn my case my token resets after 9 hours. I am using this token to refund purchases which will happen all the time. Is there an alternate solution from Bearer <Access-Token> that doesn\u2019t include a reset token? I haven\u2019t been able to find one other than the Basic <client_id>:<secret> which includes client credentials which doesn\u2019t seem to work. And yes the credentials are correct.\nLink to api:\nhttps://developer.paypal.com/docs/api/payments/v2/#captures_refund\n",
        "Answer": "Basic client_id:secret, where the string client_id:secret is Base64 encoded, is the header value for HTTP Basic Authentication. This is used to obtain an access token from the oauth2 token endpoint.\nAccess tokens expire after 9 hours, beyond which a new one must be obtained. These are required for all PayPal REST API operations, including refunds.\n",
        "Source": "https://stackoverflow.com/questions/78109044/paypal-bearer-resets-after-x-amount-of-seconds"
    },
    {
        "Title": "How to store MySQL credentials in python project, that users not only from my pc will use later?",
        "Question": "I have the following code:\nclass Server:\n    def __init__(self):\n        #server credentials\n        self.ip = \"192.168.1.182\"\n        self.user = \"bank_user\"\n        self.password = \"*mypass*\"\n        self.port = 3307\n        self.database = \"bank\"\n    def connect_to_server(self):\n        try:\n            self.mydb = mysql.connector.connect(\n                host = self.ip,\n                user = self.user,\n                password = self.password,\n                port = self.port,\n                database = self.database\n                )\n            self.mycursor = self.mydb.cursor()\n            print(\"\u2713 Server connection estabilished\")\n            rlist = [True]\n\nThe problem is, I don't want to store it in my code because I feel that it's not safe\nI'm creating a banking app (just for fun) so it will be used as .py->.exe later by users not only from my pc. I shouldn't be stored in a config file or a plaintext file, because if someone gets the credentials he can basically log into the MySQL database and modify all of the data.\nSo no:\n\nEnviromental variables\nPlaintext/ config file\nIt should work on any pc (I'm using pytoexe to convert my python file to exe, so that everyone can run the app)\nI'm new to stackoverflow so forgive me if I wrote sth wrong\n\nI thought about creating a password encryption, but anyone who gets the decryption key can decrypt the password. I also thought about creating my own encryption method, but anyone who gets to my code can just use the decrypting function and execute it for example: decryptor(\"encryptedpassword\")\n",
        "Answer": "Right, anyone who gets your code can extract the MySQL password and connect using any other client. They can do any SQL query according to the privileges you granted that MySQL user.\nEven if you compile using pytoexe, a skilled person could use a debugger or simply the strings tool to extract the password.\nIf you encrypt, they can decrypt. If you try to invent your own encryption algorithm, assume they can decrypt it more easily. I assume you are not an accomplished Ph.D. in applied cryptography, so any novel encryption method you think of will surely be easier to crack than state of the art encryption tools.\nThere are two common methods to solve this problem:\n\nDon't give them the MySQL password. The application you give them has no MySQL connection. The application makes HTTP requests to a web service that you develop. The code in your web service implements specific SQL they can execute. This is where you enforce business rules about what they can access. This is by far the most popular solution.\n\nGive them the MySQL password, but restrict the SQL they can execute. Privileges alone only give you limited control, so you need to create a layer of stored routines and views in the MySQL database. They should be able to access the stored routines and views, but the user cannot access the underlying tables. The routines and views have privileges to do that. Therefore the users can only do what you have allowed them to do in those routines and views.\n\n\nThere could also be a solution using a proxy such as ProxySQL. This would involve writing filters in the proxy so clients would not be allowed to run queries except those you want them to run. The advantage would be that the client application thinks it's connecting to a MySQL Server, but it's really connecting to the proxy. But I think it would be easier to write a web service than to write a whole application's business logic in a proxy.\nI suppose one could also use MySQL's query rewrite plugin to do something similar, but I've never seen anyone do that successfully.\n",
        "Source": "https://stackoverflow.com/questions/78089675/how-to-store-mysql-credentials-in-python-project-that-users-not-only-from-my-pc"
    },
    {
        "Title": "Setup access.ini file permession so it can be read by php script",
        "Question": "I'm really new to this so sorry if this isn't clear.\nI'm trying to hide my database credentials using an access.ini  file.\nI have a AWS instance, with my scripts located in /bitnami/joomla/index (in short I have an html page that display data using a php file that queries a postgresql db). I've tried creating a new directory /bitnami/joomla/config where I placed the access.ini  file. However, my php script can't read it due to permission issues (I guess).\nThe owner/group for the files in /bitnami/joomla/index are bitnami bitnami.\nAnd the owner/group and permissions for the folder /bitnami/joomla/config and its file are :\nbitnami bitnami\ndrwx--x--x\nIs my setup completly wrong, or is the issue easy to solve ?\n",
        "Answer": "Instead of using an access.ini file, consider using environment variables to store sensitive credentials.\nPHP can read environment variables easily.\nAdditional details can be found here.\n",
        "Source": "https://stackoverflow.com/questions/78035277/setup-access-ini-file-permession-so-it-can-be-read-by-php-script"
    },
    {
        "Title": "How to set an &quot;environment&quot; in a non-trivial way using expression?",
        "Question": "I have a GitHub Actions workflow which deploys some things to an environment. The workflow needs to log in to access the environment, so we use GitHub environment secrets to store credentials.\nMy workflow contains this:\non:\n  workflow_dispatch:\n    inputs:\n      deployment_target:\n        type: choice\n        description: Choose an environment to deploy to\n        options:\n          - dev\n          - staging\n          - production\n          - benchmarks\n...\njobs:\n  deploy-to-persistent-environment:\n    environment: ${{ github.event.inputs.deployment_target}}\n    steps: \n      - name: Login # Pseudocode\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy # Pseudocode\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nThe \"benchmarks\" environment uses the same credentials as the \"development\" environment. So I would like to re-use the same GitHub environment secrets rather than have two sets of duplicate environment secrets in GitHub.\nI.e., I would like to do something like this pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ if github.event.inputs.deployment_target == 'benchmarks' then 'development' else github.event.inputs.deployment_target }}\n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nIs there any way to achieve this with GitHub Actions?\n",
        "Answer": "There is a way to do it directly in the expression, according to this reference on the Github Community, by using the syntax ${{ x && 'ifTrue' || 'ifFalse'  }}\nIn that case:\n\nif the condition x is True, the first argument will be used.\nif the condition x is False, the second argument will be used.\n\nIn our case here, it would look like this:\nenvironment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}\n\nWhere:\n\nif github.event.inputs.deployment_target == 'benchmarks' is True, development will be used as environment.\n\nif github.event.inputs.deployment_target == 'benchmarks' is False, github.event.inputs.deployment_target will be used as environment.\n\n\nUpdating the pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}   \n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nEDIT: This is now available on the GitHub official doc as well (Thanks Benjamin W for reporting)\n",
        "Source": "https://stackoverflow.com/questions/77959880/how-to-set-an-environment-in-a-non-trivial-way-using-expression"
    },
    {
        "Title": "How to implement speech recognition with the Google Cloud Speech-to-Text API using Node.js?",
        "Question": "I am new to Google Cloud,\nI recently created a project with Speech-to-Text API.\nAfter creating the project and linking it to a billing account, I accessed the Node.js in-console tutorial for a quick start.\nAfter following all the steps in the in-console tutorial (and dealing with some mistakes in the code in the tutorial itself), and running the code, I got the following error:\nnode:internal/process/promises:289\n            triggerUncaughtException(err, true /* fromPromise */);\n            ^\n\nError: 3 INVALID_ARGUMENT: Invalid resource field value in the request.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Invalid resource field value in the request.',\n  metadata: Metadata {\n    internalRepr: Map(2) {\n      'google.rpc.errorinfo-bin' => [\n        Buffer(127) [Uint8Array] [\n           10,  24,  82,  69,  83,  79,  85,  82,  67,  69,  95,  80,\n           82,  79,  74,  69,  67,  84,  95,  73,  78,  86,  65,  76,\n           73,  68,  18,  14, 103, 111, 111, 103, 108, 101,  97, 112,\n          105, 115,  46,  99, 111, 109,  26,  32,  10,   7, 115, 101,\n          114, 118, 105,  99, 101,  18,  21, 115, 112, 101, 101,  99,\n          104,  46, 103, 111, 111, 103, 108, 101,  97, 112, 105, 115,\n           46,  99, 111, 109,  26,  49,  10,   6, 109, 101, 116, 104,\n          111, 100,  18,  39, 103, 111, 111, 103, 108, 101,  46,  99,\n          108, 111, 117, 100,\n          ... 27 more items\n        ]\n      ],\n      'grpc-status-details-bin' => [\n        Buffer(222) [Uint8Array] [\n            8,   3,  18,  44,  73, 110, 118,  97, 108, 105, 100,  32,\n          114, 101, 115, 111, 117, 114,  99, 101,  32, 102, 105, 101,\n          108, 100,  32, 118,  97, 108, 117, 101,  32, 105, 110,  32,\n          116, 104, 101,  32, 114, 101, 113, 117, 101, 115, 116,  46,\n           26, 171,   1,  10,  40, 116, 121, 112, 101,  46, 103, 111,\n          111, 103, 108, 101,  97, 112, 105, 115,  46,  99, 111, 109,\n           47, 103, 111, 111, 103, 108, 101,  46, 114, 112,  99,  46,\n           69, 114, 114, 111, 114,  73, 110, 102, 111,  18, 127,  10,\n           24,  82,  69,  83,\n          ... 122 more items\n        ]\n      ]\n    },\n    options: {}\n  },\n  note: 'Exception occurred in retry method that was not classified as transient',\n  statusDetails: [\n    ErrorInfo {\n      metadata: {\n        service: 'speech.googleapis.com',\n        method: 'google.cloud.speech.v2.Speech.Recognize'\n      },\n      reason: 'RESOURCE_PROJECT_INVALID',\n      domain: 'googleapis.com'\n    }\n  ],\n  reason: 'RESOURCE_PROJECT_INVALID',\n  domain: 'googleapis.com',\n  errorInfoMetadata: {\n    service: 'speech.googleapis.com',\n    method: 'google.cloud.speech.v2.Speech.Recognize'\n  }\n}\n\nThis is after I seted a project for quota purposes (using gcloud auth application-default set-quota-project $PROJECT_ID in the terminal).\nI also did the same steps through the gcloud CLI (on Windows) and it returned the same error.\nIs there something I forgot to do? Or something in the code is wrong? Maybe it's something to do with the fact that I'm working with version 2 of the API and the code is optimized to work only with version 1 of the API?\nMany thanks in advance!\nThe reusable Node.js code (I made some changes from the original code of the tutorial after encountering errors, and I also changed the way to get the data of the audio file after I couldn't get it from the uri of the bucket, as is customary in GCP):\nconst speech = require('@google-cloud/speech').v2;\nconst https = require('https');\n\nconst client = new speech.SpeechClient();\nconst projectId = '<ProjectId>';\nvar recognizerName;\n\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId: 'en123',\n    recognizer: {\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function getUrlData(url) {\n  return new Promise((resolve) => {\n      https.get(url, response => {\n          var body = '';\n          var i = 0;\n          response.on('data', chunk => {\n              i++;\n              body += chunk;\n          });\n          response.on('end', () => {\n              resolve(Buffer.from(body).toString('base64'));\n          });\n      });\n  });\n}\n\nasync function transcribeFile() {\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nUpdate:\nAfter looking at the (asker's) code in this question, I realized that I got confused in the definition of recognizerName and used only the string of the recognizerId instead of using the full path of the recognizer (projects/${projectId}/locations/global/recognizers/${recognizerId}), so currently my code looks like this:\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\n// ...\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nBut now I get another error:\nError: 3 INVALID_ARGUMENT: Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.',\n  metadata: Metadata { internalRepr: Map(0) {}, options: {} },\n  note: 'Exception occurred in retry method that was not classified as transient'\n}\n\n",
        "Answer": "I managed to solve it!\nThe error Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters occurs when the requested file is in a format without Codec (in this case .raw) and therefore the Speech to Text API does not know how to encode it.\nTo solve this I had to pass an explicitDecodingConfig object when creating the recognizer (within the defaultRecognitionConfig property) or later in the transcriptionRequest (within the config property).\nconst speech = require('@google-cloud/speech').v2;\n\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\n\nconst client = new speech.SpeechClient();\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId,\n    recognizer: {\n      defaultRecognitionConfig: {\n        explicitDecodingConfig: {\n          encoding: 'LINEAR16',\n          sampleRateHertz: 16000,\n          audioChannelCount: 1\n        }\n      },\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  const recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const gcsUri = 'gs://cloud-samples-data/speech/brooklyn_bridge.raw';\n\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    uri: gcsUri,\n    config: {\n      explicitDecodingConfig: {   // If you didn't set explicitDecodingConfig when creating the recognizer, you have to set it here.\n        encoding: 'LINEAR16',\n        sampleRateHertz: 16000,\n        audioChannelCount: 1\n      }\n    },\n  }\n\n  const response = await client.recognize(transcriptionRequest);\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\n(async function main() {\n  await createRecognizer();\n  await transcribeFile();\n})();\n\n",
        "Source": "https://stackoverflow.com/questions/77940391/how-to-implement-speech-recognition-with-the-google-cloud-speech-to-text-api-usi"
    },
    {
        "Title": "Updating AWS credentials",
        "Question": "I need advice on how I can update AWS credentials after they expire.\nI'm creating a bean of AmazonSimpleEmailService this way:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new AWSStaticCredentialsProvider(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                        .getCredentials())\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\nBut when I'm trying to use it I'm getting an error:\nThe security token included in the request is expired (Service: AmazonSimpleEmailService; Status Code: 403; Error Code: ExpiredToken\nIf I create an instance of the SES client right before each mail sending - it works correctly, but it looks like a bad practice to create a new instance before each use.\nI understand that the issue with the credentials that I'm getting via STSAssumeRoleSessionCredentialsProvider - they just have an expiration time.\nI am wondering if there should be a way to automatically update the credentials when they are going to expire, so I'd really appreciate any advice on how to do it.\n",
        "Answer": "STSAssumeRoleSessionCredentialsProvider will auto-refresh the credentials, but you are blocking that functionality by getting a single set of credentials and passing them into a AWSStaticCredentialsProvider instance.\nThis should allow you to use the auto-refresh of the STS Provider:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\n",
        "Source": "https://stackoverflow.com/questions/77921630/updating-aws-credentials"
    },
    {
        "Title": "Reading credentials from another file doesn&#39;t work in Python",
        "Question": "I created a Python file called pw.py where I store my username and password.\nThe content of pw.py is as follows:\nusername = \"username1\"\npassword = \"pswrd2\"\n\nTo access these credentials from another file called ProducerReddit.ipynb, I do the following:\nfrom pw import password, username\n\nHowever, when I try to print password and username, they are always empty.\nThe two files are inside the same folder.\nWhat I am doing wrong?\n",
        "Answer": "I recommend you to check do you have a __init__.py file in the your top folder.\nIf you don't have please create this __init__.py module.\nThen try to use absolute import path.\nFor example you have top directorty with this structure:\ntop_directory:\n              __init__.py\n              pw.py\n              other_file.py\n\nyour import instructions in the other_file.py shoud be like this:\nfrom top_directory.pw import username, password\n\nI hope this may help you\n",
        "Source": "https://stackoverflow.com/questions/77786371/reading-credentials-from-another-file-doesnt-work-in-python"
    },
    {
        "Title": "Apache HTTP Client 5.3 ~ NTCredentials no longer working",
        "Question": "I have a project that uses org.apache.httpcomponents.client5:httpclient5. I recently tried upgrading from version 5.2.3 to version 5.3, only to realize that the authentication was no longer working in the new version.\nHere is how the relevant code looks:\n        BasicCredentialsProvider credentialsProvider =\n            new BasicCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(credentialsProvider)\n            .build();\n[...]\n            final HttpGet httpget = new HttpGet(targetUrl);\n\n            CloseableHttpResponse response = httpclient.execute(httpget);\n\n\nBefore the update from 5.2.3 to 5.3 this worked fine. However, when I use 5.3, I now get a 401 UNAUTHORIZED response.\nI also tried the following variations to above code to pass the credentials along, but they all also return only 401 UNAUTHORIZED:\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(CredentialsProviderBuilder.create()\n                .add(new HttpHost(host, port), username, password.toCharArray())\n                .build())\n            .build();\n\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new UsernamePasswordCredentials(username, password.toCharArray())\n        );\n\n        SystemDefaultCredentialsProvider credentialsProvider =\n            new SystemDefaultCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n\nNow I am stumped. Could this be a bug in 5.3? Or did something change to the way that the NTCredentialsProvider works? I could not find any release notes indicating so, and since this is only a minor version update that would surprise me.\nNonetheless, the fact it that it works with the old version but not with the new one. Does anyone has any suggestions as to what I can do about that?\n",
        "Answer": "We now managed to solve it by providing the httpclient with a default auth scheme registry like this:\n        Lookup<AuthSchemeFactory> authSchemeRegistry = RegistryBuilder.<AuthSchemeFactory>create()\n                .register(StandardAuthScheme.NTLM, new NTLMSchemeFactory()).build();\n\n        httpclient = HttpClients.custom()\n                .setDefaultCredentialsProvider(credentialsProvider)\n                .setDefaultRequestConfig(config)\n                .setDefaultAuthSchemeRegistry(authSchemeRegistry)\n                .build();\n\n",
        "Source": "https://stackoverflow.com/questions/77784888/apache-http-client-5-3-ntcredentials-no-longer-working"
    },
    {
        "Title": "Error on Google Sign In CredentialManager, using Jetpack Compose",
        "Question": "I am trying to create a Sign In with Google Button but everytime credentialManager.getCredential is called, it gives me :\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nI tried resetting the SHA-1 Fingerprint, I've created both web application and android in the google cloud credential, I've used both the web app client id and android client id. I'm lost, please help\n\nobject DeveloperScreen{\n\n    const val GOOGLE_WEB_CLIENT_ID = \"xxxxxxxxxh5n94bxxxxxxxxxxx1.apps.googleusercontent.com\"\n//    const val GOOGLE_WEB_CLIENT_SECRET = \"GxxxxxxxxCinwYDR8KQi3-wD9ugT311\"\n//    const val GOOGLE_ANDROID_CLIENT_ID = \"3xxxxxxx80-7ja1n9nknxxxxxxxxxxxxxxxxxxxens33k.apps.googleusercontent.com\"\n\n\n    private suspend fun googleSignIn(context : Context) {\n\n\n        val credentialManager = androidx.credentials.CredentialManager.create(context)\n\n        val googleIdOption: GetGoogleIdOption = GetGoogleIdOption.Builder()\n            .setFilterByAuthorizedAccounts(false)\n            .setServerClientId(GOOGLE_WEB_CLIENT_ID)\n            .build()\n\n        Log.i(\"auth-google-googleIdOption\", googleIdOption.toString())\n\n        val request: GetCredentialRequest = GetCredentialRequest.Builder()\n            .addCredentialOption(googleIdOption)\n            .build()\n\n        Log.i(\"auth-google-credentialRequest\", request.toString())\n\n\n        val result = credentialManager.getCredential(\n            request = request,\n            context = context,\n        )\n\n        Log.i(\"auth-google-result\", result.toString())\n\n\n\n\n\n    }\n\n\n\n    @Composable\n    public fun DeveloperScreen1(navController : NavHostController, context : Context){\n\n        var phoneNumber by rememberSaveable { mutableStateOf(\"\") }\n        var email by rememberSaveable { mutableStateOf(\"\")}\n        var otpCode by rememberSaveable { mutableStateOf(\"\") }\n\n        var useEmail by rememberSaveable { mutableStateOf(false)}\n\n        var message by rememberSaveable { mutableStateOf(\"\")}\n\n        val coroutineScope = rememberCoroutineScope()\n\n        Column {\n\n\n            var user : User? = getCurrentUser()\n\n            Text(\n                textAlign = TextAlign.Center,\n                fontSize = 5.em,\n                text = \"DEV SCREEN\",\n                modifier = Modifier\n                    .fillMaxWidth()\n                    .padding(top = 10.dp)\n\n            )\n\n            Text(\n                text = message,\n                color = Color.Black\n            )\n\n            Button(\n                onClick = {\n\n                    coroutineScope.launch {\n\n                        googleSignIn(context)\n\n                    }\n...\n\n\n\n\nvar screenHeight = 0.dp\nvar screenWidth = 0.dp\n\nvar authViewModel = AuthViewModel()\n\n\n\nclass MainActivity : ComponentActivity() {\n\n\n\n    @RequiresApi(Q)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n\n        Log.d(\"Initialize\", \"App Started\")\n\n        setContent {\n\n\n            var context: Context = LocalContext.current\n\n            Box(\n                Modifier\n                    .background(color = Color(0xFFBDC6CA))\n                    .safeDrawingPadding()\n            ) {\n                MetroFCTheme {\n                    MainContent(context)\n\n\n\n                }\n            }\n        }\n\n        actionBar?.hide()\n        WindowCompat.setDecorFitsSystemWindows(window, false)\n        if (Build.VERSION.SDK_INT < Build.VERSION_CODES.R) {\n            window.addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)\n        } else {\n            window.insetsController?.apply {\n//                hide(WindowInsetsAndroid.Type.statusBars())\n                systemBarsBehavior = WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\n            }\n        }\n\n    }\n\n\n}\n\n\n\n@RequiresApi(Q)\n@Composable\nfun MainContent(\n    context : Context\n){\n\n    var user by remember{ mutableStateOf<User?>(null) }\n\n    LaunchedEffect(key1 = user) {\n\n        refreshMenu()\n\n    }\n\n\n    LaunchedEffect(key1 = \"login\") {\n\n        user = loginAnonymously()\n        Log.d(\"DB-User\", \"USER LOGIN SUCCESSFUL : $user\")\n\n    }\n\n\n    Log.d(\"DB\", \"2.\" + user.toString())\n\n\n\n\n    Log.d(\"Initialize\",\"Database Connected\")\n\n    val configuration = LocalConfiguration.current\n    screenHeight = configuration.screenHeightDp.dp\n    screenWidth = configuration.screenWidthDp.dp\n\n    var onDashboard by remember {mutableStateOf(true)}\n    var onMenu = false\n    val updateStates = { dashboard: Boolean, menu: Boolean ->\n        onDashboard = dashboard\n        onMenu = menu\n    }\n\n    val navController = rememberNavController()\n\n\n    Scaffold(\n\n        bottomBar = {\n            if(authViewModel.isLoggedIn) NavigationBar(navController = navController, onDashboard, onMenu, updateStates)\n\n                    },\n        containerColor = MaterialTheme.colorScheme.background,\n        contentWindowInsets = WindowInsets(0.dp),\n        modifier = Modifier.fillMaxSize()\n\n    ) {\n    innerPadding ->\n\n        val scrollState = rememberScrollState()\n\n        val padding = innerPadding\n\n        NavHost(\n            navController = navController,\n            startDestination = if (authViewModel.isLoggedIn) Route.DEV_SCREEN else Route.DEV_SCREEN,\n            modifier = Modifier\n//                .verticalScroll(state = scrollState)\n                .fillMaxSize()\n        ) {\n\n            composable(route = Route.DEV_SCREEN){\n                DeveloperScreen1(navController, context)\n            }\n\n            composable(route = Route.DASHBOARD_SCREEN) {\n\n                authViewModel.login(user)\n                DashboardScreen()\n            }\n\n            composable(route = Route.MENU_SCREEN) {\n                authViewModel.login(user)\n                MenuScreen(user)\n            }\n        }\n    }\n}\n\nProcess: com.metrofriedchicken.metrofc, PID: 20630\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nat androidx.credentials.playservices.controllers.CredentialProviderBaseController$Companion.getCredentialExceptionTypeToException$credentials_play_services_auth_release(CredentialProviderBaseController.kt:110)\nat androidx.credentials.playservices.controllers.BeginSignIn.CredentialProviderBeginSignInController$resultReceiver$1$onReceiveResult$1.invoke(CredentialProviderBeginSignInController.kt:93)\nI've tried :\n\nDeleting Keystore and make a new one ( debug and release )\nUsed the web app client id and android client id\nChange device\nwaited a day\n\n",
        "Answer": "I am assuming you are currently integrating the Credential Manager in debug mode and testing your integration in an app directly installed from Android Studio to  your test device.\nIn this case you will need to configure the SHA1 key currently being used to sign your app, which is Android Studio's debug keystore.\nIn this case, you can get the SHA1 by running below command in Android Studio's terminal:\n./gradlew signingreport\n\nCopy the correct SHA1 fingerprint of correct Variant and Config from the terminal console and configure the same in cloud console for your app's Android OAuth2 client.\nIn order to keep the steps cleaner, I am mentioning them as below:\n\nCreate one Android OAuth2 client in cloud api console with you app's package name.\nUse the debug SHA1 key in this Android OAuth2 client creation as I mentioned above (in order to recognized this as debug client you can append the client name with debug as \"your-app-debug\")\nCreate one Web OAuth2 client in cloud api console. This will act as the server for your app\nCopy the ClientID of this Web client and use in setServerClientId(ServerClientID) in your integration.\n\nWith these simple steps alone, your integration should work fine.\nOptionally, as the next step,\n\nYou can create another Android OAuth2 client with release key's SHA1 fingerprint for production, and for recognizing this client, can give it a name \"Your-app-release\"\n\n",
        "Source": "https://stackoverflow.com/questions/78247578/error-on-google-sign-in-credentialmanager-using-jetpack-compose"
    },
    {
        "Title": "Access AWS Secrets Manager with IMDSv2 set to required",
        "Question": "I'm working on a Java application running on an EC2 instance in AWS. My goal is to access AWS Secrets Manager using an AWS SDK for Java and an IAM role attached to the EC2 instance.\nEverything works smoothly when IMDSv2 (Instance Metadata Service version 2) is optional. However, when it's set to required as recommended, I encounter an issue.\nSpecifically, I'm receiving the error 'software.amazon.awssdk.core.exception.SdkClientException: Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain'.\nHow can I resolve this issue and successfully access AWS Secrets Manager with IMDSv2 set to required?\nTried attaching different policies, created some custom ones but the result is same.\njava sdk version used:\n<dependency>\n     <groupId>software.amazon.awssdk</groupId>\n     <artifactId>secretsmanager</artifactId>\n     <version>2.25.7</version>\n</dependency>\n\n",
        "Answer": "I did some more research and was able to figure this out. There have been issues with IMDSv2 network request and what was suggested is to increase the hop limit to '2' on the ec2 instance. As said here in the considerations section as well https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-retrieval.html#imds-considerations\nTo increase the hop limit:\n\"Use the modify-instance-metadata-options CLI command and set the http-put-response-hop-limit parameter to the required number of hops. In the following example, the hop limit is set to 2. Note that when specifying a value for http-put-response-hop-limit, you must also set http-endpoint to enabled\"\nUsing aws cli:\naws ec2 modify-instance-metadata-options \\\n--instance-id <instance-id> \\\n--http-put-response-hop-limit 2 \\\n--http-endpoint enabled\n\n",
        "Source": "https://stackoverflow.com/questions/78183614/access-aws-secrets-manager-with-imdsv2-set-to-required"
    },
    {
        "Title": "Install a private package with credentials from requirements.txt",
        "Question": "I want to a private package via\n%pip install -r /dbfs/requirements.txt\n\nInside this requirements.txt is give:\ngit+https://<user>:$token@<gitprovider>.com/<path/to/repo>\n\nIf i give user and token inside the requirements.txt it works like a charm, but I want to pass user and token via dbutils.secrets. Is this doable without manipulating the requirements.txt before?\nI thought it would be possible to create environment variables, but this did not work for me.\n%env GIT_USERNAME= ...\n%env GIT_TOKEN= ...\n\n",
        "Answer": "The way is using python\n\nGetting information\nStore the information in a temporary file so that its details will not be found in the run log or records after running\nRun\n\nimport dbutils\n\nusername = dbutils.secrets.get(scope=\"your_scope\", key=\"git_username\")\ntoken = dbutils.secrets.get(scope=\"your_scope\", key=\"git_token\")\n\nrepo_url = f\"git+https://{username}:{token}@gitprovider.com/path/to/repo\"\n\nrequirements_path = \"/dbfs/tmp/requirements.txt\"\n\nwith open(requirements_path, \"w\") as file:\n    file.write(repo_url + \"\\n\")\n\ndbutils.notebook.run(\"%pip install -r \" + requirements_path, 60)\n\n",
        "Source": "https://stackoverflow.com/questions/78140635/install-a-private-package-with-credentials-from-requirements-txt"
    },
    {
        "Title": "PayPal bearer resets after x amount of seconds",
        "Question": "I\u2019m using PayPal refund api. The api docs says the bearer token that I am using will reset after x amount of seconds.\nLink to where it says access token resets:\nhttps://developer.paypal.com/reference/get-an-access-token/\nIn my case my token resets after 9 hours. I am using this token to refund purchases which will happen all the time. Is there an alternate solution from Bearer <Access-Token> that doesn\u2019t include a reset token? I haven\u2019t been able to find one other than the Basic <client_id>:<secret> which includes client credentials which doesn\u2019t seem to work. And yes the credentials are correct.\nLink to api:\nhttps://developer.paypal.com/docs/api/payments/v2/#captures_refund\n",
        "Answer": "Basic client_id:secret, where the string client_id:secret is Base64 encoded, is the header value for HTTP Basic Authentication. This is used to obtain an access token from the oauth2 token endpoint.\nAccess tokens expire after 9 hours, beyond which a new one must be obtained. These are required for all PayPal REST API operations, including refunds.\n",
        "Source": "https://stackoverflow.com/questions/78109044/paypal-bearer-resets-after-x-amount-of-seconds"
    },
    {
        "Title": "How to store MySQL credentials in python project, that users not only from my pc will use later?",
        "Question": "I have the following code:\nclass Server:\n    def __init__(self):\n        #server credentials\n        self.ip = \"192.168.1.182\"\n        self.user = \"bank_user\"\n        self.password = \"*mypass*\"\n        self.port = 3307\n        self.database = \"bank\"\n    def connect_to_server(self):\n        try:\n            self.mydb = mysql.connector.connect(\n                host = self.ip,\n                user = self.user,\n                password = self.password,\n                port = self.port,\n                database = self.database\n                )\n            self.mycursor = self.mydb.cursor()\n            print(\"\u2713 Server connection estabilished\")\n            rlist = [True]\n\nThe problem is, I don't want to store it in my code because I feel that it's not safe\nI'm creating a banking app (just for fun) so it will be used as .py->.exe later by users not only from my pc. I shouldn't be stored in a config file or a plaintext file, because if someone gets the credentials he can basically log into the MySQL database and modify all of the data.\nSo no:\n\nEnviromental variables\nPlaintext/ config file\nIt should work on any pc (I'm using pytoexe to convert my python file to exe, so that everyone can run the app)\nI'm new to stackoverflow so forgive me if I wrote sth wrong\n\nI thought about creating a password encryption, but anyone who gets the decryption key can decrypt the password. I also thought about creating my own encryption method, but anyone who gets to my code can just use the decrypting function and execute it for example: decryptor(\"encryptedpassword\")\n",
        "Answer": "Right, anyone who gets your code can extract the MySQL password and connect using any other client. They can do any SQL query according to the privileges you granted that MySQL user.\nEven if you compile using pytoexe, a skilled person could use a debugger or simply the strings tool to extract the password.\nIf you encrypt, they can decrypt. If you try to invent your own encryption algorithm, assume they can decrypt it more easily. I assume you are not an accomplished Ph.D. in applied cryptography, so any novel encryption method you think of will surely be easier to crack than state of the art encryption tools.\nThere are two common methods to solve this problem:\n\nDon't give them the MySQL password. The application you give them has no MySQL connection. The application makes HTTP requests to a web service that you develop. The code in your web service implements specific SQL they can execute. This is where you enforce business rules about what they can access. This is by far the most popular solution.\n\nGive them the MySQL password, but restrict the SQL they can execute. Privileges alone only give you limited control, so you need to create a layer of stored routines and views in the MySQL database. They should be able to access the stored routines and views, but the user cannot access the underlying tables. The routines and views have privileges to do that. Therefore the users can only do what you have allowed them to do in those routines and views.\n\n\nThere could also be a solution using a proxy such as ProxySQL. This would involve writing filters in the proxy so clients would not be allowed to run queries except those you want them to run. The advantage would be that the client application thinks it's connecting to a MySQL Server, but it's really connecting to the proxy. But I think it would be easier to write a web service than to write a whole application's business logic in a proxy.\nI suppose one could also use MySQL's query rewrite plugin to do something similar, but I've never seen anyone do that successfully.\n",
        "Source": "https://stackoverflow.com/questions/78089675/how-to-store-mysql-credentials-in-python-project-that-users-not-only-from-my-pc"
    },
    {
        "Title": "Setup access.ini file permession so it can be read by php script",
        "Question": "I'm really new to this so sorry if this isn't clear.\nI'm trying to hide my database credentials using an access.ini  file.\nI have a AWS instance, with my scripts located in /bitnami/joomla/index (in short I have an html page that display data using a php file that queries a postgresql db). I've tried creating a new directory /bitnami/joomla/config where I placed the access.ini  file. However, my php script can't read it due to permission issues (I guess).\nThe owner/group for the files in /bitnami/joomla/index are bitnami bitnami.\nAnd the owner/group and permissions for the folder /bitnami/joomla/config and its file are :\nbitnami bitnami\ndrwx--x--x\nIs my setup completly wrong, or is the issue easy to solve ?\n",
        "Answer": "Instead of using an access.ini file, consider using environment variables to store sensitive credentials.\nPHP can read environment variables easily.\nAdditional details can be found here.\n",
        "Source": "https://stackoverflow.com/questions/78035277/setup-access-ini-file-permession-so-it-can-be-read-by-php-script"
    },
    {
        "Title": "How to set an &quot;environment&quot; in a non-trivial way using expression?",
        "Question": "I have a GitHub Actions workflow which deploys some things to an environment. The workflow needs to log in to access the environment, so we use GitHub environment secrets to store credentials.\nMy workflow contains this:\non:\n  workflow_dispatch:\n    inputs:\n      deployment_target:\n        type: choice\n        description: Choose an environment to deploy to\n        options:\n          - dev\n          - staging\n          - production\n          - benchmarks\n...\njobs:\n  deploy-to-persistent-environment:\n    environment: ${{ github.event.inputs.deployment_target}}\n    steps: \n      - name: Login # Pseudocode\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy # Pseudocode\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nThe \"benchmarks\" environment uses the same credentials as the \"development\" environment. So I would like to re-use the same GitHub environment secrets rather than have two sets of duplicate environment secrets in GitHub.\nI.e., I would like to do something like this pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ if github.event.inputs.deployment_target == 'benchmarks' then 'development' else github.event.inputs.deployment_target }}\n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nIs there any way to achieve this with GitHub Actions?\n",
        "Answer": "There is a way to do it directly in the expression, according to this reference on the Github Community, by using the syntax ${{ x && 'ifTrue' || 'ifFalse'  }}\nIn that case:\n\nif the condition x is True, the first argument will be used.\nif the condition x is False, the second argument will be used.\n\nIn our case here, it would look like this:\nenvironment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}\n\nWhere:\n\nif github.event.inputs.deployment_target == 'benchmarks' is True, development will be used as environment.\n\nif github.event.inputs.deployment_target == 'benchmarks' is False, github.event.inputs.deployment_target will be used as environment.\n\n\nUpdating the pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}   \n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nEDIT: This is now available on the GitHub official doc as well (Thanks Benjamin W for reporting)\n",
        "Source": "https://stackoverflow.com/questions/77959880/how-to-set-an-environment-in-a-non-trivial-way-using-expression"
    },
    {
        "Title": "How to implement speech recognition with the Google Cloud Speech-to-Text API using Node.js?",
        "Question": "I am new to Google Cloud,\nI recently created a project with Speech-to-Text API.\nAfter creating the project and linking it to a billing account, I accessed the Node.js in-console tutorial for a quick start.\nAfter following all the steps in the in-console tutorial (and dealing with some mistakes in the code in the tutorial itself), and running the code, I got the following error:\nnode:internal/process/promises:289\n            triggerUncaughtException(err, true /* fromPromise */);\n            ^\n\nError: 3 INVALID_ARGUMENT: Invalid resource field value in the request.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Invalid resource field value in the request.',\n  metadata: Metadata {\n    internalRepr: Map(2) {\n      'google.rpc.errorinfo-bin' => [\n        Buffer(127) [Uint8Array] [\n           10,  24,  82,  69,  83,  79,  85,  82,  67,  69,  95,  80,\n           82,  79,  74,  69,  67,  84,  95,  73,  78,  86,  65,  76,\n           73,  68,  18,  14, 103, 111, 111, 103, 108, 101,  97, 112,\n          105, 115,  46,  99, 111, 109,  26,  32,  10,   7, 115, 101,\n          114, 118, 105,  99, 101,  18,  21, 115, 112, 101, 101,  99,\n          104,  46, 103, 111, 111, 103, 108, 101,  97, 112, 105, 115,\n           46,  99, 111, 109,  26,  49,  10,   6, 109, 101, 116, 104,\n          111, 100,  18,  39, 103, 111, 111, 103, 108, 101,  46,  99,\n          108, 111, 117, 100,\n          ... 27 more items\n        ]\n      ],\n      'grpc-status-details-bin' => [\n        Buffer(222) [Uint8Array] [\n            8,   3,  18,  44,  73, 110, 118,  97, 108, 105, 100,  32,\n          114, 101, 115, 111, 117, 114,  99, 101,  32, 102, 105, 101,\n          108, 100,  32, 118,  97, 108, 117, 101,  32, 105, 110,  32,\n          116, 104, 101,  32, 114, 101, 113, 117, 101, 115, 116,  46,\n           26, 171,   1,  10,  40, 116, 121, 112, 101,  46, 103, 111,\n          111, 103, 108, 101,  97, 112, 105, 115,  46,  99, 111, 109,\n           47, 103, 111, 111, 103, 108, 101,  46, 114, 112,  99,  46,\n           69, 114, 114, 111, 114,  73, 110, 102, 111,  18, 127,  10,\n           24,  82,  69,  83,\n          ... 122 more items\n        ]\n      ]\n    },\n    options: {}\n  },\n  note: 'Exception occurred in retry method that was not classified as transient',\n  statusDetails: [\n    ErrorInfo {\n      metadata: {\n        service: 'speech.googleapis.com',\n        method: 'google.cloud.speech.v2.Speech.Recognize'\n      },\n      reason: 'RESOURCE_PROJECT_INVALID',\n      domain: 'googleapis.com'\n    }\n  ],\n  reason: 'RESOURCE_PROJECT_INVALID',\n  domain: 'googleapis.com',\n  errorInfoMetadata: {\n    service: 'speech.googleapis.com',\n    method: 'google.cloud.speech.v2.Speech.Recognize'\n  }\n}\n\nThis is after I seted a project for quota purposes (using gcloud auth application-default set-quota-project $PROJECT_ID in the terminal).\nI also did the same steps through the gcloud CLI (on Windows) and it returned the same error.\nIs there something I forgot to do? Or something in the code is wrong? Maybe it's something to do with the fact that I'm working with version 2 of the API and the code is optimized to work only with version 1 of the API?\nMany thanks in advance!\nThe reusable Node.js code (I made some changes from the original code of the tutorial after encountering errors, and I also changed the way to get the data of the audio file after I couldn't get it from the uri of the bucket, as is customary in GCP):\nconst speech = require('@google-cloud/speech').v2;\nconst https = require('https');\n\nconst client = new speech.SpeechClient();\nconst projectId = '<ProjectId>';\nvar recognizerName;\n\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId: 'en123',\n    recognizer: {\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function getUrlData(url) {\n  return new Promise((resolve) => {\n      https.get(url, response => {\n          var body = '';\n          var i = 0;\n          response.on('data', chunk => {\n              i++;\n              body += chunk;\n          });\n          response.on('end', () => {\n              resolve(Buffer.from(body).toString('base64'));\n          });\n      });\n  });\n}\n\nasync function transcribeFile() {\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nUpdate:\nAfter looking at the (asker's) code in this question, I realized that I got confused in the definition of recognizerName and used only the string of the recognizerId instead of using the full path of the recognizer (projects/${projectId}/locations/global/recognizers/${recognizerId}), so currently my code looks like this:\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\n// ...\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nBut now I get another error:\nError: 3 INVALID_ARGUMENT: Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.',\n  metadata: Metadata { internalRepr: Map(0) {}, options: {} },\n  note: 'Exception occurred in retry method that was not classified as transient'\n}\n\n",
        "Answer": "I managed to solve it!\nThe error Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters occurs when the requested file is in a format without Codec (in this case .raw) and therefore the Speech to Text API does not know how to encode it.\nTo solve this I had to pass an explicitDecodingConfig object when creating the recognizer (within the defaultRecognitionConfig property) or later in the transcriptionRequest (within the config property).\nconst speech = require('@google-cloud/speech').v2;\n\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\n\nconst client = new speech.SpeechClient();\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId,\n    recognizer: {\n      defaultRecognitionConfig: {\n        explicitDecodingConfig: {\n          encoding: 'LINEAR16',\n          sampleRateHertz: 16000,\n          audioChannelCount: 1\n        }\n      },\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  const recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const gcsUri = 'gs://cloud-samples-data/speech/brooklyn_bridge.raw';\n\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    uri: gcsUri,\n    config: {\n      explicitDecodingConfig: {   // If you didn't set explicitDecodingConfig when creating the recognizer, you have to set it here.\n        encoding: 'LINEAR16',\n        sampleRateHertz: 16000,\n        audioChannelCount: 1\n      }\n    },\n  }\n\n  const response = await client.recognize(transcriptionRequest);\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\n(async function main() {\n  await createRecognizer();\n  await transcribeFile();\n})();\n\n",
        "Source": "https://stackoverflow.com/questions/77940391/how-to-implement-speech-recognition-with-the-google-cloud-speech-to-text-api-usi"
    },
    {
        "Title": "Updating AWS credentials",
        "Question": "I need advice on how I can update AWS credentials after they expire.\nI'm creating a bean of AmazonSimpleEmailService this way:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new AWSStaticCredentialsProvider(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                        .getCredentials())\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\nBut when I'm trying to use it I'm getting an error:\nThe security token included in the request is expired (Service: AmazonSimpleEmailService; Status Code: 403; Error Code: ExpiredToken\nIf I create an instance of the SES client right before each mail sending - it works correctly, but it looks like a bad practice to create a new instance before each use.\nI understand that the issue with the credentials that I'm getting via STSAssumeRoleSessionCredentialsProvider - they just have an expiration time.\nI am wondering if there should be a way to automatically update the credentials when they are going to expire, so I'd really appreciate any advice on how to do it.\n",
        "Answer": "STSAssumeRoleSessionCredentialsProvider will auto-refresh the credentials, but you are blocking that functionality by getting a single set of credentials and passing them into a AWSStaticCredentialsProvider instance.\nThis should allow you to use the auto-refresh of the STS Provider:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\n",
        "Source": "https://stackoverflow.com/questions/77921630/updating-aws-credentials"
    },
    {
        "Title": "Reading credentials from another file doesn&#39;t work in Python",
        "Question": "I created a Python file called pw.py where I store my username and password.\nThe content of pw.py is as follows:\nusername = \"username1\"\npassword = \"pswrd2\"\n\nTo access these credentials from another file called ProducerReddit.ipynb, I do the following:\nfrom pw import password, username\n\nHowever, when I try to print password and username, they are always empty.\nThe two files are inside the same folder.\nWhat I am doing wrong?\n",
        "Answer": "I recommend you to check do you have a __init__.py file in the your top folder.\nIf you don't have please create this __init__.py module.\nThen try to use absolute import path.\nFor example you have top directorty with this structure:\ntop_directory:\n              __init__.py\n              pw.py\n              other_file.py\n\nyour import instructions in the other_file.py shoud be like this:\nfrom top_directory.pw import username, password\n\nI hope this may help you\n",
        "Source": "https://stackoverflow.com/questions/77786371/reading-credentials-from-another-file-doesnt-work-in-python"
    },
    {
        "Title": "Apache HTTP Client 5.3 ~ NTCredentials no longer working",
        "Question": "I have a project that uses org.apache.httpcomponents.client5:httpclient5. I recently tried upgrading from version 5.2.3 to version 5.3, only to realize that the authentication was no longer working in the new version.\nHere is how the relevant code looks:\n        BasicCredentialsProvider credentialsProvider =\n            new BasicCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(credentialsProvider)\n            .build();\n[...]\n            final HttpGet httpget = new HttpGet(targetUrl);\n\n            CloseableHttpResponse response = httpclient.execute(httpget);\n\n\nBefore the update from 5.2.3 to 5.3 this worked fine. However, when I use 5.3, I now get a 401 UNAUTHORIZED response.\nI also tried the following variations to above code to pass the credentials along, but they all also return only 401 UNAUTHORIZED:\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(CredentialsProviderBuilder.create()\n                .add(new HttpHost(host, port), username, password.toCharArray())\n                .build())\n            .build();\n\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new UsernamePasswordCredentials(username, password.toCharArray())\n        );\n\n        SystemDefaultCredentialsProvider credentialsProvider =\n            new SystemDefaultCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n\nNow I am stumped. Could this be a bug in 5.3? Or did something change to the way that the NTCredentialsProvider works? I could not find any release notes indicating so, and since this is only a minor version update that would surprise me.\nNonetheless, the fact it that it works with the old version but not with the new one. Does anyone has any suggestions as to what I can do about that?\n",
        "Answer": "We now managed to solve it by providing the httpclient with a default auth scheme registry like this:\n        Lookup<AuthSchemeFactory> authSchemeRegistry = RegistryBuilder.<AuthSchemeFactory>create()\n                .register(StandardAuthScheme.NTLM, new NTLMSchemeFactory()).build();\n\n        httpclient = HttpClients.custom()\n                .setDefaultCredentialsProvider(credentialsProvider)\n                .setDefaultRequestConfig(config)\n                .setDefaultAuthSchemeRegistry(authSchemeRegistry)\n                .build();\n\n",
        "Source": "https://stackoverflow.com/questions/77784888/apache-http-client-5-3-ntcredentials-no-longer-working"
    },
    {
        "Title": "Error on Google Sign In CredentialManager, using Jetpack Compose",
        "Question": "I am trying to create a Sign In with Google Button but everytime credentialManager.getCredential is called, it gives me :\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nI tried resetting the SHA-1 Fingerprint, I've created both web application and android in the google cloud credential, I've used both the web app client id and android client id. I'm lost, please help\n\nobject DeveloperScreen{\n\n    const val GOOGLE_WEB_CLIENT_ID = \"xxxxxxxxxh5n94bxxxxxxxxxxx1.apps.googleusercontent.com\"\n//    const val GOOGLE_WEB_CLIENT_SECRET = \"GxxxxxxxxCinwYDR8KQi3-wD9ugT311\"\n//    const val GOOGLE_ANDROID_CLIENT_ID = \"3xxxxxxx80-7ja1n9nknxxxxxxxxxxxxxxxxxxxens33k.apps.googleusercontent.com\"\n\n\n    private suspend fun googleSignIn(context : Context) {\n\n\n        val credentialManager = androidx.credentials.CredentialManager.create(context)\n\n        val googleIdOption: GetGoogleIdOption = GetGoogleIdOption.Builder()\n            .setFilterByAuthorizedAccounts(false)\n            .setServerClientId(GOOGLE_WEB_CLIENT_ID)\n            .build()\n\n        Log.i(\"auth-google-googleIdOption\", googleIdOption.toString())\n\n        val request: GetCredentialRequest = GetCredentialRequest.Builder()\n            .addCredentialOption(googleIdOption)\n            .build()\n\n        Log.i(\"auth-google-credentialRequest\", request.toString())\n\n\n        val result = credentialManager.getCredential(\n            request = request,\n            context = context,\n        )\n\n        Log.i(\"auth-google-result\", result.toString())\n\n\n\n\n\n    }\n\n\n\n    @Composable\n    public fun DeveloperScreen1(navController : NavHostController, context : Context){\n\n        var phoneNumber by rememberSaveable { mutableStateOf(\"\") }\n        var email by rememberSaveable { mutableStateOf(\"\")}\n        var otpCode by rememberSaveable { mutableStateOf(\"\") }\n\n        var useEmail by rememberSaveable { mutableStateOf(false)}\n\n        var message by rememberSaveable { mutableStateOf(\"\")}\n\n        val coroutineScope = rememberCoroutineScope()\n\n        Column {\n\n\n            var user : User? = getCurrentUser()\n\n            Text(\n                textAlign = TextAlign.Center,\n                fontSize = 5.em,\n                text = \"DEV SCREEN\",\n                modifier = Modifier\n                    .fillMaxWidth()\n                    .padding(top = 10.dp)\n\n            )\n\n            Text(\n                text = message,\n                color = Color.Black\n            )\n\n            Button(\n                onClick = {\n\n                    coroutineScope.launch {\n\n                        googleSignIn(context)\n\n                    }\n...\n\n\n\n\nvar screenHeight = 0.dp\nvar screenWidth = 0.dp\n\nvar authViewModel = AuthViewModel()\n\n\n\nclass MainActivity : ComponentActivity() {\n\n\n\n    @RequiresApi(Q)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n\n        Log.d(\"Initialize\", \"App Started\")\n\n        setContent {\n\n\n            var context: Context = LocalContext.current\n\n            Box(\n                Modifier\n                    .background(color = Color(0xFFBDC6CA))\n                    .safeDrawingPadding()\n            ) {\n                MetroFCTheme {\n                    MainContent(context)\n\n\n\n                }\n            }\n        }\n\n        actionBar?.hide()\n        WindowCompat.setDecorFitsSystemWindows(window, false)\n        if (Build.VERSION.SDK_INT < Build.VERSION_CODES.R) {\n            window.addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)\n        } else {\n            window.insetsController?.apply {\n//                hide(WindowInsetsAndroid.Type.statusBars())\n                systemBarsBehavior = WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\n            }\n        }\n\n    }\n\n\n}\n\n\n\n@RequiresApi(Q)\n@Composable\nfun MainContent(\n    context : Context\n){\n\n    var user by remember{ mutableStateOf<User?>(null) }\n\n    LaunchedEffect(key1 = user) {\n\n        refreshMenu()\n\n    }\n\n\n    LaunchedEffect(key1 = \"login\") {\n\n        user = loginAnonymously()\n        Log.d(\"DB-User\", \"USER LOGIN SUCCESSFUL : $user\")\n\n    }\n\n\n    Log.d(\"DB\", \"2.\" + user.toString())\n\n\n\n\n    Log.d(\"Initialize\",\"Database Connected\")\n\n    val configuration = LocalConfiguration.current\n    screenHeight = configuration.screenHeightDp.dp\n    screenWidth = configuration.screenWidthDp.dp\n\n    var onDashboard by remember {mutableStateOf(true)}\n    var onMenu = false\n    val updateStates = { dashboard: Boolean, menu: Boolean ->\n        onDashboard = dashboard\n        onMenu = menu\n    }\n\n    val navController = rememberNavController()\n\n\n    Scaffold(\n\n        bottomBar = {\n            if(authViewModel.isLoggedIn) NavigationBar(navController = navController, onDashboard, onMenu, updateStates)\n\n                    },\n        containerColor = MaterialTheme.colorScheme.background,\n        contentWindowInsets = WindowInsets(0.dp),\n        modifier = Modifier.fillMaxSize()\n\n    ) {\n    innerPadding ->\n\n        val scrollState = rememberScrollState()\n\n        val padding = innerPadding\n\n        NavHost(\n            navController = navController,\n            startDestination = if (authViewModel.isLoggedIn) Route.DEV_SCREEN else Route.DEV_SCREEN,\n            modifier = Modifier\n//                .verticalScroll(state = scrollState)\n                .fillMaxSize()\n        ) {\n\n            composable(route = Route.DEV_SCREEN){\n                DeveloperScreen1(navController, context)\n            }\n\n            composable(route = Route.DASHBOARD_SCREEN) {\n\n                authViewModel.login(user)\n                DashboardScreen()\n            }\n\n            composable(route = Route.MENU_SCREEN) {\n                authViewModel.login(user)\n                MenuScreen(user)\n            }\n        }\n    }\n}\n\nProcess: com.metrofriedchicken.metrofc, PID: 20630\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nat androidx.credentials.playservices.controllers.CredentialProviderBaseController$Companion.getCredentialExceptionTypeToException$credentials_play_services_auth_release(CredentialProviderBaseController.kt:110)\nat androidx.credentials.playservices.controllers.BeginSignIn.CredentialProviderBeginSignInController$resultReceiver$1$onReceiveResult$1.invoke(CredentialProviderBeginSignInController.kt:93)\nI've tried :\n\nDeleting Keystore and make a new one ( debug and release )\nUsed the web app client id and android client id\nChange device\nwaited a day\n\n",
        "Answer": "I am assuming you are currently integrating the Credential Manager in debug mode and testing your integration in an app directly installed from Android Studio to  your test device.\nIn this case you will need to configure the SHA1 key currently being used to sign your app, which is Android Studio's debug keystore.\nIn this case, you can get the SHA1 by running below command in Android Studio's terminal:\n./gradlew signingreport\n\nCopy the correct SHA1 fingerprint of correct Variant and Config from the terminal console and configure the same in cloud console for your app's Android OAuth2 client.\nIn order to keep the steps cleaner, I am mentioning them as below:\n\nCreate one Android OAuth2 client in cloud api console with you app's package name.\nUse the debug SHA1 key in this Android OAuth2 client creation as I mentioned above (in order to recognized this as debug client you can append the client name with debug as \"your-app-debug\")\nCreate one Web OAuth2 client in cloud api console. This will act as the server for your app\nCopy the ClientID of this Web client and use in setServerClientId(ServerClientID) in your integration.\n\nWith these simple steps alone, your integration should work fine.\nOptionally, as the next step,\n\nYou can create another Android OAuth2 client with release key's SHA1 fingerprint for production, and for recognizing this client, can give it a name \"Your-app-release\"\n\n",
        "Source": "https://stackoverflow.com/questions/78247578/error-on-google-sign-in-credentialmanager-using-jetpack-compose"
    },
    {
        "Title": "Access AWS Secrets Manager with IMDSv2 set to required",
        "Question": "I'm working on a Java application running on an EC2 instance in AWS. My goal is to access AWS Secrets Manager using an AWS SDK for Java and an IAM role attached to the EC2 instance.\nEverything works smoothly when IMDSv2 (Instance Metadata Service version 2) is optional. However, when it's set to required as recommended, I encounter an issue.\nSpecifically, I'm receiving the error 'software.amazon.awssdk.core.exception.SdkClientException: Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain'.\nHow can I resolve this issue and successfully access AWS Secrets Manager with IMDSv2 set to required?\nTried attaching different policies, created some custom ones but the result is same.\njava sdk version used:\n<dependency>\n     <groupId>software.amazon.awssdk</groupId>\n     <artifactId>secretsmanager</artifactId>\n     <version>2.25.7</version>\n</dependency>\n\n",
        "Answer": "I did some more research and was able to figure this out. There have been issues with IMDSv2 network request and what was suggested is to increase the hop limit to '2' on the ec2 instance. As said here in the considerations section as well https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-retrieval.html#imds-considerations\nTo increase the hop limit:\n\"Use the modify-instance-metadata-options CLI command and set the http-put-response-hop-limit parameter to the required number of hops. In the following example, the hop limit is set to 2. Note that when specifying a value for http-put-response-hop-limit, you must also set http-endpoint to enabled\"\nUsing aws cli:\naws ec2 modify-instance-metadata-options \\\n--instance-id <instance-id> \\\n--http-put-response-hop-limit 2 \\\n--http-endpoint enabled\n\n",
        "Source": "https://stackoverflow.com/questions/78183614/access-aws-secrets-manager-with-imdsv2-set-to-required"
    },
    {
        "Title": "Install a private package with credentials from requirements.txt",
        "Question": "I want to a private package via\n%pip install -r /dbfs/requirements.txt\n\nInside this requirements.txt is give:\ngit+https://<user>:$token@<gitprovider>.com/<path/to/repo>\n\nIf i give user and token inside the requirements.txt it works like a charm, but I want to pass user and token via dbutils.secrets. Is this doable without manipulating the requirements.txt before?\nI thought it would be possible to create environment variables, but this did not work for me.\n%env GIT_USERNAME= ...\n%env GIT_TOKEN= ...\n\n",
        "Answer": "The way is using python\n\nGetting information\nStore the information in a temporary file so that its details will not be found in the run log or records after running\nRun\n\nimport dbutils\n\nusername = dbutils.secrets.get(scope=\"your_scope\", key=\"git_username\")\ntoken = dbutils.secrets.get(scope=\"your_scope\", key=\"git_token\")\n\nrepo_url = f\"git+https://{username}:{token}@gitprovider.com/path/to/repo\"\n\nrequirements_path = \"/dbfs/tmp/requirements.txt\"\n\nwith open(requirements_path, \"w\") as file:\n    file.write(repo_url + \"\\n\")\n\ndbutils.notebook.run(\"%pip install -r \" + requirements_path, 60)\n\n",
        "Source": "https://stackoverflow.com/questions/78140635/install-a-private-package-with-credentials-from-requirements-txt"
    },
    {
        "Title": "PayPal bearer resets after x amount of seconds",
        "Question": "I\u2019m using PayPal refund api. The api docs says the bearer token that I am using will reset after x amount of seconds.\nLink to where it says access token resets:\nhttps://developer.paypal.com/reference/get-an-access-token/\nIn my case my token resets after 9 hours. I am using this token to refund purchases which will happen all the time. Is there an alternate solution from Bearer <Access-Token> that doesn\u2019t include a reset token? I haven\u2019t been able to find one other than the Basic <client_id>:<secret> which includes client credentials which doesn\u2019t seem to work. And yes the credentials are correct.\nLink to api:\nhttps://developer.paypal.com/docs/api/payments/v2/#captures_refund\n",
        "Answer": "Basic client_id:secret, where the string client_id:secret is Base64 encoded, is the header value for HTTP Basic Authentication. This is used to obtain an access token from the oauth2 token endpoint.\nAccess tokens expire after 9 hours, beyond which a new one must be obtained. These are required for all PayPal REST API operations, including refunds.\n",
        "Source": "https://stackoverflow.com/questions/78109044/paypal-bearer-resets-after-x-amount-of-seconds"
    },
    {
        "Title": "How to store MySQL credentials in python project, that users not only from my pc will use later?",
        "Question": "I have the following code:\nclass Server:\n    def __init__(self):\n        #server credentials\n        self.ip = \"192.168.1.182\"\n        self.user = \"bank_user\"\n        self.password = \"*mypass*\"\n        self.port = 3307\n        self.database = \"bank\"\n    def connect_to_server(self):\n        try:\n            self.mydb = mysql.connector.connect(\n                host = self.ip,\n                user = self.user,\n                password = self.password,\n                port = self.port,\n                database = self.database\n                )\n            self.mycursor = self.mydb.cursor()\n            print(\"\u2713 Server connection estabilished\")\n            rlist = [True]\n\nThe problem is, I don't want to store it in my code because I feel that it's not safe\nI'm creating a banking app (just for fun) so it will be used as .py->.exe later by users not only from my pc. I shouldn't be stored in a config file or a plaintext file, because if someone gets the credentials he can basically log into the MySQL database and modify all of the data.\nSo no:\n\nEnviromental variables\nPlaintext/ config file\nIt should work on any pc (I'm using pytoexe to convert my python file to exe, so that everyone can run the app)\nI'm new to stackoverflow so forgive me if I wrote sth wrong\n\nI thought about creating a password encryption, but anyone who gets the decryption key can decrypt the password. I also thought about creating my own encryption method, but anyone who gets to my code can just use the decrypting function and execute it for example: decryptor(\"encryptedpassword\")\n",
        "Answer": "Right, anyone who gets your code can extract the MySQL password and connect using any other client. They can do any SQL query according to the privileges you granted that MySQL user.\nEven if you compile using pytoexe, a skilled person could use a debugger or simply the strings tool to extract the password.\nIf you encrypt, they can decrypt. If you try to invent your own encryption algorithm, assume they can decrypt it more easily. I assume you are not an accomplished Ph.D. in applied cryptography, so any novel encryption method you think of will surely be easier to crack than state of the art encryption tools.\nThere are two common methods to solve this problem:\n\nDon't give them the MySQL password. The application you give them has no MySQL connection. The application makes HTTP requests to a web service that you develop. The code in your web service implements specific SQL they can execute. This is where you enforce business rules about what they can access. This is by far the most popular solution.\n\nGive them the MySQL password, but restrict the SQL they can execute. Privileges alone only give you limited control, so you need to create a layer of stored routines and views in the MySQL database. They should be able to access the stored routines and views, but the user cannot access the underlying tables. The routines and views have privileges to do that. Therefore the users can only do what you have allowed them to do in those routines and views.\n\n\nThere could also be a solution using a proxy such as ProxySQL. This would involve writing filters in the proxy so clients would not be allowed to run queries except those you want them to run. The advantage would be that the client application thinks it's connecting to a MySQL Server, but it's really connecting to the proxy. But I think it would be easier to write a web service than to write a whole application's business logic in a proxy.\nI suppose one could also use MySQL's query rewrite plugin to do something similar, but I've never seen anyone do that successfully.\n",
        "Source": "https://stackoverflow.com/questions/78089675/how-to-store-mysql-credentials-in-python-project-that-users-not-only-from-my-pc"
    },
    {
        "Title": "Setup access.ini file permession so it can be read by php script",
        "Question": "I'm really new to this so sorry if this isn't clear.\nI'm trying to hide my database credentials using an access.ini  file.\nI have a AWS instance, with my scripts located in /bitnami/joomla/index (in short I have an html page that display data using a php file that queries a postgresql db). I've tried creating a new directory /bitnami/joomla/config where I placed the access.ini  file. However, my php script can't read it due to permission issues (I guess).\nThe owner/group for the files in /bitnami/joomla/index are bitnami bitnami.\nAnd the owner/group and permissions for the folder /bitnami/joomla/config and its file are :\nbitnami bitnami\ndrwx--x--x\nIs my setup completly wrong, or is the issue easy to solve ?\n",
        "Answer": "Instead of using an access.ini file, consider using environment variables to store sensitive credentials.\nPHP can read environment variables easily.\nAdditional details can be found here.\n",
        "Source": "https://stackoverflow.com/questions/78035277/setup-access-ini-file-permession-so-it-can-be-read-by-php-script"
    },
    {
        "Title": "How to set an &quot;environment&quot; in a non-trivial way using expression?",
        "Question": "I have a GitHub Actions workflow which deploys some things to an environment. The workflow needs to log in to access the environment, so we use GitHub environment secrets to store credentials.\nMy workflow contains this:\non:\n  workflow_dispatch:\n    inputs:\n      deployment_target:\n        type: choice\n        description: Choose an environment to deploy to\n        options:\n          - dev\n          - staging\n          - production\n          - benchmarks\n...\njobs:\n  deploy-to-persistent-environment:\n    environment: ${{ github.event.inputs.deployment_target}}\n    steps: \n      - name: Login # Pseudocode\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy # Pseudocode\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nThe \"benchmarks\" environment uses the same credentials as the \"development\" environment. So I would like to re-use the same GitHub environment secrets rather than have two sets of duplicate environment secrets in GitHub.\nI.e., I would like to do something like this pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ if github.event.inputs.deployment_target == 'benchmarks' then 'development' else github.event.inputs.deployment_target }}\n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nIs there any way to achieve this with GitHub Actions?\n",
        "Answer": "There is a way to do it directly in the expression, according to this reference on the Github Community, by using the syntax ${{ x && 'ifTrue' || 'ifFalse'  }}\nIn that case:\n\nif the condition x is True, the first argument will be used.\nif the condition x is False, the second argument will be used.\n\nIn our case here, it would look like this:\nenvironment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}\n\nWhere:\n\nif github.event.inputs.deployment_target == 'benchmarks' is True, development will be used as environment.\n\nif github.event.inputs.deployment_target == 'benchmarks' is False, github.event.inputs.deployment_target will be used as environment.\n\n\nUpdating the pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}   \n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nEDIT: This is now available on the GitHub official doc as well (Thanks Benjamin W for reporting)\n",
        "Source": "https://stackoverflow.com/questions/77959880/how-to-set-an-environment-in-a-non-trivial-way-using-expression"
    },
    {
        "Title": "How to implement speech recognition with the Google Cloud Speech-to-Text API using Node.js?",
        "Question": "I am new to Google Cloud,\nI recently created a project with Speech-to-Text API.\nAfter creating the project and linking it to a billing account, I accessed the Node.js in-console tutorial for a quick start.\nAfter following all the steps in the in-console tutorial (and dealing with some mistakes in the code in the tutorial itself), and running the code, I got the following error:\nnode:internal/process/promises:289\n            triggerUncaughtException(err, true /* fromPromise */);\n            ^\n\nError: 3 INVALID_ARGUMENT: Invalid resource field value in the request.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Invalid resource field value in the request.',\n  metadata: Metadata {\n    internalRepr: Map(2) {\n      'google.rpc.errorinfo-bin' => [\n        Buffer(127) [Uint8Array] [\n           10,  24,  82,  69,  83,  79,  85,  82,  67,  69,  95,  80,\n           82,  79,  74,  69,  67,  84,  95,  73,  78,  86,  65,  76,\n           73,  68,  18,  14, 103, 111, 111, 103, 108, 101,  97, 112,\n          105, 115,  46,  99, 111, 109,  26,  32,  10,   7, 115, 101,\n          114, 118, 105,  99, 101,  18,  21, 115, 112, 101, 101,  99,\n          104,  46, 103, 111, 111, 103, 108, 101,  97, 112, 105, 115,\n           46,  99, 111, 109,  26,  49,  10,   6, 109, 101, 116, 104,\n          111, 100,  18,  39, 103, 111, 111, 103, 108, 101,  46,  99,\n          108, 111, 117, 100,\n          ... 27 more items\n        ]\n      ],\n      'grpc-status-details-bin' => [\n        Buffer(222) [Uint8Array] [\n            8,   3,  18,  44,  73, 110, 118,  97, 108, 105, 100,  32,\n          114, 101, 115, 111, 117, 114,  99, 101,  32, 102, 105, 101,\n          108, 100,  32, 118,  97, 108, 117, 101,  32, 105, 110,  32,\n          116, 104, 101,  32, 114, 101, 113, 117, 101, 115, 116,  46,\n           26, 171,   1,  10,  40, 116, 121, 112, 101,  46, 103, 111,\n          111, 103, 108, 101,  97, 112, 105, 115,  46,  99, 111, 109,\n           47, 103, 111, 111, 103, 108, 101,  46, 114, 112,  99,  46,\n           69, 114, 114, 111, 114,  73, 110, 102, 111,  18, 127,  10,\n           24,  82,  69,  83,\n          ... 122 more items\n        ]\n      ]\n    },\n    options: {}\n  },\n  note: 'Exception occurred in retry method that was not classified as transient',\n  statusDetails: [\n    ErrorInfo {\n      metadata: {\n        service: 'speech.googleapis.com',\n        method: 'google.cloud.speech.v2.Speech.Recognize'\n      },\n      reason: 'RESOURCE_PROJECT_INVALID',\n      domain: 'googleapis.com'\n    }\n  ],\n  reason: 'RESOURCE_PROJECT_INVALID',\n  domain: 'googleapis.com',\n  errorInfoMetadata: {\n    service: 'speech.googleapis.com',\n    method: 'google.cloud.speech.v2.Speech.Recognize'\n  }\n}\n\nThis is after I seted a project for quota purposes (using gcloud auth application-default set-quota-project $PROJECT_ID in the terminal).\nI also did the same steps through the gcloud CLI (on Windows) and it returned the same error.\nIs there something I forgot to do? Or something in the code is wrong? Maybe it's something to do with the fact that I'm working with version 2 of the API and the code is optimized to work only with version 1 of the API?\nMany thanks in advance!\nThe reusable Node.js code (I made some changes from the original code of the tutorial after encountering errors, and I also changed the way to get the data of the audio file after I couldn't get it from the uri of the bucket, as is customary in GCP):\nconst speech = require('@google-cloud/speech').v2;\nconst https = require('https');\n\nconst client = new speech.SpeechClient();\nconst projectId = '<ProjectId>';\nvar recognizerName;\n\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId: 'en123',\n    recognizer: {\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function getUrlData(url) {\n  return new Promise((resolve) => {\n      https.get(url, response => {\n          var body = '';\n          var i = 0;\n          response.on('data', chunk => {\n              i++;\n              body += chunk;\n          });\n          response.on('end', () => {\n              resolve(Buffer.from(body).toString('base64'));\n          });\n      });\n  });\n}\n\nasync function transcribeFile() {\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nUpdate:\nAfter looking at the (asker's) code in this question, I realized that I got confused in the definition of recognizerName and used only the string of the recognizerId instead of using the full path of the recognizer (projects/${projectId}/locations/global/recognizers/${recognizerId}), so currently my code looks like this:\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\n// ...\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nBut now I get another error:\nError: 3 INVALID_ARGUMENT: Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.',\n  metadata: Metadata { internalRepr: Map(0) {}, options: {} },\n  note: 'Exception occurred in retry method that was not classified as transient'\n}\n\n",
        "Answer": "I managed to solve it!\nThe error Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters occurs when the requested file is in a format without Codec (in this case .raw) and therefore the Speech to Text API does not know how to encode it.\nTo solve this I had to pass an explicitDecodingConfig object when creating the recognizer (within the defaultRecognitionConfig property) or later in the transcriptionRequest (within the config property).\nconst speech = require('@google-cloud/speech').v2;\n\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\n\nconst client = new speech.SpeechClient();\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId,\n    recognizer: {\n      defaultRecognitionConfig: {\n        explicitDecodingConfig: {\n          encoding: 'LINEAR16',\n          sampleRateHertz: 16000,\n          audioChannelCount: 1\n        }\n      },\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  const recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const gcsUri = 'gs://cloud-samples-data/speech/brooklyn_bridge.raw';\n\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    uri: gcsUri,\n    config: {\n      explicitDecodingConfig: {   // If you didn't set explicitDecodingConfig when creating the recognizer, you have to set it here.\n        encoding: 'LINEAR16',\n        sampleRateHertz: 16000,\n        audioChannelCount: 1\n      }\n    },\n  }\n\n  const response = await client.recognize(transcriptionRequest);\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\n(async function main() {\n  await createRecognizer();\n  await transcribeFile();\n})();\n\n",
        "Source": "https://stackoverflow.com/questions/77940391/how-to-implement-speech-recognition-with-the-google-cloud-speech-to-text-api-usi"
    },
    {
        "Title": "Updating AWS credentials",
        "Question": "I need advice on how I can update AWS credentials after they expire.\nI'm creating a bean of AmazonSimpleEmailService this way:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new AWSStaticCredentialsProvider(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                        .getCredentials())\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\nBut when I'm trying to use it I'm getting an error:\nThe security token included in the request is expired (Service: AmazonSimpleEmailService; Status Code: 403; Error Code: ExpiredToken\nIf I create an instance of the SES client right before each mail sending - it works correctly, but it looks like a bad practice to create a new instance before each use.\nI understand that the issue with the credentials that I'm getting via STSAssumeRoleSessionCredentialsProvider - they just have an expiration time.\nI am wondering if there should be a way to automatically update the credentials when they are going to expire, so I'd really appreciate any advice on how to do it.\n",
        "Answer": "STSAssumeRoleSessionCredentialsProvider will auto-refresh the credentials, but you are blocking that functionality by getting a single set of credentials and passing them into a AWSStaticCredentialsProvider instance.\nThis should allow you to use the auto-refresh of the STS Provider:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\n",
        "Source": "https://stackoverflow.com/questions/77921630/updating-aws-credentials"
    },
    {
        "Title": "Reading credentials from another file doesn&#39;t work in Python",
        "Question": "I created a Python file called pw.py where I store my username and password.\nThe content of pw.py is as follows:\nusername = \"username1\"\npassword = \"pswrd2\"\n\nTo access these credentials from another file called ProducerReddit.ipynb, I do the following:\nfrom pw import password, username\n\nHowever, when I try to print password and username, they are always empty.\nThe two files are inside the same folder.\nWhat I am doing wrong?\n",
        "Answer": "I recommend you to check do you have a __init__.py file in the your top folder.\nIf you don't have please create this __init__.py module.\nThen try to use absolute import path.\nFor example you have top directorty with this structure:\ntop_directory:\n              __init__.py\n              pw.py\n              other_file.py\n\nyour import instructions in the other_file.py shoud be like this:\nfrom top_directory.pw import username, password\n\nI hope this may help you\n",
        "Source": "https://stackoverflow.com/questions/77786371/reading-credentials-from-another-file-doesnt-work-in-python"
    },
    {
        "Title": "Apache HTTP Client 5.3 ~ NTCredentials no longer working",
        "Question": "I have a project that uses org.apache.httpcomponents.client5:httpclient5. I recently tried upgrading from version 5.2.3 to version 5.3, only to realize that the authentication was no longer working in the new version.\nHere is how the relevant code looks:\n        BasicCredentialsProvider credentialsProvider =\n            new BasicCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(credentialsProvider)\n            .build();\n[...]\n            final HttpGet httpget = new HttpGet(targetUrl);\n\n            CloseableHttpResponse response = httpclient.execute(httpget);\n\n\nBefore the update from 5.2.3 to 5.3 this worked fine. However, when I use 5.3, I now get a 401 UNAUTHORIZED response.\nI also tried the following variations to above code to pass the credentials along, but they all also return only 401 UNAUTHORIZED:\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(CredentialsProviderBuilder.create()\n                .add(new HttpHost(host, port), username, password.toCharArray())\n                .build())\n            .build();\n\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new UsernamePasswordCredentials(username, password.toCharArray())\n        );\n\n        SystemDefaultCredentialsProvider credentialsProvider =\n            new SystemDefaultCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n\nNow I am stumped. Could this be a bug in 5.3? Or did something change to the way that the NTCredentialsProvider works? I could not find any release notes indicating so, and since this is only a minor version update that would surprise me.\nNonetheless, the fact it that it works with the old version but not with the new one. Does anyone has any suggestions as to what I can do about that?\n",
        "Answer": "We now managed to solve it by providing the httpclient with a default auth scheme registry like this:\n        Lookup<AuthSchemeFactory> authSchemeRegistry = RegistryBuilder.<AuthSchemeFactory>create()\n                .register(StandardAuthScheme.NTLM, new NTLMSchemeFactory()).build();\n\n        httpclient = HttpClients.custom()\n                .setDefaultCredentialsProvider(credentialsProvider)\n                .setDefaultRequestConfig(config)\n                .setDefaultAuthSchemeRegistry(authSchemeRegistry)\n                .build();\n\n",
        "Source": "https://stackoverflow.com/questions/77784888/apache-http-client-5-3-ntcredentials-no-longer-working"
    },
    {
        "Title": "Error on Google Sign In CredentialManager, using Jetpack Compose",
        "Question": "I am trying to create a Sign In with Google Button but everytime credentialManager.getCredential is called, it gives me :\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nI tried resetting the SHA-1 Fingerprint, I've created both web application and android in the google cloud credential, I've used both the web app client id and android client id. I'm lost, please help\n\nobject DeveloperScreen{\n\n    const val GOOGLE_WEB_CLIENT_ID = \"xxxxxxxxxh5n94bxxxxxxxxxxx1.apps.googleusercontent.com\"\n//    const val GOOGLE_WEB_CLIENT_SECRET = \"GxxxxxxxxCinwYDR8KQi3-wD9ugT311\"\n//    const val GOOGLE_ANDROID_CLIENT_ID = \"3xxxxxxx80-7ja1n9nknxxxxxxxxxxxxxxxxxxxens33k.apps.googleusercontent.com\"\n\n\n    private suspend fun googleSignIn(context : Context) {\n\n\n        val credentialManager = androidx.credentials.CredentialManager.create(context)\n\n        val googleIdOption: GetGoogleIdOption = GetGoogleIdOption.Builder()\n            .setFilterByAuthorizedAccounts(false)\n            .setServerClientId(GOOGLE_WEB_CLIENT_ID)\n            .build()\n\n        Log.i(\"auth-google-googleIdOption\", googleIdOption.toString())\n\n        val request: GetCredentialRequest = GetCredentialRequest.Builder()\n            .addCredentialOption(googleIdOption)\n            .build()\n\n        Log.i(\"auth-google-credentialRequest\", request.toString())\n\n\n        val result = credentialManager.getCredential(\n            request = request,\n            context = context,\n        )\n\n        Log.i(\"auth-google-result\", result.toString())\n\n\n\n\n\n    }\n\n\n\n    @Composable\n    public fun DeveloperScreen1(navController : NavHostController, context : Context){\n\n        var phoneNumber by rememberSaveable { mutableStateOf(\"\") }\n        var email by rememberSaveable { mutableStateOf(\"\")}\n        var otpCode by rememberSaveable { mutableStateOf(\"\") }\n\n        var useEmail by rememberSaveable { mutableStateOf(false)}\n\n        var message by rememberSaveable { mutableStateOf(\"\")}\n\n        val coroutineScope = rememberCoroutineScope()\n\n        Column {\n\n\n            var user : User? = getCurrentUser()\n\n            Text(\n                textAlign = TextAlign.Center,\n                fontSize = 5.em,\n                text = \"DEV SCREEN\",\n                modifier = Modifier\n                    .fillMaxWidth()\n                    .padding(top = 10.dp)\n\n            )\n\n            Text(\n                text = message,\n                color = Color.Black\n            )\n\n            Button(\n                onClick = {\n\n                    coroutineScope.launch {\n\n                        googleSignIn(context)\n\n                    }\n...\n\n\n\n\nvar screenHeight = 0.dp\nvar screenWidth = 0.dp\n\nvar authViewModel = AuthViewModel()\n\n\n\nclass MainActivity : ComponentActivity() {\n\n\n\n    @RequiresApi(Q)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n\n        Log.d(\"Initialize\", \"App Started\")\n\n        setContent {\n\n\n            var context: Context = LocalContext.current\n\n            Box(\n                Modifier\n                    .background(color = Color(0xFFBDC6CA))\n                    .safeDrawingPadding()\n            ) {\n                MetroFCTheme {\n                    MainContent(context)\n\n\n\n                }\n            }\n        }\n\n        actionBar?.hide()\n        WindowCompat.setDecorFitsSystemWindows(window, false)\n        if (Build.VERSION.SDK_INT < Build.VERSION_CODES.R) {\n            window.addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)\n        } else {\n            window.insetsController?.apply {\n//                hide(WindowInsetsAndroid.Type.statusBars())\n                systemBarsBehavior = WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\n            }\n        }\n\n    }\n\n\n}\n\n\n\n@RequiresApi(Q)\n@Composable\nfun MainContent(\n    context : Context\n){\n\n    var user by remember{ mutableStateOf<User?>(null) }\n\n    LaunchedEffect(key1 = user) {\n\n        refreshMenu()\n\n    }\n\n\n    LaunchedEffect(key1 = \"login\") {\n\n        user = loginAnonymously()\n        Log.d(\"DB-User\", \"USER LOGIN SUCCESSFUL : $user\")\n\n    }\n\n\n    Log.d(\"DB\", \"2.\" + user.toString())\n\n\n\n\n    Log.d(\"Initialize\",\"Database Connected\")\n\n    val configuration = LocalConfiguration.current\n    screenHeight = configuration.screenHeightDp.dp\n    screenWidth = configuration.screenWidthDp.dp\n\n    var onDashboard by remember {mutableStateOf(true)}\n    var onMenu = false\n    val updateStates = { dashboard: Boolean, menu: Boolean ->\n        onDashboard = dashboard\n        onMenu = menu\n    }\n\n    val navController = rememberNavController()\n\n\n    Scaffold(\n\n        bottomBar = {\n            if(authViewModel.isLoggedIn) NavigationBar(navController = navController, onDashboard, onMenu, updateStates)\n\n                    },\n        containerColor = MaterialTheme.colorScheme.background,\n        contentWindowInsets = WindowInsets(0.dp),\n        modifier = Modifier.fillMaxSize()\n\n    ) {\n    innerPadding ->\n\n        val scrollState = rememberScrollState()\n\n        val padding = innerPadding\n\n        NavHost(\n            navController = navController,\n            startDestination = if (authViewModel.isLoggedIn) Route.DEV_SCREEN else Route.DEV_SCREEN,\n            modifier = Modifier\n//                .verticalScroll(state = scrollState)\n                .fillMaxSize()\n        ) {\n\n            composable(route = Route.DEV_SCREEN){\n                DeveloperScreen1(navController, context)\n            }\n\n            composable(route = Route.DASHBOARD_SCREEN) {\n\n                authViewModel.login(user)\n                DashboardScreen()\n            }\n\n            composable(route = Route.MENU_SCREEN) {\n                authViewModel.login(user)\n                MenuScreen(user)\n            }\n        }\n    }\n}\n\nProcess: com.metrofriedchicken.metrofc, PID: 20630\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nat androidx.credentials.playservices.controllers.CredentialProviderBaseController$Companion.getCredentialExceptionTypeToException$credentials_play_services_auth_release(CredentialProviderBaseController.kt:110)\nat androidx.credentials.playservices.controllers.BeginSignIn.CredentialProviderBeginSignInController$resultReceiver$1$onReceiveResult$1.invoke(CredentialProviderBeginSignInController.kt:93)\nI've tried :\n\nDeleting Keystore and make a new one ( debug and release )\nUsed the web app client id and android client id\nChange device\nwaited a day\n\n",
        "Answer": "I am assuming you are currently integrating the Credential Manager in debug mode and testing your integration in an app directly installed from Android Studio to  your test device.\nIn this case you will need to configure the SHA1 key currently being used to sign your app, which is Android Studio's debug keystore.\nIn this case, you can get the SHA1 by running below command in Android Studio's terminal:\n./gradlew signingreport\n\nCopy the correct SHA1 fingerprint of correct Variant and Config from the terminal console and configure the same in cloud console for your app's Android OAuth2 client.\nIn order to keep the steps cleaner, I am mentioning them as below:\n\nCreate one Android OAuth2 client in cloud api console with you app's package name.\nUse the debug SHA1 key in this Android OAuth2 client creation as I mentioned above (in order to recognized this as debug client you can append the client name with debug as \"your-app-debug\")\nCreate one Web OAuth2 client in cloud api console. This will act as the server for your app\nCopy the ClientID of this Web client and use in setServerClientId(ServerClientID) in your integration.\n\nWith these simple steps alone, your integration should work fine.\nOptionally, as the next step,\n\nYou can create another Android OAuth2 client with release key's SHA1 fingerprint for production, and for recognizing this client, can give it a name \"Your-app-release\"\n\n",
        "Source": "https://stackoverflow.com/questions/78247578/error-on-google-sign-in-credentialmanager-using-jetpack-compose"
    },
    {
        "Title": "Access AWS Secrets Manager with IMDSv2 set to required",
        "Question": "I'm working on a Java application running on an EC2 instance in AWS. My goal is to access AWS Secrets Manager using an AWS SDK for Java and an IAM role attached to the EC2 instance.\nEverything works smoothly when IMDSv2 (Instance Metadata Service version 2) is optional. However, when it's set to required as recommended, I encounter an issue.\nSpecifically, I'm receiving the error 'software.amazon.awssdk.core.exception.SdkClientException: Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain'.\nHow can I resolve this issue and successfully access AWS Secrets Manager with IMDSv2 set to required?\nTried attaching different policies, created some custom ones but the result is same.\njava sdk version used:\n<dependency>\n     <groupId>software.amazon.awssdk</groupId>\n     <artifactId>secretsmanager</artifactId>\n     <version>2.25.7</version>\n</dependency>\n\n",
        "Answer": "I did some more research and was able to figure this out. There have been issues with IMDSv2 network request and what was suggested is to increase the hop limit to '2' on the ec2 instance. As said here in the considerations section as well https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-retrieval.html#imds-considerations\nTo increase the hop limit:\n\"Use the modify-instance-metadata-options CLI command and set the http-put-response-hop-limit parameter to the required number of hops. In the following example, the hop limit is set to 2. Note that when specifying a value for http-put-response-hop-limit, you must also set http-endpoint to enabled\"\nUsing aws cli:\naws ec2 modify-instance-metadata-options \\\n--instance-id <instance-id> \\\n--http-put-response-hop-limit 2 \\\n--http-endpoint enabled\n\n",
        "Source": "https://stackoverflow.com/questions/78183614/access-aws-secrets-manager-with-imdsv2-set-to-required"
    },
    {
        "Title": "Install a private package with credentials from requirements.txt",
        "Question": "I want to a private package via\n%pip install -r /dbfs/requirements.txt\n\nInside this requirements.txt is give:\ngit+https://<user>:$token@<gitprovider>.com/<path/to/repo>\n\nIf i give user and token inside the requirements.txt it works like a charm, but I want to pass user and token via dbutils.secrets. Is this doable without manipulating the requirements.txt before?\nI thought it would be possible to create environment variables, but this did not work for me.\n%env GIT_USERNAME= ...\n%env GIT_TOKEN= ...\n\n",
        "Answer": "The way is using python\n\nGetting information\nStore the information in a temporary file so that its details will not be found in the run log or records after running\nRun\n\nimport dbutils\n\nusername = dbutils.secrets.get(scope=\"your_scope\", key=\"git_username\")\ntoken = dbutils.secrets.get(scope=\"your_scope\", key=\"git_token\")\n\nrepo_url = f\"git+https://{username}:{token}@gitprovider.com/path/to/repo\"\n\nrequirements_path = \"/dbfs/tmp/requirements.txt\"\n\nwith open(requirements_path, \"w\") as file:\n    file.write(repo_url + \"\\n\")\n\ndbutils.notebook.run(\"%pip install -r \" + requirements_path, 60)\n\n",
        "Source": "https://stackoverflow.com/questions/78140635/install-a-private-package-with-credentials-from-requirements-txt"
    },
    {
        "Title": "PayPal bearer resets after x amount of seconds",
        "Question": "I\u2019m using PayPal refund api. The api docs says the bearer token that I am using will reset after x amount of seconds.\nLink to where it says access token resets:\nhttps://developer.paypal.com/reference/get-an-access-token/\nIn my case my token resets after 9 hours. I am using this token to refund purchases which will happen all the time. Is there an alternate solution from Bearer <Access-Token> that doesn\u2019t include a reset token? I haven\u2019t been able to find one other than the Basic <client_id>:<secret> which includes client credentials which doesn\u2019t seem to work. And yes the credentials are correct.\nLink to api:\nhttps://developer.paypal.com/docs/api/payments/v2/#captures_refund\n",
        "Answer": "Basic client_id:secret, where the string client_id:secret is Base64 encoded, is the header value for HTTP Basic Authentication. This is used to obtain an access token from the oauth2 token endpoint.\nAccess tokens expire after 9 hours, beyond which a new one must be obtained. These are required for all PayPal REST API operations, including refunds.\n",
        "Source": "https://stackoverflow.com/questions/78109044/paypal-bearer-resets-after-x-amount-of-seconds"
    },
    {
        "Title": "How to store MySQL credentials in python project, that users not only from my pc will use later?",
        "Question": "I have the following code:\nclass Server:\n    def __init__(self):\n        #server credentials\n        self.ip = \"192.168.1.182\"\n        self.user = \"bank_user\"\n        self.password = \"*mypass*\"\n        self.port = 3307\n        self.database = \"bank\"\n    def connect_to_server(self):\n        try:\n            self.mydb = mysql.connector.connect(\n                host = self.ip,\n                user = self.user,\n                password = self.password,\n                port = self.port,\n                database = self.database\n                )\n            self.mycursor = self.mydb.cursor()\n            print(\"\u2713 Server connection estabilished\")\n            rlist = [True]\n\nThe problem is, I don't want to store it in my code because I feel that it's not safe\nI'm creating a banking app (just for fun) so it will be used as .py->.exe later by users not only from my pc. I shouldn't be stored in a config file or a plaintext file, because if someone gets the credentials he can basically log into the MySQL database and modify all of the data.\nSo no:\n\nEnviromental variables\nPlaintext/ config file\nIt should work on any pc (I'm using pytoexe to convert my python file to exe, so that everyone can run the app)\nI'm new to stackoverflow so forgive me if I wrote sth wrong\n\nI thought about creating a password encryption, but anyone who gets the decryption key can decrypt the password. I also thought about creating my own encryption method, but anyone who gets to my code can just use the decrypting function and execute it for example: decryptor(\"encryptedpassword\")\n",
        "Answer": "Right, anyone who gets your code can extract the MySQL password and connect using any other client. They can do any SQL query according to the privileges you granted that MySQL user.\nEven if you compile using pytoexe, a skilled person could use a debugger or simply the strings tool to extract the password.\nIf you encrypt, they can decrypt. If you try to invent your own encryption algorithm, assume they can decrypt it more easily. I assume you are not an accomplished Ph.D. in applied cryptography, so any novel encryption method you think of will surely be easier to crack than state of the art encryption tools.\nThere are two common methods to solve this problem:\n\nDon't give them the MySQL password. The application you give them has no MySQL connection. The application makes HTTP requests to a web service that you develop. The code in your web service implements specific SQL they can execute. This is where you enforce business rules about what they can access. This is by far the most popular solution.\n\nGive them the MySQL password, but restrict the SQL they can execute. Privileges alone only give you limited control, so you need to create a layer of stored routines and views in the MySQL database. They should be able to access the stored routines and views, but the user cannot access the underlying tables. The routines and views have privileges to do that. Therefore the users can only do what you have allowed them to do in those routines and views.\n\n\nThere could also be a solution using a proxy such as ProxySQL. This would involve writing filters in the proxy so clients would not be allowed to run queries except those you want them to run. The advantage would be that the client application thinks it's connecting to a MySQL Server, but it's really connecting to the proxy. But I think it would be easier to write a web service than to write a whole application's business logic in a proxy.\nI suppose one could also use MySQL's query rewrite plugin to do something similar, but I've never seen anyone do that successfully.\n",
        "Source": "https://stackoverflow.com/questions/78089675/how-to-store-mysql-credentials-in-python-project-that-users-not-only-from-my-pc"
    },
    {
        "Title": "Setup access.ini file permession so it can be read by php script",
        "Question": "I'm really new to this so sorry if this isn't clear.\nI'm trying to hide my database credentials using an access.ini  file.\nI have a AWS instance, with my scripts located in /bitnami/joomla/index (in short I have an html page that display data using a php file that queries a postgresql db). I've tried creating a new directory /bitnami/joomla/config where I placed the access.ini  file. However, my php script can't read it due to permission issues (I guess).\nThe owner/group for the files in /bitnami/joomla/index are bitnami bitnami.\nAnd the owner/group and permissions for the folder /bitnami/joomla/config and its file are :\nbitnami bitnami\ndrwx--x--x\nIs my setup completly wrong, or is the issue easy to solve ?\n",
        "Answer": "Instead of using an access.ini file, consider using environment variables to store sensitive credentials.\nPHP can read environment variables easily.\nAdditional details can be found here.\n",
        "Source": "https://stackoverflow.com/questions/78035277/setup-access-ini-file-permession-so-it-can-be-read-by-php-script"
    },
    {
        "Title": "How to set an &quot;environment&quot; in a non-trivial way using expression?",
        "Question": "I have a GitHub Actions workflow which deploys some things to an environment. The workflow needs to log in to access the environment, so we use GitHub environment secrets to store credentials.\nMy workflow contains this:\non:\n  workflow_dispatch:\n    inputs:\n      deployment_target:\n        type: choice\n        description: Choose an environment to deploy to\n        options:\n          - dev\n          - staging\n          - production\n          - benchmarks\n...\njobs:\n  deploy-to-persistent-environment:\n    environment: ${{ github.event.inputs.deployment_target}}\n    steps: \n      - name: Login # Pseudocode\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy # Pseudocode\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nThe \"benchmarks\" environment uses the same credentials as the \"development\" environment. So I would like to re-use the same GitHub environment secrets rather than have two sets of duplicate environment secrets in GitHub.\nI.e., I would like to do something like this pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ if github.event.inputs.deployment_target == 'benchmarks' then 'development' else github.event.inputs.deployment_target }}\n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nIs there any way to achieve this with GitHub Actions?\n",
        "Answer": "There is a way to do it directly in the expression, according to this reference on the Github Community, by using the syntax ${{ x && 'ifTrue' || 'ifFalse'  }}\nIn that case:\n\nif the condition x is True, the first argument will be used.\nif the condition x is False, the second argument will be used.\n\nIn our case here, it would look like this:\nenvironment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}\n\nWhere:\n\nif github.event.inputs.deployment_target == 'benchmarks' is True, development will be used as environment.\n\nif github.event.inputs.deployment_target == 'benchmarks' is False, github.event.inputs.deployment_target will be used as environment.\n\n\nUpdating the pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}   \n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nEDIT: This is now available on the GitHub official doc as well (Thanks Benjamin W for reporting)\n",
        "Source": "https://stackoverflow.com/questions/77959880/how-to-set-an-environment-in-a-non-trivial-way-using-expression"
    },
    {
        "Title": "How to implement speech recognition with the Google Cloud Speech-to-Text API using Node.js?",
        "Question": "I am new to Google Cloud,\nI recently created a project with Speech-to-Text API.\nAfter creating the project and linking it to a billing account, I accessed the Node.js in-console tutorial for a quick start.\nAfter following all the steps in the in-console tutorial (and dealing with some mistakes in the code in the tutorial itself), and running the code, I got the following error:\nnode:internal/process/promises:289\n            triggerUncaughtException(err, true /* fromPromise */);\n            ^\n\nError: 3 INVALID_ARGUMENT: Invalid resource field value in the request.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Invalid resource field value in the request.',\n  metadata: Metadata {\n    internalRepr: Map(2) {\n      'google.rpc.errorinfo-bin' => [\n        Buffer(127) [Uint8Array] [\n           10,  24,  82,  69,  83,  79,  85,  82,  67,  69,  95,  80,\n           82,  79,  74,  69,  67,  84,  95,  73,  78,  86,  65,  76,\n           73,  68,  18,  14, 103, 111, 111, 103, 108, 101,  97, 112,\n          105, 115,  46,  99, 111, 109,  26,  32,  10,   7, 115, 101,\n          114, 118, 105,  99, 101,  18,  21, 115, 112, 101, 101,  99,\n          104,  46, 103, 111, 111, 103, 108, 101,  97, 112, 105, 115,\n           46,  99, 111, 109,  26,  49,  10,   6, 109, 101, 116, 104,\n          111, 100,  18,  39, 103, 111, 111, 103, 108, 101,  46,  99,\n          108, 111, 117, 100,\n          ... 27 more items\n        ]\n      ],\n      'grpc-status-details-bin' => [\n        Buffer(222) [Uint8Array] [\n            8,   3,  18,  44,  73, 110, 118,  97, 108, 105, 100,  32,\n          114, 101, 115, 111, 117, 114,  99, 101,  32, 102, 105, 101,\n          108, 100,  32, 118,  97, 108, 117, 101,  32, 105, 110,  32,\n          116, 104, 101,  32, 114, 101, 113, 117, 101, 115, 116,  46,\n           26, 171,   1,  10,  40, 116, 121, 112, 101,  46, 103, 111,\n          111, 103, 108, 101,  97, 112, 105, 115,  46,  99, 111, 109,\n           47, 103, 111, 111, 103, 108, 101,  46, 114, 112,  99,  46,\n           69, 114, 114, 111, 114,  73, 110, 102, 111,  18, 127,  10,\n           24,  82,  69,  83,\n          ... 122 more items\n        ]\n      ]\n    },\n    options: {}\n  },\n  note: 'Exception occurred in retry method that was not classified as transient',\n  statusDetails: [\n    ErrorInfo {\n      metadata: {\n        service: 'speech.googleapis.com',\n        method: 'google.cloud.speech.v2.Speech.Recognize'\n      },\n      reason: 'RESOURCE_PROJECT_INVALID',\n      domain: 'googleapis.com'\n    }\n  ],\n  reason: 'RESOURCE_PROJECT_INVALID',\n  domain: 'googleapis.com',\n  errorInfoMetadata: {\n    service: 'speech.googleapis.com',\n    method: 'google.cloud.speech.v2.Speech.Recognize'\n  }\n}\n\nThis is after I seted a project for quota purposes (using gcloud auth application-default set-quota-project $PROJECT_ID in the terminal).\nI also did the same steps through the gcloud CLI (on Windows) and it returned the same error.\nIs there something I forgot to do? Or something in the code is wrong? Maybe it's something to do with the fact that I'm working with version 2 of the API and the code is optimized to work only with version 1 of the API?\nMany thanks in advance!\nThe reusable Node.js code (I made some changes from the original code of the tutorial after encountering errors, and I also changed the way to get the data of the audio file after I couldn't get it from the uri of the bucket, as is customary in GCP):\nconst speech = require('@google-cloud/speech').v2;\nconst https = require('https');\n\nconst client = new speech.SpeechClient();\nconst projectId = '<ProjectId>';\nvar recognizerName;\n\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId: 'en123',\n    recognizer: {\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function getUrlData(url) {\n  return new Promise((resolve) => {\n      https.get(url, response => {\n          var body = '';\n          var i = 0;\n          response.on('data', chunk => {\n              i++;\n              body += chunk;\n          });\n          response.on('end', () => {\n              resolve(Buffer.from(body).toString('base64'));\n          });\n      });\n  });\n}\n\nasync function transcribeFile() {\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nUpdate:\nAfter looking at the (asker's) code in this question, I realized that I got confused in the definition of recognizerName and used only the string of the recognizerId instead of using the full path of the recognizer (projects/${projectId}/locations/global/recognizers/${recognizerId}), so currently my code looks like this:\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\n// ...\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nBut now I get another error:\nError: 3 INVALID_ARGUMENT: Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.',\n  metadata: Metadata { internalRepr: Map(0) {}, options: {} },\n  note: 'Exception occurred in retry method that was not classified as transient'\n}\n\n",
        "Answer": "I managed to solve it!\nThe error Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters occurs when the requested file is in a format without Codec (in this case .raw) and therefore the Speech to Text API does not know how to encode it.\nTo solve this I had to pass an explicitDecodingConfig object when creating the recognizer (within the defaultRecognitionConfig property) or later in the transcriptionRequest (within the config property).\nconst speech = require('@google-cloud/speech').v2;\n\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\n\nconst client = new speech.SpeechClient();\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId,\n    recognizer: {\n      defaultRecognitionConfig: {\n        explicitDecodingConfig: {\n          encoding: 'LINEAR16',\n          sampleRateHertz: 16000,\n          audioChannelCount: 1\n        }\n      },\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  const recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const gcsUri = 'gs://cloud-samples-data/speech/brooklyn_bridge.raw';\n\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    uri: gcsUri,\n    config: {\n      explicitDecodingConfig: {   // If you didn't set explicitDecodingConfig when creating the recognizer, you have to set it here.\n        encoding: 'LINEAR16',\n        sampleRateHertz: 16000,\n        audioChannelCount: 1\n      }\n    },\n  }\n\n  const response = await client.recognize(transcriptionRequest);\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\n(async function main() {\n  await createRecognizer();\n  await transcribeFile();\n})();\n\n",
        "Source": "https://stackoverflow.com/questions/77940391/how-to-implement-speech-recognition-with-the-google-cloud-speech-to-text-api-usi"
    },
    {
        "Title": "Updating AWS credentials",
        "Question": "I need advice on how I can update AWS credentials after they expire.\nI'm creating a bean of AmazonSimpleEmailService this way:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new AWSStaticCredentialsProvider(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                        .getCredentials())\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\nBut when I'm trying to use it I'm getting an error:\nThe security token included in the request is expired (Service: AmazonSimpleEmailService; Status Code: 403; Error Code: ExpiredToken\nIf I create an instance of the SES client right before each mail sending - it works correctly, but it looks like a bad practice to create a new instance before each use.\nI understand that the issue with the credentials that I'm getting via STSAssumeRoleSessionCredentialsProvider - they just have an expiration time.\nI am wondering if there should be a way to automatically update the credentials when they are going to expire, so I'd really appreciate any advice on how to do it.\n",
        "Answer": "STSAssumeRoleSessionCredentialsProvider will auto-refresh the credentials, but you are blocking that functionality by getting a single set of credentials and passing them into a AWSStaticCredentialsProvider instance.\nThis should allow you to use the auto-refresh of the STS Provider:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\n",
        "Source": "https://stackoverflow.com/questions/77921630/updating-aws-credentials"
    },
    {
        "Title": "Reading credentials from another file doesn&#39;t work in Python",
        "Question": "I created a Python file called pw.py where I store my username and password.\nThe content of pw.py is as follows:\nusername = \"username1\"\npassword = \"pswrd2\"\n\nTo access these credentials from another file called ProducerReddit.ipynb, I do the following:\nfrom pw import password, username\n\nHowever, when I try to print password and username, they are always empty.\nThe two files are inside the same folder.\nWhat I am doing wrong?\n",
        "Answer": "I recommend you to check do you have a __init__.py file in the your top folder.\nIf you don't have please create this __init__.py module.\nThen try to use absolute import path.\nFor example you have top directorty with this structure:\ntop_directory:\n              __init__.py\n              pw.py\n              other_file.py\n\nyour import instructions in the other_file.py shoud be like this:\nfrom top_directory.pw import username, password\n\nI hope this may help you\n",
        "Source": "https://stackoverflow.com/questions/77786371/reading-credentials-from-another-file-doesnt-work-in-python"
    },
    {
        "Title": "Apache HTTP Client 5.3 ~ NTCredentials no longer working",
        "Question": "I have a project that uses org.apache.httpcomponents.client5:httpclient5. I recently tried upgrading from version 5.2.3 to version 5.3, only to realize that the authentication was no longer working in the new version.\nHere is how the relevant code looks:\n        BasicCredentialsProvider credentialsProvider =\n            new BasicCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(credentialsProvider)\n            .build();\n[...]\n            final HttpGet httpget = new HttpGet(targetUrl);\n\n            CloseableHttpResponse response = httpclient.execute(httpget);\n\n\nBefore the update from 5.2.3 to 5.3 this worked fine. However, when I use 5.3, I now get a 401 UNAUTHORIZED response.\nI also tried the following variations to above code to pass the credentials along, but they all also return only 401 UNAUTHORIZED:\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(CredentialsProviderBuilder.create()\n                .add(new HttpHost(host, port), username, password.toCharArray())\n                .build())\n            .build();\n\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new UsernamePasswordCredentials(username, password.toCharArray())\n        );\n\n        SystemDefaultCredentialsProvider credentialsProvider =\n            new SystemDefaultCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n\nNow I am stumped. Could this be a bug in 5.3? Or did something change to the way that the NTCredentialsProvider works? I could not find any release notes indicating so, and since this is only a minor version update that would surprise me.\nNonetheless, the fact it that it works with the old version but not with the new one. Does anyone has any suggestions as to what I can do about that?\n",
        "Answer": "We now managed to solve it by providing the httpclient with a default auth scheme registry like this:\n        Lookup<AuthSchemeFactory> authSchemeRegistry = RegistryBuilder.<AuthSchemeFactory>create()\n                .register(StandardAuthScheme.NTLM, new NTLMSchemeFactory()).build();\n\n        httpclient = HttpClients.custom()\n                .setDefaultCredentialsProvider(credentialsProvider)\n                .setDefaultRequestConfig(config)\n                .setDefaultAuthSchemeRegistry(authSchemeRegistry)\n                .build();\n\n",
        "Source": "https://stackoverflow.com/questions/77784888/apache-http-client-5-3-ntcredentials-no-longer-working"
    },
    {
        "Title": "Error on Google Sign In CredentialManager, using Jetpack Compose",
        "Question": "I am trying to create a Sign In with Google Button but everytime credentialManager.getCredential is called, it gives me :\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nI tried resetting the SHA-1 Fingerprint, I've created both web application and android in the google cloud credential, I've used both the web app client id and android client id. I'm lost, please help\n\nobject DeveloperScreen{\n\n    const val GOOGLE_WEB_CLIENT_ID = \"xxxxxxxxxh5n94bxxxxxxxxxxx1.apps.googleusercontent.com\"\n//    const val GOOGLE_WEB_CLIENT_SECRET = \"GxxxxxxxxCinwYDR8KQi3-wD9ugT311\"\n//    const val GOOGLE_ANDROID_CLIENT_ID = \"3xxxxxxx80-7ja1n9nknxxxxxxxxxxxxxxxxxxxens33k.apps.googleusercontent.com\"\n\n\n    private suspend fun googleSignIn(context : Context) {\n\n\n        val credentialManager = androidx.credentials.CredentialManager.create(context)\n\n        val googleIdOption: GetGoogleIdOption = GetGoogleIdOption.Builder()\n            .setFilterByAuthorizedAccounts(false)\n            .setServerClientId(GOOGLE_WEB_CLIENT_ID)\n            .build()\n\n        Log.i(\"auth-google-googleIdOption\", googleIdOption.toString())\n\n        val request: GetCredentialRequest = GetCredentialRequest.Builder()\n            .addCredentialOption(googleIdOption)\n            .build()\n\n        Log.i(\"auth-google-credentialRequest\", request.toString())\n\n\n        val result = credentialManager.getCredential(\n            request = request,\n            context = context,\n        )\n\n        Log.i(\"auth-google-result\", result.toString())\n\n\n\n\n\n    }\n\n\n\n    @Composable\n    public fun DeveloperScreen1(navController : NavHostController, context : Context){\n\n        var phoneNumber by rememberSaveable { mutableStateOf(\"\") }\n        var email by rememberSaveable { mutableStateOf(\"\")}\n        var otpCode by rememberSaveable { mutableStateOf(\"\") }\n\n        var useEmail by rememberSaveable { mutableStateOf(false)}\n\n        var message by rememberSaveable { mutableStateOf(\"\")}\n\n        val coroutineScope = rememberCoroutineScope()\n\n        Column {\n\n\n            var user : User? = getCurrentUser()\n\n            Text(\n                textAlign = TextAlign.Center,\n                fontSize = 5.em,\n                text = \"DEV SCREEN\",\n                modifier = Modifier\n                    .fillMaxWidth()\n                    .padding(top = 10.dp)\n\n            )\n\n            Text(\n                text = message,\n                color = Color.Black\n            )\n\n            Button(\n                onClick = {\n\n                    coroutineScope.launch {\n\n                        googleSignIn(context)\n\n                    }\n...\n\n\n\n\nvar screenHeight = 0.dp\nvar screenWidth = 0.dp\n\nvar authViewModel = AuthViewModel()\n\n\n\nclass MainActivity : ComponentActivity() {\n\n\n\n    @RequiresApi(Q)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n\n        Log.d(\"Initialize\", \"App Started\")\n\n        setContent {\n\n\n            var context: Context = LocalContext.current\n\n            Box(\n                Modifier\n                    .background(color = Color(0xFFBDC6CA))\n                    .safeDrawingPadding()\n            ) {\n                MetroFCTheme {\n                    MainContent(context)\n\n\n\n                }\n            }\n        }\n\n        actionBar?.hide()\n        WindowCompat.setDecorFitsSystemWindows(window, false)\n        if (Build.VERSION.SDK_INT < Build.VERSION_CODES.R) {\n            window.addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)\n        } else {\n            window.insetsController?.apply {\n//                hide(WindowInsetsAndroid.Type.statusBars())\n                systemBarsBehavior = WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\n            }\n        }\n\n    }\n\n\n}\n\n\n\n@RequiresApi(Q)\n@Composable\nfun MainContent(\n    context : Context\n){\n\n    var user by remember{ mutableStateOf<User?>(null) }\n\n    LaunchedEffect(key1 = user) {\n\n        refreshMenu()\n\n    }\n\n\n    LaunchedEffect(key1 = \"login\") {\n\n        user = loginAnonymously()\n        Log.d(\"DB-User\", \"USER LOGIN SUCCESSFUL : $user\")\n\n    }\n\n\n    Log.d(\"DB\", \"2.\" + user.toString())\n\n\n\n\n    Log.d(\"Initialize\",\"Database Connected\")\n\n    val configuration = LocalConfiguration.current\n    screenHeight = configuration.screenHeightDp.dp\n    screenWidth = configuration.screenWidthDp.dp\n\n    var onDashboard by remember {mutableStateOf(true)}\n    var onMenu = false\n    val updateStates = { dashboard: Boolean, menu: Boolean ->\n        onDashboard = dashboard\n        onMenu = menu\n    }\n\n    val navController = rememberNavController()\n\n\n    Scaffold(\n\n        bottomBar = {\n            if(authViewModel.isLoggedIn) NavigationBar(navController = navController, onDashboard, onMenu, updateStates)\n\n                    },\n        containerColor = MaterialTheme.colorScheme.background,\n        contentWindowInsets = WindowInsets(0.dp),\n        modifier = Modifier.fillMaxSize()\n\n    ) {\n    innerPadding ->\n\n        val scrollState = rememberScrollState()\n\n        val padding = innerPadding\n\n        NavHost(\n            navController = navController,\n            startDestination = if (authViewModel.isLoggedIn) Route.DEV_SCREEN else Route.DEV_SCREEN,\n            modifier = Modifier\n//                .verticalScroll(state = scrollState)\n                .fillMaxSize()\n        ) {\n\n            composable(route = Route.DEV_SCREEN){\n                DeveloperScreen1(navController, context)\n            }\n\n            composable(route = Route.DASHBOARD_SCREEN) {\n\n                authViewModel.login(user)\n                DashboardScreen()\n            }\n\n            composable(route = Route.MENU_SCREEN) {\n                authViewModel.login(user)\n                MenuScreen(user)\n            }\n        }\n    }\n}\n\nProcess: com.metrofriedchicken.metrofc, PID: 20630\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nat androidx.credentials.playservices.controllers.CredentialProviderBaseController$Companion.getCredentialExceptionTypeToException$credentials_play_services_auth_release(CredentialProviderBaseController.kt:110)\nat androidx.credentials.playservices.controllers.BeginSignIn.CredentialProviderBeginSignInController$resultReceiver$1$onReceiveResult$1.invoke(CredentialProviderBeginSignInController.kt:93)\nI've tried :\n\nDeleting Keystore and make a new one ( debug and release )\nUsed the web app client id and android client id\nChange device\nwaited a day\n\n",
        "Answer": "I am assuming you are currently integrating the Credential Manager in debug mode and testing your integration in an app directly installed from Android Studio to  your test device.\nIn this case you will need to configure the SHA1 key currently being used to sign your app, which is Android Studio's debug keystore.\nIn this case, you can get the SHA1 by running below command in Android Studio's terminal:\n./gradlew signingreport\n\nCopy the correct SHA1 fingerprint of correct Variant and Config from the terminal console and configure the same in cloud console for your app's Android OAuth2 client.\nIn order to keep the steps cleaner, I am mentioning them as below:\n\nCreate one Android OAuth2 client in cloud api console with you app's package name.\nUse the debug SHA1 key in this Android OAuth2 client creation as I mentioned above (in order to recognized this as debug client you can append the client name with debug as \"your-app-debug\")\nCreate one Web OAuth2 client in cloud api console. This will act as the server for your app\nCopy the ClientID of this Web client and use in setServerClientId(ServerClientID) in your integration.\n\nWith these simple steps alone, your integration should work fine.\nOptionally, as the next step,\n\nYou can create another Android OAuth2 client with release key's SHA1 fingerprint for production, and for recognizing this client, can give it a name \"Your-app-release\"\n\n",
        "Source": "https://stackoverflow.com/questions/78247578/error-on-google-sign-in-credentialmanager-using-jetpack-compose"
    },
    {
        "Title": "Access AWS Secrets Manager with IMDSv2 set to required",
        "Question": "I'm working on a Java application running on an EC2 instance in AWS. My goal is to access AWS Secrets Manager using an AWS SDK for Java and an IAM role attached to the EC2 instance.\nEverything works smoothly when IMDSv2 (Instance Metadata Service version 2) is optional. However, when it's set to required as recommended, I encounter an issue.\nSpecifically, I'm receiving the error 'software.amazon.awssdk.core.exception.SdkClientException: Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain'.\nHow can I resolve this issue and successfully access AWS Secrets Manager with IMDSv2 set to required?\nTried attaching different policies, created some custom ones but the result is same.\njava sdk version used:\n<dependency>\n     <groupId>software.amazon.awssdk</groupId>\n     <artifactId>secretsmanager</artifactId>\n     <version>2.25.7</version>\n</dependency>\n\n",
        "Answer": "I did some more research and was able to figure this out. There have been issues with IMDSv2 network request and what was suggested is to increase the hop limit to '2' on the ec2 instance. As said here in the considerations section as well https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-retrieval.html#imds-considerations\nTo increase the hop limit:\n\"Use the modify-instance-metadata-options CLI command and set the http-put-response-hop-limit parameter to the required number of hops. In the following example, the hop limit is set to 2. Note that when specifying a value for http-put-response-hop-limit, you must also set http-endpoint to enabled\"\nUsing aws cli:\naws ec2 modify-instance-metadata-options \\\n--instance-id <instance-id> \\\n--http-put-response-hop-limit 2 \\\n--http-endpoint enabled\n\n",
        "Source": "https://stackoverflow.com/questions/78183614/access-aws-secrets-manager-with-imdsv2-set-to-required"
    },
    {
        "Title": "Install a private package with credentials from requirements.txt",
        "Question": "I want to a private package via\n%pip install -r /dbfs/requirements.txt\n\nInside this requirements.txt is give:\ngit+https://<user>:$token@<gitprovider>.com/<path/to/repo>\n\nIf i give user and token inside the requirements.txt it works like a charm, but I want to pass user and token via dbutils.secrets. Is this doable without manipulating the requirements.txt before?\nI thought it would be possible to create environment variables, but this did not work for me.\n%env GIT_USERNAME= ...\n%env GIT_TOKEN= ...\n\n",
        "Answer": "The way is using python\n\nGetting information\nStore the information in a temporary file so that its details will not be found in the run log or records after running\nRun\n\nimport dbutils\n\nusername = dbutils.secrets.get(scope=\"your_scope\", key=\"git_username\")\ntoken = dbutils.secrets.get(scope=\"your_scope\", key=\"git_token\")\n\nrepo_url = f\"git+https://{username}:{token}@gitprovider.com/path/to/repo\"\n\nrequirements_path = \"/dbfs/tmp/requirements.txt\"\n\nwith open(requirements_path, \"w\") as file:\n    file.write(repo_url + \"\\n\")\n\ndbutils.notebook.run(\"%pip install -r \" + requirements_path, 60)\n\n",
        "Source": "https://stackoverflow.com/questions/78140635/install-a-private-package-with-credentials-from-requirements-txt"
    },
    {
        "Title": "PayPal bearer resets after x amount of seconds",
        "Question": "I\u2019m using PayPal refund api. The api docs says the bearer token that I am using will reset after x amount of seconds.\nLink to where it says access token resets:\nhttps://developer.paypal.com/reference/get-an-access-token/\nIn my case my token resets after 9 hours. I am using this token to refund purchases which will happen all the time. Is there an alternate solution from Bearer <Access-Token> that doesn\u2019t include a reset token? I haven\u2019t been able to find one other than the Basic <client_id>:<secret> which includes client credentials which doesn\u2019t seem to work. And yes the credentials are correct.\nLink to api:\nhttps://developer.paypal.com/docs/api/payments/v2/#captures_refund\n",
        "Answer": "Basic client_id:secret, where the string client_id:secret is Base64 encoded, is the header value for HTTP Basic Authentication. This is used to obtain an access token from the oauth2 token endpoint.\nAccess tokens expire after 9 hours, beyond which a new one must be obtained. These are required for all PayPal REST API operations, including refunds.\n",
        "Source": "https://stackoverflow.com/questions/78109044/paypal-bearer-resets-after-x-amount-of-seconds"
    },
    {
        "Title": "How to store MySQL credentials in python project, that users not only from my pc will use later?",
        "Question": "I have the following code:\nclass Server:\n    def __init__(self):\n        #server credentials\n        self.ip = \"192.168.1.182\"\n        self.user = \"bank_user\"\n        self.password = \"*mypass*\"\n        self.port = 3307\n        self.database = \"bank\"\n    def connect_to_server(self):\n        try:\n            self.mydb = mysql.connector.connect(\n                host = self.ip,\n                user = self.user,\n                password = self.password,\n                port = self.port,\n                database = self.database\n                )\n            self.mycursor = self.mydb.cursor()\n            print(\"\u2713 Server connection estabilished\")\n            rlist = [True]\n\nThe problem is, I don't want to store it in my code because I feel that it's not safe\nI'm creating a banking app (just for fun) so it will be used as .py->.exe later by users not only from my pc. I shouldn't be stored in a config file or a plaintext file, because if someone gets the credentials he can basically log into the MySQL database and modify all of the data.\nSo no:\n\nEnviromental variables\nPlaintext/ config file\nIt should work on any pc (I'm using pytoexe to convert my python file to exe, so that everyone can run the app)\nI'm new to stackoverflow so forgive me if I wrote sth wrong\n\nI thought about creating a password encryption, but anyone who gets the decryption key can decrypt the password. I also thought about creating my own encryption method, but anyone who gets to my code can just use the decrypting function and execute it for example: decryptor(\"encryptedpassword\")\n",
        "Answer": "Right, anyone who gets your code can extract the MySQL password and connect using any other client. They can do any SQL query according to the privileges you granted that MySQL user.\nEven if you compile using pytoexe, a skilled person could use a debugger or simply the strings tool to extract the password.\nIf you encrypt, they can decrypt. If you try to invent your own encryption algorithm, assume they can decrypt it more easily. I assume you are not an accomplished Ph.D. in applied cryptography, so any novel encryption method you think of will surely be easier to crack than state of the art encryption tools.\nThere are two common methods to solve this problem:\n\nDon't give them the MySQL password. The application you give them has no MySQL connection. The application makes HTTP requests to a web service that you develop. The code in your web service implements specific SQL they can execute. This is where you enforce business rules about what they can access. This is by far the most popular solution.\n\nGive them the MySQL password, but restrict the SQL they can execute. Privileges alone only give you limited control, so you need to create a layer of stored routines and views in the MySQL database. They should be able to access the stored routines and views, but the user cannot access the underlying tables. The routines and views have privileges to do that. Therefore the users can only do what you have allowed them to do in those routines and views.\n\n\nThere could also be a solution using a proxy such as ProxySQL. This would involve writing filters in the proxy so clients would not be allowed to run queries except those you want them to run. The advantage would be that the client application thinks it's connecting to a MySQL Server, but it's really connecting to the proxy. But I think it would be easier to write a web service than to write a whole application's business logic in a proxy.\nI suppose one could also use MySQL's query rewrite plugin to do something similar, but I've never seen anyone do that successfully.\n",
        "Source": "https://stackoverflow.com/questions/78089675/how-to-store-mysql-credentials-in-python-project-that-users-not-only-from-my-pc"
    },
    {
        "Title": "Setup access.ini file permession so it can be read by php script",
        "Question": "I'm really new to this so sorry if this isn't clear.\nI'm trying to hide my database credentials using an access.ini  file.\nI have a AWS instance, with my scripts located in /bitnami/joomla/index (in short I have an html page that display data using a php file that queries a postgresql db). I've tried creating a new directory /bitnami/joomla/config where I placed the access.ini  file. However, my php script can't read it due to permission issues (I guess).\nThe owner/group for the files in /bitnami/joomla/index are bitnami bitnami.\nAnd the owner/group and permissions for the folder /bitnami/joomla/config and its file are :\nbitnami bitnami\ndrwx--x--x\nIs my setup completly wrong, or is the issue easy to solve ?\n",
        "Answer": "Instead of using an access.ini file, consider using environment variables to store sensitive credentials.\nPHP can read environment variables easily.\nAdditional details can be found here.\n",
        "Source": "https://stackoverflow.com/questions/78035277/setup-access-ini-file-permession-so-it-can-be-read-by-php-script"
    },
    {
        "Title": "How to set an &quot;environment&quot; in a non-trivial way using expression?",
        "Question": "I have a GitHub Actions workflow which deploys some things to an environment. The workflow needs to log in to access the environment, so we use GitHub environment secrets to store credentials.\nMy workflow contains this:\non:\n  workflow_dispatch:\n    inputs:\n      deployment_target:\n        type: choice\n        description: Choose an environment to deploy to\n        options:\n          - dev\n          - staging\n          - production\n          - benchmarks\n...\njobs:\n  deploy-to-persistent-environment:\n    environment: ${{ github.event.inputs.deployment_target}}\n    steps: \n      - name: Login # Pseudocode\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy # Pseudocode\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nThe \"benchmarks\" environment uses the same credentials as the \"development\" environment. So I would like to re-use the same GitHub environment secrets rather than have two sets of duplicate environment secrets in GitHub.\nI.e., I would like to do something like this pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ if github.event.inputs.deployment_target == 'benchmarks' then 'development' else github.event.inputs.deployment_target }}\n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nIs there any way to achieve this with GitHub Actions?\n",
        "Answer": "There is a way to do it directly in the expression, according to this reference on the Github Community, by using the syntax ${{ x && 'ifTrue' || 'ifFalse'  }}\nIn that case:\n\nif the condition x is True, the first argument will be used.\nif the condition x is False, the second argument will be used.\n\nIn our case here, it would look like this:\nenvironment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}\n\nWhere:\n\nif github.event.inputs.deployment_target == 'benchmarks' is True, development will be used as environment.\n\nif github.event.inputs.deployment_target == 'benchmarks' is False, github.event.inputs.deployment_target will be used as environment.\n\n\nUpdating the pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}   \n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nEDIT: This is now available on the GitHub official doc as well (Thanks Benjamin W for reporting)\n",
        "Source": "https://stackoverflow.com/questions/77959880/how-to-set-an-environment-in-a-non-trivial-way-using-expression"
    },
    {
        "Title": "How to implement speech recognition with the Google Cloud Speech-to-Text API using Node.js?",
        "Question": "I am new to Google Cloud,\nI recently created a project with Speech-to-Text API.\nAfter creating the project and linking it to a billing account, I accessed the Node.js in-console tutorial for a quick start.\nAfter following all the steps in the in-console tutorial (and dealing with some mistakes in the code in the tutorial itself), and running the code, I got the following error:\nnode:internal/process/promises:289\n            triggerUncaughtException(err, true /* fromPromise */);\n            ^\n\nError: 3 INVALID_ARGUMENT: Invalid resource field value in the request.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Invalid resource field value in the request.',\n  metadata: Metadata {\n    internalRepr: Map(2) {\n      'google.rpc.errorinfo-bin' => [\n        Buffer(127) [Uint8Array] [\n           10,  24,  82,  69,  83,  79,  85,  82,  67,  69,  95,  80,\n           82,  79,  74,  69,  67,  84,  95,  73,  78,  86,  65,  76,\n           73,  68,  18,  14, 103, 111, 111, 103, 108, 101,  97, 112,\n          105, 115,  46,  99, 111, 109,  26,  32,  10,   7, 115, 101,\n          114, 118, 105,  99, 101,  18,  21, 115, 112, 101, 101,  99,\n          104,  46, 103, 111, 111, 103, 108, 101,  97, 112, 105, 115,\n           46,  99, 111, 109,  26,  49,  10,   6, 109, 101, 116, 104,\n          111, 100,  18,  39, 103, 111, 111, 103, 108, 101,  46,  99,\n          108, 111, 117, 100,\n          ... 27 more items\n        ]\n      ],\n      'grpc-status-details-bin' => [\n        Buffer(222) [Uint8Array] [\n            8,   3,  18,  44,  73, 110, 118,  97, 108, 105, 100,  32,\n          114, 101, 115, 111, 117, 114,  99, 101,  32, 102, 105, 101,\n          108, 100,  32, 118,  97, 108, 117, 101,  32, 105, 110,  32,\n          116, 104, 101,  32, 114, 101, 113, 117, 101, 115, 116,  46,\n           26, 171,   1,  10,  40, 116, 121, 112, 101,  46, 103, 111,\n          111, 103, 108, 101,  97, 112, 105, 115,  46,  99, 111, 109,\n           47, 103, 111, 111, 103, 108, 101,  46, 114, 112,  99,  46,\n           69, 114, 114, 111, 114,  73, 110, 102, 111,  18, 127,  10,\n           24,  82,  69,  83,\n          ... 122 more items\n        ]\n      ]\n    },\n    options: {}\n  },\n  note: 'Exception occurred in retry method that was not classified as transient',\n  statusDetails: [\n    ErrorInfo {\n      metadata: {\n        service: 'speech.googleapis.com',\n        method: 'google.cloud.speech.v2.Speech.Recognize'\n      },\n      reason: 'RESOURCE_PROJECT_INVALID',\n      domain: 'googleapis.com'\n    }\n  ],\n  reason: 'RESOURCE_PROJECT_INVALID',\n  domain: 'googleapis.com',\n  errorInfoMetadata: {\n    service: 'speech.googleapis.com',\n    method: 'google.cloud.speech.v2.Speech.Recognize'\n  }\n}\n\nThis is after I seted a project for quota purposes (using gcloud auth application-default set-quota-project $PROJECT_ID in the terminal).\nI also did the same steps through the gcloud CLI (on Windows) and it returned the same error.\nIs there something I forgot to do? Or something in the code is wrong? Maybe it's something to do with the fact that I'm working with version 2 of the API and the code is optimized to work only with version 1 of the API?\nMany thanks in advance!\nThe reusable Node.js code (I made some changes from the original code of the tutorial after encountering errors, and I also changed the way to get the data of the audio file after I couldn't get it from the uri of the bucket, as is customary in GCP):\nconst speech = require('@google-cloud/speech').v2;\nconst https = require('https');\n\nconst client = new speech.SpeechClient();\nconst projectId = '<ProjectId>';\nvar recognizerName;\n\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId: 'en123',\n    recognizer: {\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function getUrlData(url) {\n  return new Promise((resolve) => {\n      https.get(url, response => {\n          var body = '';\n          var i = 0;\n          response.on('data', chunk => {\n              i++;\n              body += chunk;\n          });\n          response.on('end', () => {\n              resolve(Buffer.from(body).toString('base64'));\n          });\n      });\n  });\n}\n\nasync function transcribeFile() {\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nUpdate:\nAfter looking at the (asker's) code in this question, I realized that I got confused in the definition of recognizerName and used only the string of the recognizerId instead of using the full path of the recognizer (projects/${projectId}/locations/global/recognizers/${recognizerId}), so currently my code looks like this:\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\n// ...\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nBut now I get another error:\nError: 3 INVALID_ARGUMENT: Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.',\n  metadata: Metadata { internalRepr: Map(0) {}, options: {} },\n  note: 'Exception occurred in retry method that was not classified as transient'\n}\n\n",
        "Answer": "I managed to solve it!\nThe error Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters occurs when the requested file is in a format without Codec (in this case .raw) and therefore the Speech to Text API does not know how to encode it.\nTo solve this I had to pass an explicitDecodingConfig object when creating the recognizer (within the defaultRecognitionConfig property) or later in the transcriptionRequest (within the config property).\nconst speech = require('@google-cloud/speech').v2;\n\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\n\nconst client = new speech.SpeechClient();\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId,\n    recognizer: {\n      defaultRecognitionConfig: {\n        explicitDecodingConfig: {\n          encoding: 'LINEAR16',\n          sampleRateHertz: 16000,\n          audioChannelCount: 1\n        }\n      },\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  const recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const gcsUri = 'gs://cloud-samples-data/speech/brooklyn_bridge.raw';\n\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    uri: gcsUri,\n    config: {\n      explicitDecodingConfig: {   // If you didn't set explicitDecodingConfig when creating the recognizer, you have to set it here.\n        encoding: 'LINEAR16',\n        sampleRateHertz: 16000,\n        audioChannelCount: 1\n      }\n    },\n  }\n\n  const response = await client.recognize(transcriptionRequest);\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\n(async function main() {\n  await createRecognizer();\n  await transcribeFile();\n})();\n\n",
        "Source": "https://stackoverflow.com/questions/77940391/how-to-implement-speech-recognition-with-the-google-cloud-speech-to-text-api-usi"
    },
    {
        "Title": "Updating AWS credentials",
        "Question": "I need advice on how I can update AWS credentials after they expire.\nI'm creating a bean of AmazonSimpleEmailService this way:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new AWSStaticCredentialsProvider(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                        .getCredentials())\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\nBut when I'm trying to use it I'm getting an error:\nThe security token included in the request is expired (Service: AmazonSimpleEmailService; Status Code: 403; Error Code: ExpiredToken\nIf I create an instance of the SES client right before each mail sending - it works correctly, but it looks like a bad practice to create a new instance before each use.\nI understand that the issue with the credentials that I'm getting via STSAssumeRoleSessionCredentialsProvider - they just have an expiration time.\nI am wondering if there should be a way to automatically update the credentials when they are going to expire, so I'd really appreciate any advice on how to do it.\n",
        "Answer": "STSAssumeRoleSessionCredentialsProvider will auto-refresh the credentials, but you are blocking that functionality by getting a single set of credentials and passing them into a AWSStaticCredentialsProvider instance.\nThis should allow you to use the auto-refresh of the STS Provider:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\n",
        "Source": "https://stackoverflow.com/questions/77921630/updating-aws-credentials"
    },
    {
        "Title": "Reading credentials from another file doesn&#39;t work in Python",
        "Question": "I created a Python file called pw.py where I store my username and password.\nThe content of pw.py is as follows:\nusername = \"username1\"\npassword = \"pswrd2\"\n\nTo access these credentials from another file called ProducerReddit.ipynb, I do the following:\nfrom pw import password, username\n\nHowever, when I try to print password and username, they are always empty.\nThe two files are inside the same folder.\nWhat I am doing wrong?\n",
        "Answer": "I recommend you to check do you have a __init__.py file in the your top folder.\nIf you don't have please create this __init__.py module.\nThen try to use absolute import path.\nFor example you have top directorty with this structure:\ntop_directory:\n              __init__.py\n              pw.py\n              other_file.py\n\nyour import instructions in the other_file.py shoud be like this:\nfrom top_directory.pw import username, password\n\nI hope this may help you\n",
        "Source": "https://stackoverflow.com/questions/77786371/reading-credentials-from-another-file-doesnt-work-in-python"
    },
    {
        "Title": "Apache HTTP Client 5.3 ~ NTCredentials no longer working",
        "Question": "I have a project that uses org.apache.httpcomponents.client5:httpclient5. I recently tried upgrading from version 5.2.3 to version 5.3, only to realize that the authentication was no longer working in the new version.\nHere is how the relevant code looks:\n        BasicCredentialsProvider credentialsProvider =\n            new BasicCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(credentialsProvider)\n            .build();\n[...]\n            final HttpGet httpget = new HttpGet(targetUrl);\n\n            CloseableHttpResponse response = httpclient.execute(httpget);\n\n\nBefore the update from 5.2.3 to 5.3 this worked fine. However, when I use 5.3, I now get a 401 UNAUTHORIZED response.\nI also tried the following variations to above code to pass the credentials along, but they all also return only 401 UNAUTHORIZED:\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(CredentialsProviderBuilder.create()\n                .add(new HttpHost(host, port), username, password.toCharArray())\n                .build())\n            .build();\n\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new UsernamePasswordCredentials(username, password.toCharArray())\n        );\n\n        SystemDefaultCredentialsProvider credentialsProvider =\n            new SystemDefaultCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n\nNow I am stumped. Could this be a bug in 5.3? Or did something change to the way that the NTCredentialsProvider works? I could not find any release notes indicating so, and since this is only a minor version update that would surprise me.\nNonetheless, the fact it that it works with the old version but not with the new one. Does anyone has any suggestions as to what I can do about that?\n",
        "Answer": "We now managed to solve it by providing the httpclient with a default auth scheme registry like this:\n        Lookup<AuthSchemeFactory> authSchemeRegistry = RegistryBuilder.<AuthSchemeFactory>create()\n                .register(StandardAuthScheme.NTLM, new NTLMSchemeFactory()).build();\n\n        httpclient = HttpClients.custom()\n                .setDefaultCredentialsProvider(credentialsProvider)\n                .setDefaultRequestConfig(config)\n                .setDefaultAuthSchemeRegistry(authSchemeRegistry)\n                .build();\n\n",
        "Source": "https://stackoverflow.com/questions/77784888/apache-http-client-5-3-ntcredentials-no-longer-working"
    },
    {
        "Title": "Error on Google Sign In CredentialManager, using Jetpack Compose",
        "Question": "I am trying to create a Sign In with Google Button but everytime credentialManager.getCredential is called, it gives me :\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nI tried resetting the SHA-1 Fingerprint, I've created both web application and android in the google cloud credential, I've used both the web app client id and android client id. I'm lost, please help\n\nobject DeveloperScreen{\n\n    const val GOOGLE_WEB_CLIENT_ID = \"xxxxxxxxxh5n94bxxxxxxxxxxx1.apps.googleusercontent.com\"\n//    const val GOOGLE_WEB_CLIENT_SECRET = \"GxxxxxxxxCinwYDR8KQi3-wD9ugT311\"\n//    const val GOOGLE_ANDROID_CLIENT_ID = \"3xxxxxxx80-7ja1n9nknxxxxxxxxxxxxxxxxxxxens33k.apps.googleusercontent.com\"\n\n\n    private suspend fun googleSignIn(context : Context) {\n\n\n        val credentialManager = androidx.credentials.CredentialManager.create(context)\n\n        val googleIdOption: GetGoogleIdOption = GetGoogleIdOption.Builder()\n            .setFilterByAuthorizedAccounts(false)\n            .setServerClientId(GOOGLE_WEB_CLIENT_ID)\n            .build()\n\n        Log.i(\"auth-google-googleIdOption\", googleIdOption.toString())\n\n        val request: GetCredentialRequest = GetCredentialRequest.Builder()\n            .addCredentialOption(googleIdOption)\n            .build()\n\n        Log.i(\"auth-google-credentialRequest\", request.toString())\n\n\n        val result = credentialManager.getCredential(\n            request = request,\n            context = context,\n        )\n\n        Log.i(\"auth-google-result\", result.toString())\n\n\n\n\n\n    }\n\n\n\n    @Composable\n    public fun DeveloperScreen1(navController : NavHostController, context : Context){\n\n        var phoneNumber by rememberSaveable { mutableStateOf(\"\") }\n        var email by rememberSaveable { mutableStateOf(\"\")}\n        var otpCode by rememberSaveable { mutableStateOf(\"\") }\n\n        var useEmail by rememberSaveable { mutableStateOf(false)}\n\n        var message by rememberSaveable { mutableStateOf(\"\")}\n\n        val coroutineScope = rememberCoroutineScope()\n\n        Column {\n\n\n            var user : User? = getCurrentUser()\n\n            Text(\n                textAlign = TextAlign.Center,\n                fontSize = 5.em,\n                text = \"DEV SCREEN\",\n                modifier = Modifier\n                    .fillMaxWidth()\n                    .padding(top = 10.dp)\n\n            )\n\n            Text(\n                text = message,\n                color = Color.Black\n            )\n\n            Button(\n                onClick = {\n\n                    coroutineScope.launch {\n\n                        googleSignIn(context)\n\n                    }\n...\n\n\n\n\nvar screenHeight = 0.dp\nvar screenWidth = 0.dp\n\nvar authViewModel = AuthViewModel()\n\n\n\nclass MainActivity : ComponentActivity() {\n\n\n\n    @RequiresApi(Q)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n\n        Log.d(\"Initialize\", \"App Started\")\n\n        setContent {\n\n\n            var context: Context = LocalContext.current\n\n            Box(\n                Modifier\n                    .background(color = Color(0xFFBDC6CA))\n                    .safeDrawingPadding()\n            ) {\n                MetroFCTheme {\n                    MainContent(context)\n\n\n\n                }\n            }\n        }\n\n        actionBar?.hide()\n        WindowCompat.setDecorFitsSystemWindows(window, false)\n        if (Build.VERSION.SDK_INT < Build.VERSION_CODES.R) {\n            window.addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)\n        } else {\n            window.insetsController?.apply {\n//                hide(WindowInsetsAndroid.Type.statusBars())\n                systemBarsBehavior = WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\n            }\n        }\n\n    }\n\n\n}\n\n\n\n@RequiresApi(Q)\n@Composable\nfun MainContent(\n    context : Context\n){\n\n    var user by remember{ mutableStateOf<User?>(null) }\n\n    LaunchedEffect(key1 = user) {\n\n        refreshMenu()\n\n    }\n\n\n    LaunchedEffect(key1 = \"login\") {\n\n        user = loginAnonymously()\n        Log.d(\"DB-User\", \"USER LOGIN SUCCESSFUL : $user\")\n\n    }\n\n\n    Log.d(\"DB\", \"2.\" + user.toString())\n\n\n\n\n    Log.d(\"Initialize\",\"Database Connected\")\n\n    val configuration = LocalConfiguration.current\n    screenHeight = configuration.screenHeightDp.dp\n    screenWidth = configuration.screenWidthDp.dp\n\n    var onDashboard by remember {mutableStateOf(true)}\n    var onMenu = false\n    val updateStates = { dashboard: Boolean, menu: Boolean ->\n        onDashboard = dashboard\n        onMenu = menu\n    }\n\n    val navController = rememberNavController()\n\n\n    Scaffold(\n\n        bottomBar = {\n            if(authViewModel.isLoggedIn) NavigationBar(navController = navController, onDashboard, onMenu, updateStates)\n\n                    },\n        containerColor = MaterialTheme.colorScheme.background,\n        contentWindowInsets = WindowInsets(0.dp),\n        modifier = Modifier.fillMaxSize()\n\n    ) {\n    innerPadding ->\n\n        val scrollState = rememberScrollState()\n\n        val padding = innerPadding\n\n        NavHost(\n            navController = navController,\n            startDestination = if (authViewModel.isLoggedIn) Route.DEV_SCREEN else Route.DEV_SCREEN,\n            modifier = Modifier\n//                .verticalScroll(state = scrollState)\n                .fillMaxSize()\n        ) {\n\n            composable(route = Route.DEV_SCREEN){\n                DeveloperScreen1(navController, context)\n            }\n\n            composable(route = Route.DASHBOARD_SCREEN) {\n\n                authViewModel.login(user)\n                DashboardScreen()\n            }\n\n            composable(route = Route.MENU_SCREEN) {\n                authViewModel.login(user)\n                MenuScreen(user)\n            }\n        }\n    }\n}\n\nProcess: com.metrofriedchicken.metrofc, PID: 20630\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nat androidx.credentials.playservices.controllers.CredentialProviderBaseController$Companion.getCredentialExceptionTypeToException$credentials_play_services_auth_release(CredentialProviderBaseController.kt:110)\nat androidx.credentials.playservices.controllers.BeginSignIn.CredentialProviderBeginSignInController$resultReceiver$1$onReceiveResult$1.invoke(CredentialProviderBeginSignInController.kt:93)\nI've tried :\n\nDeleting Keystore and make a new one ( debug and release )\nUsed the web app client id and android client id\nChange device\nwaited a day\n\n",
        "Answer": "I am assuming you are currently integrating the Credential Manager in debug mode and testing your integration in an app directly installed from Android Studio to  your test device.\nIn this case you will need to configure the SHA1 key currently being used to sign your app, which is Android Studio's debug keystore.\nIn this case, you can get the SHA1 by running below command in Android Studio's terminal:\n./gradlew signingreport\n\nCopy the correct SHA1 fingerprint of correct Variant and Config from the terminal console and configure the same in cloud console for your app's Android OAuth2 client.\nIn order to keep the steps cleaner, I am mentioning them as below:\n\nCreate one Android OAuth2 client in cloud api console with you app's package name.\nUse the debug SHA1 key in this Android OAuth2 client creation as I mentioned above (in order to recognized this as debug client you can append the client name with debug as \"your-app-debug\")\nCreate one Web OAuth2 client in cloud api console. This will act as the server for your app\nCopy the ClientID of this Web client and use in setServerClientId(ServerClientID) in your integration.\n\nWith these simple steps alone, your integration should work fine.\nOptionally, as the next step,\n\nYou can create another Android OAuth2 client with release key's SHA1 fingerprint for production, and for recognizing this client, can give it a name \"Your-app-release\"\n\n",
        "Source": "https://stackoverflow.com/questions/78247578/error-on-google-sign-in-credentialmanager-using-jetpack-compose"
    },
    {
        "Title": "Access AWS Secrets Manager with IMDSv2 set to required",
        "Question": "I'm working on a Java application running on an EC2 instance in AWS. My goal is to access AWS Secrets Manager using an AWS SDK for Java and an IAM role attached to the EC2 instance.\nEverything works smoothly when IMDSv2 (Instance Metadata Service version 2) is optional. However, when it's set to required as recommended, I encounter an issue.\nSpecifically, I'm receiving the error 'software.amazon.awssdk.core.exception.SdkClientException: Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain'.\nHow can I resolve this issue and successfully access AWS Secrets Manager with IMDSv2 set to required?\nTried attaching different policies, created some custom ones but the result is same.\njava sdk version used:\n<dependency>\n     <groupId>software.amazon.awssdk</groupId>\n     <artifactId>secretsmanager</artifactId>\n     <version>2.25.7</version>\n</dependency>\n\n",
        "Answer": "I did some more research and was able to figure this out. There have been issues with IMDSv2 network request and what was suggested is to increase the hop limit to '2' on the ec2 instance. As said here in the considerations section as well https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-retrieval.html#imds-considerations\nTo increase the hop limit:\n\"Use the modify-instance-metadata-options CLI command and set the http-put-response-hop-limit parameter to the required number of hops. In the following example, the hop limit is set to 2. Note that when specifying a value for http-put-response-hop-limit, you must also set http-endpoint to enabled\"\nUsing aws cli:\naws ec2 modify-instance-metadata-options \\\n--instance-id <instance-id> \\\n--http-put-response-hop-limit 2 \\\n--http-endpoint enabled\n\n",
        "Source": "https://stackoverflow.com/questions/78183614/access-aws-secrets-manager-with-imdsv2-set-to-required"
    },
    {
        "Title": "Install a private package with credentials from requirements.txt",
        "Question": "I want to a private package via\n%pip install -r /dbfs/requirements.txt\n\nInside this requirements.txt is give:\ngit+https://<user>:$token@<gitprovider>.com/<path/to/repo>\n\nIf i give user and token inside the requirements.txt it works like a charm, but I want to pass user and token via dbutils.secrets. Is this doable without manipulating the requirements.txt before?\nI thought it would be possible to create environment variables, but this did not work for me.\n%env GIT_USERNAME= ...\n%env GIT_TOKEN= ...\n\n",
        "Answer": "The way is using python\n\nGetting information\nStore the information in a temporary file so that its details will not be found in the run log or records after running\nRun\n\nimport dbutils\n\nusername = dbutils.secrets.get(scope=\"your_scope\", key=\"git_username\")\ntoken = dbutils.secrets.get(scope=\"your_scope\", key=\"git_token\")\n\nrepo_url = f\"git+https://{username}:{token}@gitprovider.com/path/to/repo\"\n\nrequirements_path = \"/dbfs/tmp/requirements.txt\"\n\nwith open(requirements_path, \"w\") as file:\n    file.write(repo_url + \"\\n\")\n\ndbutils.notebook.run(\"%pip install -r \" + requirements_path, 60)\n\n",
        "Source": "https://stackoverflow.com/questions/78140635/install-a-private-package-with-credentials-from-requirements-txt"
    },
    {
        "Title": "PayPal bearer resets after x amount of seconds",
        "Question": "I\u2019m using PayPal refund api. The api docs says the bearer token that I am using will reset after x amount of seconds.\nLink to where it says access token resets:\nhttps://developer.paypal.com/reference/get-an-access-token/\nIn my case my token resets after 9 hours. I am using this token to refund purchases which will happen all the time. Is there an alternate solution from Bearer <Access-Token> that doesn\u2019t include a reset token? I haven\u2019t been able to find one other than the Basic <client_id>:<secret> which includes client credentials which doesn\u2019t seem to work. And yes the credentials are correct.\nLink to api:\nhttps://developer.paypal.com/docs/api/payments/v2/#captures_refund\n",
        "Answer": "Basic client_id:secret, where the string client_id:secret is Base64 encoded, is the header value for HTTP Basic Authentication. This is used to obtain an access token from the oauth2 token endpoint.\nAccess tokens expire after 9 hours, beyond which a new one must be obtained. These are required for all PayPal REST API operations, including refunds.\n",
        "Source": "https://stackoverflow.com/questions/78109044/paypal-bearer-resets-after-x-amount-of-seconds"
    },
    {
        "Title": "How to store MySQL credentials in python project, that users not only from my pc will use later?",
        "Question": "I have the following code:\nclass Server:\n    def __init__(self):\n        #server credentials\n        self.ip = \"192.168.1.182\"\n        self.user = \"bank_user\"\n        self.password = \"*mypass*\"\n        self.port = 3307\n        self.database = \"bank\"\n    def connect_to_server(self):\n        try:\n            self.mydb = mysql.connector.connect(\n                host = self.ip,\n                user = self.user,\n                password = self.password,\n                port = self.port,\n                database = self.database\n                )\n            self.mycursor = self.mydb.cursor()\n            print(\"\u2713 Server connection estabilished\")\n            rlist = [True]\n\nThe problem is, I don't want to store it in my code because I feel that it's not safe\nI'm creating a banking app (just for fun) so it will be used as .py->.exe later by users not only from my pc. I shouldn't be stored in a config file or a plaintext file, because if someone gets the credentials he can basically log into the MySQL database and modify all of the data.\nSo no:\n\nEnviromental variables\nPlaintext/ config file\nIt should work on any pc (I'm using pytoexe to convert my python file to exe, so that everyone can run the app)\nI'm new to stackoverflow so forgive me if I wrote sth wrong\n\nI thought about creating a password encryption, but anyone who gets the decryption key can decrypt the password. I also thought about creating my own encryption method, but anyone who gets to my code can just use the decrypting function and execute it for example: decryptor(\"encryptedpassword\")\n",
        "Answer": "Right, anyone who gets your code can extract the MySQL password and connect using any other client. They can do any SQL query according to the privileges you granted that MySQL user.\nEven if you compile using pytoexe, a skilled person could use a debugger or simply the strings tool to extract the password.\nIf you encrypt, they can decrypt. If you try to invent your own encryption algorithm, assume they can decrypt it more easily. I assume you are not an accomplished Ph.D. in applied cryptography, so any novel encryption method you think of will surely be easier to crack than state of the art encryption tools.\nThere are two common methods to solve this problem:\n\nDon't give them the MySQL password. The application you give them has no MySQL connection. The application makes HTTP requests to a web service that you develop. The code in your web service implements specific SQL they can execute. This is where you enforce business rules about what they can access. This is by far the most popular solution.\n\nGive them the MySQL password, but restrict the SQL they can execute. Privileges alone only give you limited control, so you need to create a layer of stored routines and views in the MySQL database. They should be able to access the stored routines and views, but the user cannot access the underlying tables. The routines and views have privileges to do that. Therefore the users can only do what you have allowed them to do in those routines and views.\n\n\nThere could also be a solution using a proxy such as ProxySQL. This would involve writing filters in the proxy so clients would not be allowed to run queries except those you want them to run. The advantage would be that the client application thinks it's connecting to a MySQL Server, but it's really connecting to the proxy. But I think it would be easier to write a web service than to write a whole application's business logic in a proxy.\nI suppose one could also use MySQL's query rewrite plugin to do something similar, but I've never seen anyone do that successfully.\n",
        "Source": "https://stackoverflow.com/questions/78089675/how-to-store-mysql-credentials-in-python-project-that-users-not-only-from-my-pc"
    },
    {
        "Title": "Setup access.ini file permession so it can be read by php script",
        "Question": "I'm really new to this so sorry if this isn't clear.\nI'm trying to hide my database credentials using an access.ini  file.\nI have a AWS instance, with my scripts located in /bitnami/joomla/index (in short I have an html page that display data using a php file that queries a postgresql db). I've tried creating a new directory /bitnami/joomla/config where I placed the access.ini  file. However, my php script can't read it due to permission issues (I guess).\nThe owner/group for the files in /bitnami/joomla/index are bitnami bitnami.\nAnd the owner/group and permissions for the folder /bitnami/joomla/config and its file are :\nbitnami bitnami\ndrwx--x--x\nIs my setup completly wrong, or is the issue easy to solve ?\n",
        "Answer": "Instead of using an access.ini file, consider using environment variables to store sensitive credentials.\nPHP can read environment variables easily.\nAdditional details can be found here.\n",
        "Source": "https://stackoverflow.com/questions/78035277/setup-access-ini-file-permession-so-it-can-be-read-by-php-script"
    },
    {
        "Title": "How to set an &quot;environment&quot; in a non-trivial way using expression?",
        "Question": "I have a GitHub Actions workflow which deploys some things to an environment. The workflow needs to log in to access the environment, so we use GitHub environment secrets to store credentials.\nMy workflow contains this:\non:\n  workflow_dispatch:\n    inputs:\n      deployment_target:\n        type: choice\n        description: Choose an environment to deploy to\n        options:\n          - dev\n          - staging\n          - production\n          - benchmarks\n...\njobs:\n  deploy-to-persistent-environment:\n    environment: ${{ github.event.inputs.deployment_target}}\n    steps: \n      - name: Login # Pseudocode\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy # Pseudocode\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nThe \"benchmarks\" environment uses the same credentials as the \"development\" environment. So I would like to re-use the same GitHub environment secrets rather than have two sets of duplicate environment secrets in GitHub.\nI.e., I would like to do something like this pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ if github.event.inputs.deployment_target == 'benchmarks' then 'development' else github.event.inputs.deployment_target }}\n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nIs there any way to achieve this with GitHub Actions?\n",
        "Answer": "There is a way to do it directly in the expression, according to this reference on the Github Community, by using the syntax ${{ x && 'ifTrue' || 'ifFalse'  }}\nIn that case:\n\nif the condition x is True, the first argument will be used.\nif the condition x is False, the second argument will be used.\n\nIn our case here, it would look like this:\nenvironment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}\n\nWhere:\n\nif github.event.inputs.deployment_target == 'benchmarks' is True, development will be used as environment.\n\nif github.event.inputs.deployment_target == 'benchmarks' is False, github.event.inputs.deployment_target will be used as environment.\n\n\nUpdating the pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}   \n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nEDIT: This is now available on the GitHub official doc as well (Thanks Benjamin W for reporting)\n",
        "Source": "https://stackoverflow.com/questions/77959880/how-to-set-an-environment-in-a-non-trivial-way-using-expression"
    },
    {
        "Title": "How to implement speech recognition with the Google Cloud Speech-to-Text API using Node.js?",
        "Question": "I am new to Google Cloud,\nI recently created a project with Speech-to-Text API.\nAfter creating the project and linking it to a billing account, I accessed the Node.js in-console tutorial for a quick start.\nAfter following all the steps in the in-console tutorial (and dealing with some mistakes in the code in the tutorial itself), and running the code, I got the following error:\nnode:internal/process/promises:289\n            triggerUncaughtException(err, true /* fromPromise */);\n            ^\n\nError: 3 INVALID_ARGUMENT: Invalid resource field value in the request.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Invalid resource field value in the request.',\n  metadata: Metadata {\n    internalRepr: Map(2) {\n      'google.rpc.errorinfo-bin' => [\n        Buffer(127) [Uint8Array] [\n           10,  24,  82,  69,  83,  79,  85,  82,  67,  69,  95,  80,\n           82,  79,  74,  69,  67,  84,  95,  73,  78,  86,  65,  76,\n           73,  68,  18,  14, 103, 111, 111, 103, 108, 101,  97, 112,\n          105, 115,  46,  99, 111, 109,  26,  32,  10,   7, 115, 101,\n          114, 118, 105,  99, 101,  18,  21, 115, 112, 101, 101,  99,\n          104,  46, 103, 111, 111, 103, 108, 101,  97, 112, 105, 115,\n           46,  99, 111, 109,  26,  49,  10,   6, 109, 101, 116, 104,\n          111, 100,  18,  39, 103, 111, 111, 103, 108, 101,  46,  99,\n          108, 111, 117, 100,\n          ... 27 more items\n        ]\n      ],\n      'grpc-status-details-bin' => [\n        Buffer(222) [Uint8Array] [\n            8,   3,  18,  44,  73, 110, 118,  97, 108, 105, 100,  32,\n          114, 101, 115, 111, 117, 114,  99, 101,  32, 102, 105, 101,\n          108, 100,  32, 118,  97, 108, 117, 101,  32, 105, 110,  32,\n          116, 104, 101,  32, 114, 101, 113, 117, 101, 115, 116,  46,\n           26, 171,   1,  10,  40, 116, 121, 112, 101,  46, 103, 111,\n          111, 103, 108, 101,  97, 112, 105, 115,  46,  99, 111, 109,\n           47, 103, 111, 111, 103, 108, 101,  46, 114, 112,  99,  46,\n           69, 114, 114, 111, 114,  73, 110, 102, 111,  18, 127,  10,\n           24,  82,  69,  83,\n          ... 122 more items\n        ]\n      ]\n    },\n    options: {}\n  },\n  note: 'Exception occurred in retry method that was not classified as transient',\n  statusDetails: [\n    ErrorInfo {\n      metadata: {\n        service: 'speech.googleapis.com',\n        method: 'google.cloud.speech.v2.Speech.Recognize'\n      },\n      reason: 'RESOURCE_PROJECT_INVALID',\n      domain: 'googleapis.com'\n    }\n  ],\n  reason: 'RESOURCE_PROJECT_INVALID',\n  domain: 'googleapis.com',\n  errorInfoMetadata: {\n    service: 'speech.googleapis.com',\n    method: 'google.cloud.speech.v2.Speech.Recognize'\n  }\n}\n\nThis is after I seted a project for quota purposes (using gcloud auth application-default set-quota-project $PROJECT_ID in the terminal).\nI also did the same steps through the gcloud CLI (on Windows) and it returned the same error.\nIs there something I forgot to do? Or something in the code is wrong? Maybe it's something to do with the fact that I'm working with version 2 of the API and the code is optimized to work only with version 1 of the API?\nMany thanks in advance!\nThe reusable Node.js code (I made some changes from the original code of the tutorial after encountering errors, and I also changed the way to get the data of the audio file after I couldn't get it from the uri of the bucket, as is customary in GCP):\nconst speech = require('@google-cloud/speech').v2;\nconst https = require('https');\n\nconst client = new speech.SpeechClient();\nconst projectId = '<ProjectId>';\nvar recognizerName;\n\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId: 'en123',\n    recognizer: {\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function getUrlData(url) {\n  return new Promise((resolve) => {\n      https.get(url, response => {\n          var body = '';\n          var i = 0;\n          response.on('data', chunk => {\n              i++;\n              body += chunk;\n          });\n          response.on('end', () => {\n              resolve(Buffer.from(body).toString('base64'));\n          });\n      });\n  });\n}\n\nasync function transcribeFile() {\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nUpdate:\nAfter looking at the (asker's) code in this question, I realized that I got confused in the definition of recognizerName and used only the string of the recognizerId instead of using the full path of the recognizer (projects/${projectId}/locations/global/recognizers/${recognizerId}), so currently my code looks like this:\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\n// ...\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nBut now I get another error:\nError: 3 INVALID_ARGUMENT: Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.',\n  metadata: Metadata { internalRepr: Map(0) {}, options: {} },\n  note: 'Exception occurred in retry method that was not classified as transient'\n}\n\n",
        "Answer": "I managed to solve it!\nThe error Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters occurs when the requested file is in a format without Codec (in this case .raw) and therefore the Speech to Text API does not know how to encode it.\nTo solve this I had to pass an explicitDecodingConfig object when creating the recognizer (within the defaultRecognitionConfig property) or later in the transcriptionRequest (within the config property).\nconst speech = require('@google-cloud/speech').v2;\n\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\n\nconst client = new speech.SpeechClient();\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId,\n    recognizer: {\n      defaultRecognitionConfig: {\n        explicitDecodingConfig: {\n          encoding: 'LINEAR16',\n          sampleRateHertz: 16000,\n          audioChannelCount: 1\n        }\n      },\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  const recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const gcsUri = 'gs://cloud-samples-data/speech/brooklyn_bridge.raw';\n\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    uri: gcsUri,\n    config: {\n      explicitDecodingConfig: {   // If you didn't set explicitDecodingConfig when creating the recognizer, you have to set it here.\n        encoding: 'LINEAR16',\n        sampleRateHertz: 16000,\n        audioChannelCount: 1\n      }\n    },\n  }\n\n  const response = await client.recognize(transcriptionRequest);\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\n(async function main() {\n  await createRecognizer();\n  await transcribeFile();\n})();\n\n",
        "Source": "https://stackoverflow.com/questions/77940391/how-to-implement-speech-recognition-with-the-google-cloud-speech-to-text-api-usi"
    },
    {
        "Title": "Updating AWS credentials",
        "Question": "I need advice on how I can update AWS credentials after they expire.\nI'm creating a bean of AmazonSimpleEmailService this way:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new AWSStaticCredentialsProvider(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                        .getCredentials())\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\nBut when I'm trying to use it I'm getting an error:\nThe security token included in the request is expired (Service: AmazonSimpleEmailService; Status Code: 403; Error Code: ExpiredToken\nIf I create an instance of the SES client right before each mail sending - it works correctly, but it looks like a bad practice to create a new instance before each use.\nI understand that the issue with the credentials that I'm getting via STSAssumeRoleSessionCredentialsProvider - they just have an expiration time.\nI am wondering if there should be a way to automatically update the credentials when they are going to expire, so I'd really appreciate any advice on how to do it.\n",
        "Answer": "STSAssumeRoleSessionCredentialsProvider will auto-refresh the credentials, but you are blocking that functionality by getting a single set of credentials and passing them into a AWSStaticCredentialsProvider instance.\nThis should allow you to use the auto-refresh of the STS Provider:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\n",
        "Source": "https://stackoverflow.com/questions/77921630/updating-aws-credentials"
    },
    {
        "Title": "Reading credentials from another file doesn&#39;t work in Python",
        "Question": "I created a Python file called pw.py where I store my username and password.\nThe content of pw.py is as follows:\nusername = \"username1\"\npassword = \"pswrd2\"\n\nTo access these credentials from another file called ProducerReddit.ipynb, I do the following:\nfrom pw import password, username\n\nHowever, when I try to print password and username, they are always empty.\nThe two files are inside the same folder.\nWhat I am doing wrong?\n",
        "Answer": "I recommend you to check do you have a __init__.py file in the your top folder.\nIf you don't have please create this __init__.py module.\nThen try to use absolute import path.\nFor example you have top directorty with this structure:\ntop_directory:\n              __init__.py\n              pw.py\n              other_file.py\n\nyour import instructions in the other_file.py shoud be like this:\nfrom top_directory.pw import username, password\n\nI hope this may help you\n",
        "Source": "https://stackoverflow.com/questions/77786371/reading-credentials-from-another-file-doesnt-work-in-python"
    },
    {
        "Title": "Apache HTTP Client 5.3 ~ NTCredentials no longer working",
        "Question": "I have a project that uses org.apache.httpcomponents.client5:httpclient5. I recently tried upgrading from version 5.2.3 to version 5.3, only to realize that the authentication was no longer working in the new version.\nHere is how the relevant code looks:\n        BasicCredentialsProvider credentialsProvider =\n            new BasicCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(credentialsProvider)\n            .build();\n[...]\n            final HttpGet httpget = new HttpGet(targetUrl);\n\n            CloseableHttpResponse response = httpclient.execute(httpget);\n\n\nBefore the update from 5.2.3 to 5.3 this worked fine. However, when I use 5.3, I now get a 401 UNAUTHORIZED response.\nI also tried the following variations to above code to pass the credentials along, but they all also return only 401 UNAUTHORIZED:\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(CredentialsProviderBuilder.create()\n                .add(new HttpHost(host, port), username, password.toCharArray())\n                .build())\n            .build();\n\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new UsernamePasswordCredentials(username, password.toCharArray())\n        );\n\n        SystemDefaultCredentialsProvider credentialsProvider =\n            new SystemDefaultCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n\nNow I am stumped. Could this be a bug in 5.3? Or did something change to the way that the NTCredentialsProvider works? I could not find any release notes indicating so, and since this is only a minor version update that would surprise me.\nNonetheless, the fact it that it works with the old version but not with the new one. Does anyone has any suggestions as to what I can do about that?\n",
        "Answer": "We now managed to solve it by providing the httpclient with a default auth scheme registry like this:\n        Lookup<AuthSchemeFactory> authSchemeRegistry = RegistryBuilder.<AuthSchemeFactory>create()\n                .register(StandardAuthScheme.NTLM, new NTLMSchemeFactory()).build();\n\n        httpclient = HttpClients.custom()\n                .setDefaultCredentialsProvider(credentialsProvider)\n                .setDefaultRequestConfig(config)\n                .setDefaultAuthSchemeRegistry(authSchemeRegistry)\n                .build();\n\n",
        "Source": "https://stackoverflow.com/questions/77784888/apache-http-client-5-3-ntcredentials-no-longer-working"
    },
    {
        "Title": "Error on Google Sign In CredentialManager, using Jetpack Compose",
        "Question": "I am trying to create a Sign In with Google Button but everytime credentialManager.getCredential is called, it gives me :\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nI tried resetting the SHA-1 Fingerprint, I've created both web application and android in the google cloud credential, I've used both the web app client id and android client id. I'm lost, please help\n\nobject DeveloperScreen{\n\n    const val GOOGLE_WEB_CLIENT_ID = \"xxxxxxxxxh5n94bxxxxxxxxxxx1.apps.googleusercontent.com\"\n//    const val GOOGLE_WEB_CLIENT_SECRET = \"GxxxxxxxxCinwYDR8KQi3-wD9ugT311\"\n//    const val GOOGLE_ANDROID_CLIENT_ID = \"3xxxxxxx80-7ja1n9nknxxxxxxxxxxxxxxxxxxxens33k.apps.googleusercontent.com\"\n\n\n    private suspend fun googleSignIn(context : Context) {\n\n\n        val credentialManager = androidx.credentials.CredentialManager.create(context)\n\n        val googleIdOption: GetGoogleIdOption = GetGoogleIdOption.Builder()\n            .setFilterByAuthorizedAccounts(false)\n            .setServerClientId(GOOGLE_WEB_CLIENT_ID)\n            .build()\n\n        Log.i(\"auth-google-googleIdOption\", googleIdOption.toString())\n\n        val request: GetCredentialRequest = GetCredentialRequest.Builder()\n            .addCredentialOption(googleIdOption)\n            .build()\n\n        Log.i(\"auth-google-credentialRequest\", request.toString())\n\n\n        val result = credentialManager.getCredential(\n            request = request,\n            context = context,\n        )\n\n        Log.i(\"auth-google-result\", result.toString())\n\n\n\n\n\n    }\n\n\n\n    @Composable\n    public fun DeveloperScreen1(navController : NavHostController, context : Context){\n\n        var phoneNumber by rememberSaveable { mutableStateOf(\"\") }\n        var email by rememberSaveable { mutableStateOf(\"\")}\n        var otpCode by rememberSaveable { mutableStateOf(\"\") }\n\n        var useEmail by rememberSaveable { mutableStateOf(false)}\n\n        var message by rememberSaveable { mutableStateOf(\"\")}\n\n        val coroutineScope = rememberCoroutineScope()\n\n        Column {\n\n\n            var user : User? = getCurrentUser()\n\n            Text(\n                textAlign = TextAlign.Center,\n                fontSize = 5.em,\n                text = \"DEV SCREEN\",\n                modifier = Modifier\n                    .fillMaxWidth()\n                    .padding(top = 10.dp)\n\n            )\n\n            Text(\n                text = message,\n                color = Color.Black\n            )\n\n            Button(\n                onClick = {\n\n                    coroutineScope.launch {\n\n                        googleSignIn(context)\n\n                    }\n...\n\n\n\n\nvar screenHeight = 0.dp\nvar screenWidth = 0.dp\n\nvar authViewModel = AuthViewModel()\n\n\n\nclass MainActivity : ComponentActivity() {\n\n\n\n    @RequiresApi(Q)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n\n        Log.d(\"Initialize\", \"App Started\")\n\n        setContent {\n\n\n            var context: Context = LocalContext.current\n\n            Box(\n                Modifier\n                    .background(color = Color(0xFFBDC6CA))\n                    .safeDrawingPadding()\n            ) {\n                MetroFCTheme {\n                    MainContent(context)\n\n\n\n                }\n            }\n        }\n\n        actionBar?.hide()\n        WindowCompat.setDecorFitsSystemWindows(window, false)\n        if (Build.VERSION.SDK_INT < Build.VERSION_CODES.R) {\n            window.addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)\n        } else {\n            window.insetsController?.apply {\n//                hide(WindowInsetsAndroid.Type.statusBars())\n                systemBarsBehavior = WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\n            }\n        }\n\n    }\n\n\n}\n\n\n\n@RequiresApi(Q)\n@Composable\nfun MainContent(\n    context : Context\n){\n\n    var user by remember{ mutableStateOf<User?>(null) }\n\n    LaunchedEffect(key1 = user) {\n\n        refreshMenu()\n\n    }\n\n\n    LaunchedEffect(key1 = \"login\") {\n\n        user = loginAnonymously()\n        Log.d(\"DB-User\", \"USER LOGIN SUCCESSFUL : $user\")\n\n    }\n\n\n    Log.d(\"DB\", \"2.\" + user.toString())\n\n\n\n\n    Log.d(\"Initialize\",\"Database Connected\")\n\n    val configuration = LocalConfiguration.current\n    screenHeight = configuration.screenHeightDp.dp\n    screenWidth = configuration.screenWidthDp.dp\n\n    var onDashboard by remember {mutableStateOf(true)}\n    var onMenu = false\n    val updateStates = { dashboard: Boolean, menu: Boolean ->\n        onDashboard = dashboard\n        onMenu = menu\n    }\n\n    val navController = rememberNavController()\n\n\n    Scaffold(\n\n        bottomBar = {\n            if(authViewModel.isLoggedIn) NavigationBar(navController = navController, onDashboard, onMenu, updateStates)\n\n                    },\n        containerColor = MaterialTheme.colorScheme.background,\n        contentWindowInsets = WindowInsets(0.dp),\n        modifier = Modifier.fillMaxSize()\n\n    ) {\n    innerPadding ->\n\n        val scrollState = rememberScrollState()\n\n        val padding = innerPadding\n\n        NavHost(\n            navController = navController,\n            startDestination = if (authViewModel.isLoggedIn) Route.DEV_SCREEN else Route.DEV_SCREEN,\n            modifier = Modifier\n//                .verticalScroll(state = scrollState)\n                .fillMaxSize()\n        ) {\n\n            composable(route = Route.DEV_SCREEN){\n                DeveloperScreen1(navController, context)\n            }\n\n            composable(route = Route.DASHBOARD_SCREEN) {\n\n                authViewModel.login(user)\n                DashboardScreen()\n            }\n\n            composable(route = Route.MENU_SCREEN) {\n                authViewModel.login(user)\n                MenuScreen(user)\n            }\n        }\n    }\n}\n\nProcess: com.metrofriedchicken.metrofc, PID: 20630\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nat androidx.credentials.playservices.controllers.CredentialProviderBaseController$Companion.getCredentialExceptionTypeToException$credentials_play_services_auth_release(CredentialProviderBaseController.kt:110)\nat androidx.credentials.playservices.controllers.BeginSignIn.CredentialProviderBeginSignInController$resultReceiver$1$onReceiveResult$1.invoke(CredentialProviderBeginSignInController.kt:93)\nI've tried :\n\nDeleting Keystore and make a new one ( debug and release )\nUsed the web app client id and android client id\nChange device\nwaited a day\n\n",
        "Answer": "I am assuming you are currently integrating the Credential Manager in debug mode and testing your integration in an app directly installed from Android Studio to  your test device.\nIn this case you will need to configure the SHA1 key currently being used to sign your app, which is Android Studio's debug keystore.\nIn this case, you can get the SHA1 by running below command in Android Studio's terminal:\n./gradlew signingreport\n\nCopy the correct SHA1 fingerprint of correct Variant and Config from the terminal console and configure the same in cloud console for your app's Android OAuth2 client.\nIn order to keep the steps cleaner, I am mentioning them as below:\n\nCreate one Android OAuth2 client in cloud api console with you app's package name.\nUse the debug SHA1 key in this Android OAuth2 client creation as I mentioned above (in order to recognized this as debug client you can append the client name with debug as \"your-app-debug\")\nCreate one Web OAuth2 client in cloud api console. This will act as the server for your app\nCopy the ClientID of this Web client and use in setServerClientId(ServerClientID) in your integration.\n\nWith these simple steps alone, your integration should work fine.\nOptionally, as the next step,\n\nYou can create another Android OAuth2 client with release key's SHA1 fingerprint for production, and for recognizing this client, can give it a name \"Your-app-release\"\n\n",
        "Source": "https://stackoverflow.com/questions/78247578/error-on-google-sign-in-credentialmanager-using-jetpack-compose"
    },
    {
        "Title": "Access AWS Secrets Manager with IMDSv2 set to required",
        "Question": "I'm working on a Java application running on an EC2 instance in AWS. My goal is to access AWS Secrets Manager using an AWS SDK for Java and an IAM role attached to the EC2 instance.\nEverything works smoothly when IMDSv2 (Instance Metadata Service version 2) is optional. However, when it's set to required as recommended, I encounter an issue.\nSpecifically, I'm receiving the error 'software.amazon.awssdk.core.exception.SdkClientException: Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain'.\nHow can I resolve this issue and successfully access AWS Secrets Manager with IMDSv2 set to required?\nTried attaching different policies, created some custom ones but the result is same.\njava sdk version used:\n<dependency>\n     <groupId>software.amazon.awssdk</groupId>\n     <artifactId>secretsmanager</artifactId>\n     <version>2.25.7</version>\n</dependency>\n\n",
        "Answer": "I did some more research and was able to figure this out. There have been issues with IMDSv2 network request and what was suggested is to increase the hop limit to '2' on the ec2 instance. As said here in the considerations section as well https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-retrieval.html#imds-considerations\nTo increase the hop limit:\n\"Use the modify-instance-metadata-options CLI command and set the http-put-response-hop-limit parameter to the required number of hops. In the following example, the hop limit is set to 2. Note that when specifying a value for http-put-response-hop-limit, you must also set http-endpoint to enabled\"\nUsing aws cli:\naws ec2 modify-instance-metadata-options \\\n--instance-id <instance-id> \\\n--http-put-response-hop-limit 2 \\\n--http-endpoint enabled\n\n",
        "Source": "https://stackoverflow.com/questions/78183614/access-aws-secrets-manager-with-imdsv2-set-to-required"
    },
    {
        "Title": "Install a private package with credentials from requirements.txt",
        "Question": "I want to a private package via\n%pip install -r /dbfs/requirements.txt\n\nInside this requirements.txt is give:\ngit+https://<user>:$token@<gitprovider>.com/<path/to/repo>\n\nIf i give user and token inside the requirements.txt it works like a charm, but I want to pass user and token via dbutils.secrets. Is this doable without manipulating the requirements.txt before?\nI thought it would be possible to create environment variables, but this did not work for me.\n%env GIT_USERNAME= ...\n%env GIT_TOKEN= ...\n\n",
        "Answer": "The way is using python\n\nGetting information\nStore the information in a temporary file so that its details will not be found in the run log or records after running\nRun\n\nimport dbutils\n\nusername = dbutils.secrets.get(scope=\"your_scope\", key=\"git_username\")\ntoken = dbutils.secrets.get(scope=\"your_scope\", key=\"git_token\")\n\nrepo_url = f\"git+https://{username}:{token}@gitprovider.com/path/to/repo\"\n\nrequirements_path = \"/dbfs/tmp/requirements.txt\"\n\nwith open(requirements_path, \"w\") as file:\n    file.write(repo_url + \"\\n\")\n\ndbutils.notebook.run(\"%pip install -r \" + requirements_path, 60)\n\n",
        "Source": "https://stackoverflow.com/questions/78140635/install-a-private-package-with-credentials-from-requirements-txt"
    },
    {
        "Title": "PayPal bearer resets after x amount of seconds",
        "Question": "I\u2019m using PayPal refund api. The api docs says the bearer token that I am using will reset after x amount of seconds.\nLink to where it says access token resets:\nhttps://developer.paypal.com/reference/get-an-access-token/\nIn my case my token resets after 9 hours. I am using this token to refund purchases which will happen all the time. Is there an alternate solution from Bearer <Access-Token> that doesn\u2019t include a reset token? I haven\u2019t been able to find one other than the Basic <client_id>:<secret> which includes client credentials which doesn\u2019t seem to work. And yes the credentials are correct.\nLink to api:\nhttps://developer.paypal.com/docs/api/payments/v2/#captures_refund\n",
        "Answer": "Basic client_id:secret, where the string client_id:secret is Base64 encoded, is the header value for HTTP Basic Authentication. This is used to obtain an access token from the oauth2 token endpoint.\nAccess tokens expire after 9 hours, beyond which a new one must be obtained. These are required for all PayPal REST API operations, including refunds.\n",
        "Source": "https://stackoverflow.com/questions/78109044/paypal-bearer-resets-after-x-amount-of-seconds"
    },
    {
        "Title": "How to store MySQL credentials in python project, that users not only from my pc will use later?",
        "Question": "I have the following code:\nclass Server:\n    def __init__(self):\n        #server credentials\n        self.ip = \"192.168.1.182\"\n        self.user = \"bank_user\"\n        self.password = \"*mypass*\"\n        self.port = 3307\n        self.database = \"bank\"\n    def connect_to_server(self):\n        try:\n            self.mydb = mysql.connector.connect(\n                host = self.ip,\n                user = self.user,\n                password = self.password,\n                port = self.port,\n                database = self.database\n                )\n            self.mycursor = self.mydb.cursor()\n            print(\"\u2713 Server connection estabilished\")\n            rlist = [True]\n\nThe problem is, I don't want to store it in my code because I feel that it's not safe\nI'm creating a banking app (just for fun) so it will be used as .py->.exe later by users not only from my pc. I shouldn't be stored in a config file or a plaintext file, because if someone gets the credentials he can basically log into the MySQL database and modify all of the data.\nSo no:\n\nEnviromental variables\nPlaintext/ config file\nIt should work on any pc (I'm using pytoexe to convert my python file to exe, so that everyone can run the app)\nI'm new to stackoverflow so forgive me if I wrote sth wrong\n\nI thought about creating a password encryption, but anyone who gets the decryption key can decrypt the password. I also thought about creating my own encryption method, but anyone who gets to my code can just use the decrypting function and execute it for example: decryptor(\"encryptedpassword\")\n",
        "Answer": "Right, anyone who gets your code can extract the MySQL password and connect using any other client. They can do any SQL query according to the privileges you granted that MySQL user.\nEven if you compile using pytoexe, a skilled person could use a debugger or simply the strings tool to extract the password.\nIf you encrypt, they can decrypt. If you try to invent your own encryption algorithm, assume they can decrypt it more easily. I assume you are not an accomplished Ph.D. in applied cryptography, so any novel encryption method you think of will surely be easier to crack than state of the art encryption tools.\nThere are two common methods to solve this problem:\n\nDon't give them the MySQL password. The application you give them has no MySQL connection. The application makes HTTP requests to a web service that you develop. The code in your web service implements specific SQL they can execute. This is where you enforce business rules about what they can access. This is by far the most popular solution.\n\nGive them the MySQL password, but restrict the SQL they can execute. Privileges alone only give you limited control, so you need to create a layer of stored routines and views in the MySQL database. They should be able to access the stored routines and views, but the user cannot access the underlying tables. The routines and views have privileges to do that. Therefore the users can only do what you have allowed them to do in those routines and views.\n\n\nThere could also be a solution using a proxy such as ProxySQL. This would involve writing filters in the proxy so clients would not be allowed to run queries except those you want them to run. The advantage would be that the client application thinks it's connecting to a MySQL Server, but it's really connecting to the proxy. But I think it would be easier to write a web service than to write a whole application's business logic in a proxy.\nI suppose one could also use MySQL's query rewrite plugin to do something similar, but I've never seen anyone do that successfully.\n",
        "Source": "https://stackoverflow.com/questions/78089675/how-to-store-mysql-credentials-in-python-project-that-users-not-only-from-my-pc"
    },
    {
        "Title": "Setup access.ini file permession so it can be read by php script",
        "Question": "I'm really new to this so sorry if this isn't clear.\nI'm trying to hide my database credentials using an access.ini  file.\nI have a AWS instance, with my scripts located in /bitnami/joomla/index (in short I have an html page that display data using a php file that queries a postgresql db). I've tried creating a new directory /bitnami/joomla/config where I placed the access.ini  file. However, my php script can't read it due to permission issues (I guess).\nThe owner/group for the files in /bitnami/joomla/index are bitnami bitnami.\nAnd the owner/group and permissions for the folder /bitnami/joomla/config and its file are :\nbitnami bitnami\ndrwx--x--x\nIs my setup completly wrong, or is the issue easy to solve ?\n",
        "Answer": "Instead of using an access.ini file, consider using environment variables to store sensitive credentials.\nPHP can read environment variables easily.\nAdditional details can be found here.\n",
        "Source": "https://stackoverflow.com/questions/78035277/setup-access-ini-file-permession-so-it-can-be-read-by-php-script"
    },
    {
        "Title": "How to set an &quot;environment&quot; in a non-trivial way using expression?",
        "Question": "I have a GitHub Actions workflow which deploys some things to an environment. The workflow needs to log in to access the environment, so we use GitHub environment secrets to store credentials.\nMy workflow contains this:\non:\n  workflow_dispatch:\n    inputs:\n      deployment_target:\n        type: choice\n        description: Choose an environment to deploy to\n        options:\n          - dev\n          - staging\n          - production\n          - benchmarks\n...\njobs:\n  deploy-to-persistent-environment:\n    environment: ${{ github.event.inputs.deployment_target}}\n    steps: \n      - name: Login # Pseudocode\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy # Pseudocode\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nThe \"benchmarks\" environment uses the same credentials as the \"development\" environment. So I would like to re-use the same GitHub environment secrets rather than have two sets of duplicate environment secrets in GitHub.\nI.e., I would like to do something like this pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ if github.event.inputs.deployment_target == 'benchmarks' then 'development' else github.event.inputs.deployment_target }}\n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nIs there any way to achieve this with GitHub Actions?\n",
        "Answer": "There is a way to do it directly in the expression, according to this reference on the Github Community, by using the syntax ${{ x && 'ifTrue' || 'ifFalse'  }}\nIn that case:\n\nif the condition x is True, the first argument will be used.\nif the condition x is False, the second argument will be used.\n\nIn our case here, it would look like this:\nenvironment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}\n\nWhere:\n\nif github.event.inputs.deployment_target == 'benchmarks' is True, development will be used as environment.\n\nif github.event.inputs.deployment_target == 'benchmarks' is False, github.event.inputs.deployment_target will be used as environment.\n\n\nUpdating the pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}   \n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nEDIT: This is now available on the GitHub official doc as well (Thanks Benjamin W for reporting)\n",
        "Source": "https://stackoverflow.com/questions/77959880/how-to-set-an-environment-in-a-non-trivial-way-using-expression"
    },
    {
        "Title": "How to implement speech recognition with the Google Cloud Speech-to-Text API using Node.js?",
        "Question": "I am new to Google Cloud,\nI recently created a project with Speech-to-Text API.\nAfter creating the project and linking it to a billing account, I accessed the Node.js in-console tutorial for a quick start.\nAfter following all the steps in the in-console tutorial (and dealing with some mistakes in the code in the tutorial itself), and running the code, I got the following error:\nnode:internal/process/promises:289\n            triggerUncaughtException(err, true /* fromPromise */);\n            ^\n\nError: 3 INVALID_ARGUMENT: Invalid resource field value in the request.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Invalid resource field value in the request.',\n  metadata: Metadata {\n    internalRepr: Map(2) {\n      'google.rpc.errorinfo-bin' => [\n        Buffer(127) [Uint8Array] [\n           10,  24,  82,  69,  83,  79,  85,  82,  67,  69,  95,  80,\n           82,  79,  74,  69,  67,  84,  95,  73,  78,  86,  65,  76,\n           73,  68,  18,  14, 103, 111, 111, 103, 108, 101,  97, 112,\n          105, 115,  46,  99, 111, 109,  26,  32,  10,   7, 115, 101,\n          114, 118, 105,  99, 101,  18,  21, 115, 112, 101, 101,  99,\n          104,  46, 103, 111, 111, 103, 108, 101,  97, 112, 105, 115,\n           46,  99, 111, 109,  26,  49,  10,   6, 109, 101, 116, 104,\n          111, 100,  18,  39, 103, 111, 111, 103, 108, 101,  46,  99,\n          108, 111, 117, 100,\n          ... 27 more items\n        ]\n      ],\n      'grpc-status-details-bin' => [\n        Buffer(222) [Uint8Array] [\n            8,   3,  18,  44,  73, 110, 118,  97, 108, 105, 100,  32,\n          114, 101, 115, 111, 117, 114,  99, 101,  32, 102, 105, 101,\n          108, 100,  32, 118,  97, 108, 117, 101,  32, 105, 110,  32,\n          116, 104, 101,  32, 114, 101, 113, 117, 101, 115, 116,  46,\n           26, 171,   1,  10,  40, 116, 121, 112, 101,  46, 103, 111,\n          111, 103, 108, 101,  97, 112, 105, 115,  46,  99, 111, 109,\n           47, 103, 111, 111, 103, 108, 101,  46, 114, 112,  99,  46,\n           69, 114, 114, 111, 114,  73, 110, 102, 111,  18, 127,  10,\n           24,  82,  69,  83,\n          ... 122 more items\n        ]\n      ]\n    },\n    options: {}\n  },\n  note: 'Exception occurred in retry method that was not classified as transient',\n  statusDetails: [\n    ErrorInfo {\n      metadata: {\n        service: 'speech.googleapis.com',\n        method: 'google.cloud.speech.v2.Speech.Recognize'\n      },\n      reason: 'RESOURCE_PROJECT_INVALID',\n      domain: 'googleapis.com'\n    }\n  ],\n  reason: 'RESOURCE_PROJECT_INVALID',\n  domain: 'googleapis.com',\n  errorInfoMetadata: {\n    service: 'speech.googleapis.com',\n    method: 'google.cloud.speech.v2.Speech.Recognize'\n  }\n}\n\nThis is after I seted a project for quota purposes (using gcloud auth application-default set-quota-project $PROJECT_ID in the terminal).\nI also did the same steps through the gcloud CLI (on Windows) and it returned the same error.\nIs there something I forgot to do? Or something in the code is wrong? Maybe it's something to do with the fact that I'm working with version 2 of the API and the code is optimized to work only with version 1 of the API?\nMany thanks in advance!\nThe reusable Node.js code (I made some changes from the original code of the tutorial after encountering errors, and I also changed the way to get the data of the audio file after I couldn't get it from the uri of the bucket, as is customary in GCP):\nconst speech = require('@google-cloud/speech').v2;\nconst https = require('https');\n\nconst client = new speech.SpeechClient();\nconst projectId = '<ProjectId>';\nvar recognizerName;\n\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId: 'en123',\n    recognizer: {\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function getUrlData(url) {\n  return new Promise((resolve) => {\n      https.get(url, response => {\n          var body = '';\n          var i = 0;\n          response.on('data', chunk => {\n              i++;\n              body += chunk;\n          });\n          response.on('end', () => {\n              resolve(Buffer.from(body).toString('base64'));\n          });\n      });\n  });\n}\n\nasync function transcribeFile() {\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nUpdate:\nAfter looking at the (asker's) code in this question, I realized that I got confused in the definition of recognizerName and used only the string of the recognizerId instead of using the full path of the recognizer (projects/${projectId}/locations/global/recognizers/${recognizerId}), so currently my code looks like this:\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\n// ...\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nBut now I get another error:\nError: 3 INVALID_ARGUMENT: Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.',\n  metadata: Metadata { internalRepr: Map(0) {}, options: {} },\n  note: 'Exception occurred in retry method that was not classified as transient'\n}\n\n",
        "Answer": "I managed to solve it!\nThe error Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters occurs when the requested file is in a format without Codec (in this case .raw) and therefore the Speech to Text API does not know how to encode it.\nTo solve this I had to pass an explicitDecodingConfig object when creating the recognizer (within the defaultRecognitionConfig property) or later in the transcriptionRequest (within the config property).\nconst speech = require('@google-cloud/speech').v2;\n\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\n\nconst client = new speech.SpeechClient();\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId,\n    recognizer: {\n      defaultRecognitionConfig: {\n        explicitDecodingConfig: {\n          encoding: 'LINEAR16',\n          sampleRateHertz: 16000,\n          audioChannelCount: 1\n        }\n      },\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  const recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const gcsUri = 'gs://cloud-samples-data/speech/brooklyn_bridge.raw';\n\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    uri: gcsUri,\n    config: {\n      explicitDecodingConfig: {   // If you didn't set explicitDecodingConfig when creating the recognizer, you have to set it here.\n        encoding: 'LINEAR16',\n        sampleRateHertz: 16000,\n        audioChannelCount: 1\n      }\n    },\n  }\n\n  const response = await client.recognize(transcriptionRequest);\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\n(async function main() {\n  await createRecognizer();\n  await transcribeFile();\n})();\n\n",
        "Source": "https://stackoverflow.com/questions/77940391/how-to-implement-speech-recognition-with-the-google-cloud-speech-to-text-api-usi"
    },
    {
        "Title": "Updating AWS credentials",
        "Question": "I need advice on how I can update AWS credentials after they expire.\nI'm creating a bean of AmazonSimpleEmailService this way:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new AWSStaticCredentialsProvider(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                        .getCredentials())\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\nBut when I'm trying to use it I'm getting an error:\nThe security token included in the request is expired (Service: AmazonSimpleEmailService; Status Code: 403; Error Code: ExpiredToken\nIf I create an instance of the SES client right before each mail sending - it works correctly, but it looks like a bad practice to create a new instance before each use.\nI understand that the issue with the credentials that I'm getting via STSAssumeRoleSessionCredentialsProvider - they just have an expiration time.\nI am wondering if there should be a way to automatically update the credentials when they are going to expire, so I'd really appreciate any advice on how to do it.\n",
        "Answer": "STSAssumeRoleSessionCredentialsProvider will auto-refresh the credentials, but you are blocking that functionality by getting a single set of credentials and passing them into a AWSStaticCredentialsProvider instance.\nThis should allow you to use the auto-refresh of the STS Provider:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\n",
        "Source": "https://stackoverflow.com/questions/77921630/updating-aws-credentials"
    },
    {
        "Title": "Reading credentials from another file doesn&#39;t work in Python",
        "Question": "I created a Python file called pw.py where I store my username and password.\nThe content of pw.py is as follows:\nusername = \"username1\"\npassword = \"pswrd2\"\n\nTo access these credentials from another file called ProducerReddit.ipynb, I do the following:\nfrom pw import password, username\n\nHowever, when I try to print password and username, they are always empty.\nThe two files are inside the same folder.\nWhat I am doing wrong?\n",
        "Answer": "I recommend you to check do you have a __init__.py file in the your top folder.\nIf you don't have please create this __init__.py module.\nThen try to use absolute import path.\nFor example you have top directorty with this structure:\ntop_directory:\n              __init__.py\n              pw.py\n              other_file.py\n\nyour import instructions in the other_file.py shoud be like this:\nfrom top_directory.pw import username, password\n\nI hope this may help you\n",
        "Source": "https://stackoverflow.com/questions/77786371/reading-credentials-from-another-file-doesnt-work-in-python"
    },
    {
        "Title": "Apache HTTP Client 5.3 ~ NTCredentials no longer working",
        "Question": "I have a project that uses org.apache.httpcomponents.client5:httpclient5. I recently tried upgrading from version 5.2.3 to version 5.3, only to realize that the authentication was no longer working in the new version.\nHere is how the relevant code looks:\n        BasicCredentialsProvider credentialsProvider =\n            new BasicCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(credentialsProvider)\n            .build();\n[...]\n            final HttpGet httpget = new HttpGet(targetUrl);\n\n            CloseableHttpResponse response = httpclient.execute(httpget);\n\n\nBefore the update from 5.2.3 to 5.3 this worked fine. However, when I use 5.3, I now get a 401 UNAUTHORIZED response.\nI also tried the following variations to above code to pass the credentials along, but they all also return only 401 UNAUTHORIZED:\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(CredentialsProviderBuilder.create()\n                .add(new HttpHost(host, port), username, password.toCharArray())\n                .build())\n            .build();\n\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new UsernamePasswordCredentials(username, password.toCharArray())\n        );\n\n        SystemDefaultCredentialsProvider credentialsProvider =\n            new SystemDefaultCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n\nNow I am stumped. Could this be a bug in 5.3? Or did something change to the way that the NTCredentialsProvider works? I could not find any release notes indicating so, and since this is only a minor version update that would surprise me.\nNonetheless, the fact it that it works with the old version but not with the new one. Does anyone has any suggestions as to what I can do about that?\n",
        "Answer": "We now managed to solve it by providing the httpclient with a default auth scheme registry like this:\n        Lookup<AuthSchemeFactory> authSchemeRegistry = RegistryBuilder.<AuthSchemeFactory>create()\n                .register(StandardAuthScheme.NTLM, new NTLMSchemeFactory()).build();\n\n        httpclient = HttpClients.custom()\n                .setDefaultCredentialsProvider(credentialsProvider)\n                .setDefaultRequestConfig(config)\n                .setDefaultAuthSchemeRegistry(authSchemeRegistry)\n                .build();\n\n",
        "Source": "https://stackoverflow.com/questions/77784888/apache-http-client-5-3-ntcredentials-no-longer-working"
    },
    {
        "Title": "Error on Google Sign In CredentialManager, using Jetpack Compose",
        "Question": "I am trying to create a Sign In with Google Button but everytime credentialManager.getCredential is called, it gives me :\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nI tried resetting the SHA-1 Fingerprint, I've created both web application and android in the google cloud credential, I've used both the web app client id and android client id. I'm lost, please help\n\nobject DeveloperScreen{\n\n    const val GOOGLE_WEB_CLIENT_ID = \"xxxxxxxxxh5n94bxxxxxxxxxxx1.apps.googleusercontent.com\"\n//    const val GOOGLE_WEB_CLIENT_SECRET = \"GxxxxxxxxCinwYDR8KQi3-wD9ugT311\"\n//    const val GOOGLE_ANDROID_CLIENT_ID = \"3xxxxxxx80-7ja1n9nknxxxxxxxxxxxxxxxxxxxens33k.apps.googleusercontent.com\"\n\n\n    private suspend fun googleSignIn(context : Context) {\n\n\n        val credentialManager = androidx.credentials.CredentialManager.create(context)\n\n        val googleIdOption: GetGoogleIdOption = GetGoogleIdOption.Builder()\n            .setFilterByAuthorizedAccounts(false)\n            .setServerClientId(GOOGLE_WEB_CLIENT_ID)\n            .build()\n\n        Log.i(\"auth-google-googleIdOption\", googleIdOption.toString())\n\n        val request: GetCredentialRequest = GetCredentialRequest.Builder()\n            .addCredentialOption(googleIdOption)\n            .build()\n\n        Log.i(\"auth-google-credentialRequest\", request.toString())\n\n\n        val result = credentialManager.getCredential(\n            request = request,\n            context = context,\n        )\n\n        Log.i(\"auth-google-result\", result.toString())\n\n\n\n\n\n    }\n\n\n\n    @Composable\n    public fun DeveloperScreen1(navController : NavHostController, context : Context){\n\n        var phoneNumber by rememberSaveable { mutableStateOf(\"\") }\n        var email by rememberSaveable { mutableStateOf(\"\")}\n        var otpCode by rememberSaveable { mutableStateOf(\"\") }\n\n        var useEmail by rememberSaveable { mutableStateOf(false)}\n\n        var message by rememberSaveable { mutableStateOf(\"\")}\n\n        val coroutineScope = rememberCoroutineScope()\n\n        Column {\n\n\n            var user : User? = getCurrentUser()\n\n            Text(\n                textAlign = TextAlign.Center,\n                fontSize = 5.em,\n                text = \"DEV SCREEN\",\n                modifier = Modifier\n                    .fillMaxWidth()\n                    .padding(top = 10.dp)\n\n            )\n\n            Text(\n                text = message,\n                color = Color.Black\n            )\n\n            Button(\n                onClick = {\n\n                    coroutineScope.launch {\n\n                        googleSignIn(context)\n\n                    }\n...\n\n\n\n\nvar screenHeight = 0.dp\nvar screenWidth = 0.dp\n\nvar authViewModel = AuthViewModel()\n\n\n\nclass MainActivity : ComponentActivity() {\n\n\n\n    @RequiresApi(Q)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n\n        Log.d(\"Initialize\", \"App Started\")\n\n        setContent {\n\n\n            var context: Context = LocalContext.current\n\n            Box(\n                Modifier\n                    .background(color = Color(0xFFBDC6CA))\n                    .safeDrawingPadding()\n            ) {\n                MetroFCTheme {\n                    MainContent(context)\n\n\n\n                }\n            }\n        }\n\n        actionBar?.hide()\n        WindowCompat.setDecorFitsSystemWindows(window, false)\n        if (Build.VERSION.SDK_INT < Build.VERSION_CODES.R) {\n            window.addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)\n        } else {\n            window.insetsController?.apply {\n//                hide(WindowInsetsAndroid.Type.statusBars())\n                systemBarsBehavior = WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\n            }\n        }\n\n    }\n\n\n}\n\n\n\n@RequiresApi(Q)\n@Composable\nfun MainContent(\n    context : Context\n){\n\n    var user by remember{ mutableStateOf<User?>(null) }\n\n    LaunchedEffect(key1 = user) {\n\n        refreshMenu()\n\n    }\n\n\n    LaunchedEffect(key1 = \"login\") {\n\n        user = loginAnonymously()\n        Log.d(\"DB-User\", \"USER LOGIN SUCCESSFUL : $user\")\n\n    }\n\n\n    Log.d(\"DB\", \"2.\" + user.toString())\n\n\n\n\n    Log.d(\"Initialize\",\"Database Connected\")\n\n    val configuration = LocalConfiguration.current\n    screenHeight = configuration.screenHeightDp.dp\n    screenWidth = configuration.screenWidthDp.dp\n\n    var onDashboard by remember {mutableStateOf(true)}\n    var onMenu = false\n    val updateStates = { dashboard: Boolean, menu: Boolean ->\n        onDashboard = dashboard\n        onMenu = menu\n    }\n\n    val navController = rememberNavController()\n\n\n    Scaffold(\n\n        bottomBar = {\n            if(authViewModel.isLoggedIn) NavigationBar(navController = navController, onDashboard, onMenu, updateStates)\n\n                    },\n        containerColor = MaterialTheme.colorScheme.background,\n        contentWindowInsets = WindowInsets(0.dp),\n        modifier = Modifier.fillMaxSize()\n\n    ) {\n    innerPadding ->\n\n        val scrollState = rememberScrollState()\n\n        val padding = innerPadding\n\n        NavHost(\n            navController = navController,\n            startDestination = if (authViewModel.isLoggedIn) Route.DEV_SCREEN else Route.DEV_SCREEN,\n            modifier = Modifier\n//                .verticalScroll(state = scrollState)\n                .fillMaxSize()\n        ) {\n\n            composable(route = Route.DEV_SCREEN){\n                DeveloperScreen1(navController, context)\n            }\n\n            composable(route = Route.DASHBOARD_SCREEN) {\n\n                authViewModel.login(user)\n                DashboardScreen()\n            }\n\n            composable(route = Route.MENU_SCREEN) {\n                authViewModel.login(user)\n                MenuScreen(user)\n            }\n        }\n    }\n}\n\nProcess: com.metrofriedchicken.metrofc, PID: 20630\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nat androidx.credentials.playservices.controllers.CredentialProviderBaseController$Companion.getCredentialExceptionTypeToException$credentials_play_services_auth_release(CredentialProviderBaseController.kt:110)\nat androidx.credentials.playservices.controllers.BeginSignIn.CredentialProviderBeginSignInController$resultReceiver$1$onReceiveResult$1.invoke(CredentialProviderBeginSignInController.kt:93)\nI've tried :\n\nDeleting Keystore and make a new one ( debug and release )\nUsed the web app client id and android client id\nChange device\nwaited a day\n\n",
        "Answer": "I am assuming you are currently integrating the Credential Manager in debug mode and testing your integration in an app directly installed from Android Studio to  your test device.\nIn this case you will need to configure the SHA1 key currently being used to sign your app, which is Android Studio's debug keystore.\nIn this case, you can get the SHA1 by running below command in Android Studio's terminal:\n./gradlew signingreport\n\nCopy the correct SHA1 fingerprint of correct Variant and Config from the terminal console and configure the same in cloud console for your app's Android OAuth2 client.\nIn order to keep the steps cleaner, I am mentioning them as below:\n\nCreate one Android OAuth2 client in cloud api console with you app's package name.\nUse the debug SHA1 key in this Android OAuth2 client creation as I mentioned above (in order to recognized this as debug client you can append the client name with debug as \"your-app-debug\")\nCreate one Web OAuth2 client in cloud api console. This will act as the server for your app\nCopy the ClientID of this Web client and use in setServerClientId(ServerClientID) in your integration.\n\nWith these simple steps alone, your integration should work fine.\nOptionally, as the next step,\n\nYou can create another Android OAuth2 client with release key's SHA1 fingerprint for production, and for recognizing this client, can give it a name \"Your-app-release\"\n\n",
        "Source": "https://stackoverflow.com/questions/78247578/error-on-google-sign-in-credentialmanager-using-jetpack-compose"
    },
    {
        "Title": "Access AWS Secrets Manager with IMDSv2 set to required",
        "Question": "I'm working on a Java application running on an EC2 instance in AWS. My goal is to access AWS Secrets Manager using an AWS SDK for Java and an IAM role attached to the EC2 instance.\nEverything works smoothly when IMDSv2 (Instance Metadata Service version 2) is optional. However, when it's set to required as recommended, I encounter an issue.\nSpecifically, I'm receiving the error 'software.amazon.awssdk.core.exception.SdkClientException: Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain'.\nHow can I resolve this issue and successfully access AWS Secrets Manager with IMDSv2 set to required?\nTried attaching different policies, created some custom ones but the result is same.\njava sdk version used:\n<dependency>\n     <groupId>software.amazon.awssdk</groupId>\n     <artifactId>secretsmanager</artifactId>\n     <version>2.25.7</version>\n</dependency>\n\n",
        "Answer": "I did some more research and was able to figure this out. There have been issues with IMDSv2 network request and what was suggested is to increase the hop limit to '2' on the ec2 instance. As said here in the considerations section as well https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-retrieval.html#imds-considerations\nTo increase the hop limit:\n\"Use the modify-instance-metadata-options CLI command and set the http-put-response-hop-limit parameter to the required number of hops. In the following example, the hop limit is set to 2. Note that when specifying a value for http-put-response-hop-limit, you must also set http-endpoint to enabled\"\nUsing aws cli:\naws ec2 modify-instance-metadata-options \\\n--instance-id <instance-id> \\\n--http-put-response-hop-limit 2 \\\n--http-endpoint enabled\n\n",
        "Source": "https://stackoverflow.com/questions/78183614/access-aws-secrets-manager-with-imdsv2-set-to-required"
    },
    {
        "Title": "Install a private package with credentials from requirements.txt",
        "Question": "I want to a private package via\n%pip install -r /dbfs/requirements.txt\n\nInside this requirements.txt is give:\ngit+https://<user>:$token@<gitprovider>.com/<path/to/repo>\n\nIf i give user and token inside the requirements.txt it works like a charm, but I want to pass user and token via dbutils.secrets. Is this doable without manipulating the requirements.txt before?\nI thought it would be possible to create environment variables, but this did not work for me.\n%env GIT_USERNAME= ...\n%env GIT_TOKEN= ...\n\n",
        "Answer": "The way is using python\n\nGetting information\nStore the information in a temporary file so that its details will not be found in the run log or records after running\nRun\n\nimport dbutils\n\nusername = dbutils.secrets.get(scope=\"your_scope\", key=\"git_username\")\ntoken = dbutils.secrets.get(scope=\"your_scope\", key=\"git_token\")\n\nrepo_url = f\"git+https://{username}:{token}@gitprovider.com/path/to/repo\"\n\nrequirements_path = \"/dbfs/tmp/requirements.txt\"\n\nwith open(requirements_path, \"w\") as file:\n    file.write(repo_url + \"\\n\")\n\ndbutils.notebook.run(\"%pip install -r \" + requirements_path, 60)\n\n",
        "Source": "https://stackoverflow.com/questions/78140635/install-a-private-package-with-credentials-from-requirements-txt"
    },
    {
        "Title": "PayPal bearer resets after x amount of seconds",
        "Question": "I\u2019m using PayPal refund api. The api docs says the bearer token that I am using will reset after x amount of seconds.\nLink to where it says access token resets:\nhttps://developer.paypal.com/reference/get-an-access-token/\nIn my case my token resets after 9 hours. I am using this token to refund purchases which will happen all the time. Is there an alternate solution from Bearer <Access-Token> that doesn\u2019t include a reset token? I haven\u2019t been able to find one other than the Basic <client_id>:<secret> which includes client credentials which doesn\u2019t seem to work. And yes the credentials are correct.\nLink to api:\nhttps://developer.paypal.com/docs/api/payments/v2/#captures_refund\n",
        "Answer": "Basic client_id:secret, where the string client_id:secret is Base64 encoded, is the header value for HTTP Basic Authentication. This is used to obtain an access token from the oauth2 token endpoint.\nAccess tokens expire after 9 hours, beyond which a new one must be obtained. These are required for all PayPal REST API operations, including refunds.\n",
        "Source": "https://stackoverflow.com/questions/78109044/paypal-bearer-resets-after-x-amount-of-seconds"
    },
    {
        "Title": "How to store MySQL credentials in python project, that users not only from my pc will use later?",
        "Question": "I have the following code:\nclass Server:\n    def __init__(self):\n        #server credentials\n        self.ip = \"192.168.1.182\"\n        self.user = \"bank_user\"\n        self.password = \"*mypass*\"\n        self.port = 3307\n        self.database = \"bank\"\n    def connect_to_server(self):\n        try:\n            self.mydb = mysql.connector.connect(\n                host = self.ip,\n                user = self.user,\n                password = self.password,\n                port = self.port,\n                database = self.database\n                )\n            self.mycursor = self.mydb.cursor()\n            print(\"\u2713 Server connection estabilished\")\n            rlist = [True]\n\nThe problem is, I don't want to store it in my code because I feel that it's not safe\nI'm creating a banking app (just for fun) so it will be used as .py->.exe later by users not only from my pc. I shouldn't be stored in a config file or a plaintext file, because if someone gets the credentials he can basically log into the MySQL database and modify all of the data.\nSo no:\n\nEnviromental variables\nPlaintext/ config file\nIt should work on any pc (I'm using pytoexe to convert my python file to exe, so that everyone can run the app)\nI'm new to stackoverflow so forgive me if I wrote sth wrong\n\nI thought about creating a password encryption, but anyone who gets the decryption key can decrypt the password. I also thought about creating my own encryption method, but anyone who gets to my code can just use the decrypting function and execute it for example: decryptor(\"encryptedpassword\")\n",
        "Answer": "Right, anyone who gets your code can extract the MySQL password and connect using any other client. They can do any SQL query according to the privileges you granted that MySQL user.\nEven if you compile using pytoexe, a skilled person could use a debugger or simply the strings tool to extract the password.\nIf you encrypt, they can decrypt. If you try to invent your own encryption algorithm, assume they can decrypt it more easily. I assume you are not an accomplished Ph.D. in applied cryptography, so any novel encryption method you think of will surely be easier to crack than state of the art encryption tools.\nThere are two common methods to solve this problem:\n\nDon't give them the MySQL password. The application you give them has no MySQL connection. The application makes HTTP requests to a web service that you develop. The code in your web service implements specific SQL they can execute. This is where you enforce business rules about what they can access. This is by far the most popular solution.\n\nGive them the MySQL password, but restrict the SQL they can execute. Privileges alone only give you limited control, so you need to create a layer of stored routines and views in the MySQL database. They should be able to access the stored routines and views, but the user cannot access the underlying tables. The routines and views have privileges to do that. Therefore the users can only do what you have allowed them to do in those routines and views.\n\n\nThere could also be a solution using a proxy such as ProxySQL. This would involve writing filters in the proxy so clients would not be allowed to run queries except those you want them to run. The advantage would be that the client application thinks it's connecting to a MySQL Server, but it's really connecting to the proxy. But I think it would be easier to write a web service than to write a whole application's business logic in a proxy.\nI suppose one could also use MySQL's query rewrite plugin to do something similar, but I've never seen anyone do that successfully.\n",
        "Source": "https://stackoverflow.com/questions/78089675/how-to-store-mysql-credentials-in-python-project-that-users-not-only-from-my-pc"
    },
    {
        "Title": "Setup access.ini file permession so it can be read by php script",
        "Question": "I'm really new to this so sorry if this isn't clear.\nI'm trying to hide my database credentials using an access.ini  file.\nI have a AWS instance, with my scripts located in /bitnami/joomla/index (in short I have an html page that display data using a php file that queries a postgresql db). I've tried creating a new directory /bitnami/joomla/config where I placed the access.ini  file. However, my php script can't read it due to permission issues (I guess).\nThe owner/group for the files in /bitnami/joomla/index are bitnami bitnami.\nAnd the owner/group and permissions for the folder /bitnami/joomla/config and its file are :\nbitnami bitnami\ndrwx--x--x\nIs my setup completly wrong, or is the issue easy to solve ?\n",
        "Answer": "Instead of using an access.ini file, consider using environment variables to store sensitive credentials.\nPHP can read environment variables easily.\nAdditional details can be found here.\n",
        "Source": "https://stackoverflow.com/questions/78035277/setup-access-ini-file-permession-so-it-can-be-read-by-php-script"
    },
    {
        "Title": "How to set an &quot;environment&quot; in a non-trivial way using expression?",
        "Question": "I have a GitHub Actions workflow which deploys some things to an environment. The workflow needs to log in to access the environment, so we use GitHub environment secrets to store credentials.\nMy workflow contains this:\non:\n  workflow_dispatch:\n    inputs:\n      deployment_target:\n        type: choice\n        description: Choose an environment to deploy to\n        options:\n          - dev\n          - staging\n          - production\n          - benchmarks\n...\njobs:\n  deploy-to-persistent-environment:\n    environment: ${{ github.event.inputs.deployment_target}}\n    steps: \n      - name: Login # Pseudocode\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy # Pseudocode\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nThe \"benchmarks\" environment uses the same credentials as the \"development\" environment. So I would like to re-use the same GitHub environment secrets rather than have two sets of duplicate environment secrets in GitHub.\nI.e., I would like to do something like this pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ if github.event.inputs.deployment_target == 'benchmarks' then 'development' else github.event.inputs.deployment_target }}\n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nIs there any way to achieve this with GitHub Actions?\n",
        "Answer": "There is a way to do it directly in the expression, according to this reference on the Github Community, by using the syntax ${{ x && 'ifTrue' || 'ifFalse'  }}\nIn that case:\n\nif the condition x is True, the first argument will be used.\nif the condition x is False, the second argument will be used.\n\nIn our case here, it would look like this:\nenvironment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}\n\nWhere:\n\nif github.event.inputs.deployment_target == 'benchmarks' is True, development will be used as environment.\n\nif github.event.inputs.deployment_target == 'benchmarks' is False, github.event.inputs.deployment_target will be used as environment.\n\n\nUpdating the pseudocode:\njobs:\n  deploy-to-persistent-environment: # Pseudocode\n    environment: ${{ github.event.inputs.deployment_target == 'benchmarks' && 'development' ||  github.event.inputs.deployment_target }}   \n    steps: \n      - name: Login\n        run: login -password \"${{ secrets.PASSWORD }}\"\n      - name: Deploy\n        run: DeploymentTool.exe -environment \"${{ github.event.inputs.deployment_target}}\"\n\nEDIT: This is now available on the GitHub official doc as well (Thanks Benjamin W for reporting)\n",
        "Source": "https://stackoverflow.com/questions/77959880/how-to-set-an-environment-in-a-non-trivial-way-using-expression"
    },
    {
        "Title": "How to implement speech recognition with the Google Cloud Speech-to-Text API using Node.js?",
        "Question": "I am new to Google Cloud,\nI recently created a project with Speech-to-Text API.\nAfter creating the project and linking it to a billing account, I accessed the Node.js in-console tutorial for a quick start.\nAfter following all the steps in the in-console tutorial (and dealing with some mistakes in the code in the tutorial itself), and running the code, I got the following error:\nnode:internal/process/promises:289\n            triggerUncaughtException(err, true /* fromPromise */);\n            ^\n\nError: 3 INVALID_ARGUMENT: Invalid resource field value in the request.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Invalid resource field value in the request.',\n  metadata: Metadata {\n    internalRepr: Map(2) {\n      'google.rpc.errorinfo-bin' => [\n        Buffer(127) [Uint8Array] [\n           10,  24,  82,  69,  83,  79,  85,  82,  67,  69,  95,  80,\n           82,  79,  74,  69,  67,  84,  95,  73,  78,  86,  65,  76,\n           73,  68,  18,  14, 103, 111, 111, 103, 108, 101,  97, 112,\n          105, 115,  46,  99, 111, 109,  26,  32,  10,   7, 115, 101,\n          114, 118, 105,  99, 101,  18,  21, 115, 112, 101, 101,  99,\n          104,  46, 103, 111, 111, 103, 108, 101,  97, 112, 105, 115,\n           46,  99, 111, 109,  26,  49,  10,   6, 109, 101, 116, 104,\n          111, 100,  18,  39, 103, 111, 111, 103, 108, 101,  46,  99,\n          108, 111, 117, 100,\n          ... 27 more items\n        ]\n      ],\n      'grpc-status-details-bin' => [\n        Buffer(222) [Uint8Array] [\n            8,   3,  18,  44,  73, 110, 118,  97, 108, 105, 100,  32,\n          114, 101, 115, 111, 117, 114,  99, 101,  32, 102, 105, 101,\n          108, 100,  32, 118,  97, 108, 117, 101,  32, 105, 110,  32,\n          116, 104, 101,  32, 114, 101, 113, 117, 101, 115, 116,  46,\n           26, 171,   1,  10,  40, 116, 121, 112, 101,  46, 103, 111,\n          111, 103, 108, 101,  97, 112, 105, 115,  46,  99, 111, 109,\n           47, 103, 111, 111, 103, 108, 101,  46, 114, 112,  99,  46,\n           69, 114, 114, 111, 114,  73, 110, 102, 111,  18, 127,  10,\n           24,  82,  69,  83,\n          ... 122 more items\n        ]\n      ]\n    },\n    options: {}\n  },\n  note: 'Exception occurred in retry method that was not classified as transient',\n  statusDetails: [\n    ErrorInfo {\n      metadata: {\n        service: 'speech.googleapis.com',\n        method: 'google.cloud.speech.v2.Speech.Recognize'\n      },\n      reason: 'RESOURCE_PROJECT_INVALID',\n      domain: 'googleapis.com'\n    }\n  ],\n  reason: 'RESOURCE_PROJECT_INVALID',\n  domain: 'googleapis.com',\n  errorInfoMetadata: {\n    service: 'speech.googleapis.com',\n    method: 'google.cloud.speech.v2.Speech.Recognize'\n  }\n}\n\nThis is after I seted a project for quota purposes (using gcloud auth application-default set-quota-project $PROJECT_ID in the terminal).\nI also did the same steps through the gcloud CLI (on Windows) and it returned the same error.\nIs there something I forgot to do? Or something in the code is wrong? Maybe it's something to do with the fact that I'm working with version 2 of the API and the code is optimized to work only with version 1 of the API?\nMany thanks in advance!\nThe reusable Node.js code (I made some changes from the original code of the tutorial after encountering errors, and I also changed the way to get the data of the audio file after I couldn't get it from the uri of the bucket, as is customary in GCP):\nconst speech = require('@google-cloud/speech').v2;\nconst https = require('https');\n\nconst client = new speech.SpeechClient();\nconst projectId = '<ProjectId>';\nvar recognizerName;\n\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId: 'en123',\n    recognizer: {\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function getUrlData(url) {\n  return new Promise((resolve) => {\n      https.get(url, response => {\n          var body = '';\n          var i = 0;\n          response.on('data', chunk => {\n              i++;\n              body += chunk;\n          });\n          response.on('end', () => {\n              resolve(Buffer.from(body).toString('base64'));\n          });\n      });\n  });\n}\n\nasync function transcribeFile() {\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nUpdate:\nAfter looking at the (asker's) code in this question, I realized that I got confused in the definition of recognizerName and used only the string of the recognizerId instead of using the full path of the recognizer (projects/${projectId}/locations/global/recognizers/${recognizerId}), so currently my code looks like this:\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\nconst fileUrl = 'https://storage.googleapis.com/cloud-samples-data/speech/brooklyn_bridge.wav';\n\n// ...\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const content = await getUrlData(fileUrl);\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    config: {\n      autoDecodingConfig: {},\n    },\n    content: content,\n  };\n\n  const response = await client.recognize(transcriptionRequest); // <=== The error occurs on this line\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\ncreateRecognizer();\ntranscribeFile();\n\nBut now I get another error:\nError: 3 INVALID_ARGUMENT: Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.\n    at callErrorFromStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:192:76)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/resolving-call.js:99:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/client.js:160:32)\n    at ServiceClientImpl.<anonymous> (/home/<Google-Account>/speech-to-text-nodejs/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/@google-cloud/speech/build/src/v2/speech_client.js:318:29\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/retries.js:119:13\n    at OngoingCallPromise.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/<Google-Account>/speech-to-text-nodejs/node_modules/google-gax/build/src/createApiCall.js:108:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  code: 3,\n  details: 'Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters.',\n  metadata: Metadata { internalRepr: Map(0) {}, options: {} },\n  note: 'Exception occurred in retry method that was not classified as transient'\n}\n\n",
        "Answer": "I managed to solve it!\nThe error Audio data does not appear to be in a supported encoding. If you believe this to be incorrect, try explicitly specifying the decoding parameters occurs when the requested file is in a format without Codec (in this case .raw) and therefore the Speech to Text API does not know how to encode it.\nTo solve this I had to pass an explicitDecodingConfig object when creating the recognizer (within the defaultRecognitionConfig property) or later in the transcriptionRequest (within the config property).\nconst speech = require('@google-cloud/speech').v2;\n\nconst projectId = '<ProjectId>';\nconst recognizerId = 'en123';\n\nconst client = new speech.SpeechClient();\n\nasync function createRecognizer() {\n  const recognizerRequest = {\n    parent: `projects/${projectId}/locations/global`,\n    recognizerId,\n    recognizer: {\n      defaultRecognitionConfig: {\n        explicitDecodingConfig: {\n          encoding: 'LINEAR16',\n          sampleRateHertz: 16000,\n          audioChannelCount: 1\n        }\n      },\n      languageCodes: ['en-US'],\n      model: 'latest_long',\n    },\n  };\n\n  const operation = await client.createRecognizer(recognizerRequest);\n  const recognizer = operation[0].result;\n  const recognizerName = recognizer.name;\n  console.log(`Created new recognizer: ${recognizerName}`);\n}\n\nasync function transcribeFile() {\n  const recognizerName = `projects/${projectId}/locations/global/recognizers/${recognizerId}`;\n  const gcsUri = 'gs://cloud-samples-data/speech/brooklyn_bridge.raw';\n\n  const transcriptionRequest = {\n    recognizer: recognizerName,\n    uri: gcsUri,\n    config: {\n      explicitDecodingConfig: {   // If you didn't set explicitDecodingConfig when creating the recognizer, you have to set it here.\n        encoding: 'LINEAR16',\n        sampleRateHertz: 16000,\n        audioChannelCount: 1\n      }\n    },\n  }\n\n  const response = await client.recognize(transcriptionRequest);\n  for (const result of response[0].results) {\n    console.log(`Transcript: ${result.alternatives[0].transcript}`);\n  }\n}\n\n(async function main() {\n  await createRecognizer();\n  await transcribeFile();\n})();\n\n",
        "Source": "https://stackoverflow.com/questions/77940391/how-to-implement-speech-recognition-with-the-google-cloud-speech-to-text-api-usi"
    },
    {
        "Title": "Updating AWS credentials",
        "Question": "I need advice on how I can update AWS credentials after they expire.\nI'm creating a bean of AmazonSimpleEmailService this way:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new AWSStaticCredentialsProvider(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                        .getCredentials())\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\nBut when I'm trying to use it I'm getting an error:\nThe security token included in the request is expired (Service: AmazonSimpleEmailService; Status Code: 403; Error Code: ExpiredToken\nIf I create an instance of the SES client right before each mail sending - it works correctly, but it looks like a bad practice to create a new instance before each use.\nI understand that the issue with the credentials that I'm getting via STSAssumeRoleSessionCredentialsProvider - they just have an expiration time.\nI am wondering if there should be a way to automatically update the credentials when they are going to expire, so I'd really appreciate any advice on how to do it.\n",
        "Answer": "STSAssumeRoleSessionCredentialsProvider will auto-refresh the credentials, but you are blocking that functionality by getting a single set of credentials and passing them into a AWSStaticCredentialsProvider instance.\nThis should allow you to use the auto-refresh of the STS Provider:\n@Bean\n    public AmazonSimpleEmailService getSesClient() {\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(new STSAssumeRoleSessionCredentialsProvider.Builder(\"ses-role-us-west-2\", \"mail-sender\")\n                        .build()\n                )\n                .withRegion(Regions.US_WEST_2).build();\n    }\n\n",
        "Source": "https://stackoverflow.com/questions/77921630/updating-aws-credentials"
    },
    {
        "Title": "Reading credentials from another file doesn&#39;t work in Python",
        "Question": "I created a Python file called pw.py where I store my username and password.\nThe content of pw.py is as follows:\nusername = \"username1\"\npassword = \"pswrd2\"\n\nTo access these credentials from another file called ProducerReddit.ipynb, I do the following:\nfrom pw import password, username\n\nHowever, when I try to print password and username, they are always empty.\nThe two files are inside the same folder.\nWhat I am doing wrong?\n",
        "Answer": "I recommend you to check do you have a __init__.py file in the your top folder.\nIf you don't have please create this __init__.py module.\nThen try to use absolute import path.\nFor example you have top directorty with this structure:\ntop_directory:\n              __init__.py\n              pw.py\n              other_file.py\n\nyour import instructions in the other_file.py shoud be like this:\nfrom top_directory.pw import username, password\n\nI hope this may help you\n",
        "Source": "https://stackoverflow.com/questions/77786371/reading-credentials-from-another-file-doesnt-work-in-python"
    },
    {
        "Title": "Apache HTTP Client 5.3 ~ NTCredentials no longer working",
        "Question": "I have a project that uses org.apache.httpcomponents.client5:httpclient5. I recently tried upgrading from version 5.2.3 to version 5.3, only to realize that the authentication was no longer working in the new version.\nHere is how the relevant code looks:\n        BasicCredentialsProvider credentialsProvider =\n            new BasicCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(credentialsProvider)\n            .build();\n[...]\n            final HttpGet httpget = new HttpGet(targetUrl);\n\n            CloseableHttpResponse response = httpclient.execute(httpget);\n\n\nBefore the update from 5.2.3 to 5.3 this worked fine. However, when I use 5.3, I now get a 401 UNAUTHORIZED response.\nI also tried the following variations to above code to pass the credentials along, but they all also return only 401 UNAUTHORIZED:\n        httpclient = HttpClients.custom()\n            .setDefaultCredentialsProvider(CredentialsProviderBuilder.create()\n                .add(new HttpHost(host, port), username, password.toCharArray())\n                .build())\n            .build();\n\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new UsernamePasswordCredentials(username, password.toCharArray())\n        );\n\n        SystemDefaultCredentialsProvider credentialsProvider =\n            new SystemDefaultCredentialsProvider();\n        credentialsProvider.setCredentials(\n            new AuthScope(host, port),\n            new NTCredentials(username, password.toCharArray(), \"\", \"\")\n        );\n\nNow I am stumped. Could this be a bug in 5.3? Or did something change to the way that the NTCredentialsProvider works? I could not find any release notes indicating so, and since this is only a minor version update that would surprise me.\nNonetheless, the fact it that it works with the old version but not with the new one. Does anyone has any suggestions as to what I can do about that?\n",
        "Answer": "We now managed to solve it by providing the httpclient with a default auth scheme registry like this:\n        Lookup<AuthSchemeFactory> authSchemeRegistry = RegistryBuilder.<AuthSchemeFactory>create()\n                .register(StandardAuthScheme.NTLM, new NTLMSchemeFactory()).build();\n\n        httpclient = HttpClients.custom()\n                .setDefaultCredentialsProvider(credentialsProvider)\n                .setDefaultRequestConfig(config)\n                .setDefaultAuthSchemeRegistry(authSchemeRegistry)\n                .build();\n\n",
        "Source": "https://stackoverflow.com/questions/77784888/apache-http-client-5-3-ntcredentials-no-longer-working"
    },
    {
        "Title": "Error on Google Sign In CredentialManager, using Jetpack Compose",
        "Question": "I am trying to create a Sign In with Google Button but everytime credentialManager.getCredential is called, it gives me :\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nI tried resetting the SHA-1 Fingerprint, I've created both web application and android in the google cloud credential, I've used both the web app client id and android client id. I'm lost, please help\n\nobject DeveloperScreen{\n\n    const val GOOGLE_WEB_CLIENT_ID = \"xxxxxxxxxh5n94bxxxxxxxxxxx1.apps.googleusercontent.com\"\n//    const val GOOGLE_WEB_CLIENT_SECRET = \"GxxxxxxxxCinwYDR8KQi3-wD9ugT311\"\n//    const val GOOGLE_ANDROID_CLIENT_ID = \"3xxxxxxx80-7ja1n9nknxxxxxxxxxxxxxxxxxxxens33k.apps.googleusercontent.com\"\n\n\n    private suspend fun googleSignIn(context : Context) {\n\n\n        val credentialManager = androidx.credentials.CredentialManager.create(context)\n\n        val googleIdOption: GetGoogleIdOption = GetGoogleIdOption.Builder()\n            .setFilterByAuthorizedAccounts(false)\n            .setServerClientId(GOOGLE_WEB_CLIENT_ID)\n            .build()\n\n        Log.i(\"auth-google-googleIdOption\", googleIdOption.toString())\n\n        val request: GetCredentialRequest = GetCredentialRequest.Builder()\n            .addCredentialOption(googleIdOption)\n            .build()\n\n        Log.i(\"auth-google-credentialRequest\", request.toString())\n\n\n        val result = credentialManager.getCredential(\n            request = request,\n            context = context,\n        )\n\n        Log.i(\"auth-google-result\", result.toString())\n\n\n\n\n\n    }\n\n\n\n    @Composable\n    public fun DeveloperScreen1(navController : NavHostController, context : Context){\n\n        var phoneNumber by rememberSaveable { mutableStateOf(\"\") }\n        var email by rememberSaveable { mutableStateOf(\"\")}\n        var otpCode by rememberSaveable { mutableStateOf(\"\") }\n\n        var useEmail by rememberSaveable { mutableStateOf(false)}\n\n        var message by rememberSaveable { mutableStateOf(\"\")}\n\n        val coroutineScope = rememberCoroutineScope()\n\n        Column {\n\n\n            var user : User? = getCurrentUser()\n\n            Text(\n                textAlign = TextAlign.Center,\n                fontSize = 5.em,\n                text = \"DEV SCREEN\",\n                modifier = Modifier\n                    .fillMaxWidth()\n                    .padding(top = 10.dp)\n\n            )\n\n            Text(\n                text = message,\n                color = Color.Black\n            )\n\n            Button(\n                onClick = {\n\n                    coroutineScope.launch {\n\n                        googleSignIn(context)\n\n                    }\n...\n\n\n\n\nvar screenHeight = 0.dp\nvar screenWidth = 0.dp\n\nvar authViewModel = AuthViewModel()\n\n\n\nclass MainActivity : ComponentActivity() {\n\n\n\n    @RequiresApi(Q)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n\n        Log.d(\"Initialize\", \"App Started\")\n\n        setContent {\n\n\n            var context: Context = LocalContext.current\n\n            Box(\n                Modifier\n                    .background(color = Color(0xFFBDC6CA))\n                    .safeDrawingPadding()\n            ) {\n                MetroFCTheme {\n                    MainContent(context)\n\n\n\n                }\n            }\n        }\n\n        actionBar?.hide()\n        WindowCompat.setDecorFitsSystemWindows(window, false)\n        if (Build.VERSION.SDK_INT < Build.VERSION_CODES.R) {\n            window.addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)\n        } else {\n            window.insetsController?.apply {\n//                hide(WindowInsetsAndroid.Type.statusBars())\n                systemBarsBehavior = WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\n            }\n        }\n\n    }\n\n\n}\n\n\n\n@RequiresApi(Q)\n@Composable\nfun MainContent(\n    context : Context\n){\n\n    var user by remember{ mutableStateOf<User?>(null) }\n\n    LaunchedEffect(key1 = user) {\n\n        refreshMenu()\n\n    }\n\n\n    LaunchedEffect(key1 = \"login\") {\n\n        user = loginAnonymously()\n        Log.d(\"DB-User\", \"USER LOGIN SUCCESSFUL : $user\")\n\n    }\n\n\n    Log.d(\"DB\", \"2.\" + user.toString())\n\n\n\n\n    Log.d(\"Initialize\",\"Database Connected\")\n\n    val configuration = LocalConfiguration.current\n    screenHeight = configuration.screenHeightDp.dp\n    screenWidth = configuration.screenWidthDp.dp\n\n    var onDashboard by remember {mutableStateOf(true)}\n    var onMenu = false\n    val updateStates = { dashboard: Boolean, menu: Boolean ->\n        onDashboard = dashboard\n        onMenu = menu\n    }\n\n    val navController = rememberNavController()\n\n\n    Scaffold(\n\n        bottomBar = {\n            if(authViewModel.isLoggedIn) NavigationBar(navController = navController, onDashboard, onMenu, updateStates)\n\n                    },\n        containerColor = MaterialTheme.colorScheme.background,\n        contentWindowInsets = WindowInsets(0.dp),\n        modifier = Modifier.fillMaxSize()\n\n    ) {\n    innerPadding ->\n\n        val scrollState = rememberScrollState()\n\n        val padding = innerPadding\n\n        NavHost(\n            navController = navController,\n            startDestination = if (authViewModel.isLoggedIn) Route.DEV_SCREEN else Route.DEV_SCREEN,\n            modifier = Modifier\n//                .verticalScroll(state = scrollState)\n                .fillMaxSize()\n        ) {\n\n            composable(route = Route.DEV_SCREEN){\n                DeveloperScreen1(navController, context)\n            }\n\n            composable(route = Route.DASHBOARD_SCREEN) {\n\n                authViewModel.login(user)\n                DashboardScreen()\n            }\n\n            composable(route = Route.MENU_SCREEN) {\n                authViewModel.login(user)\n                MenuScreen(user)\n            }\n        }\n    }\n}\n\nProcess: com.metrofriedchicken.metrofc, PID: 20630\nandroidx.credentials.exceptions.NoCredentialException: During begin sign in, failure response from one tap: 10: Developer console is not set up correctly.\nat androidx.credentials.playservices.controllers.CredentialProviderBaseController$Companion.getCredentialExceptionTypeToException$credentials_play_services_auth_release(CredentialProviderBaseController.kt:110)\nat androidx.credentials.playservices.controllers.BeginSignIn.CredentialProviderBeginSignInController$resultReceiver$1$onReceiveResult$1.invoke(CredentialProviderBeginSignInController.kt:93)\nI've tried :\n\nDeleting Keystore and make a new one ( debug and release )\nUsed the web app client id and android client id\nChange device\nwaited a day\n\n",
        "Answer": "I am assuming you are currently integrating the Credential Manager in debug mode and testing your integration in an app directly installed from Android Studio to  your test device.\nIn this case you will need to configure the SHA1 key currently being used to sign your app, which is Android Studio's debug keystore.\nIn this case, you can get the SHA1 by running below command in Android Studio's terminal:\n./gradlew signingreport\n\nCopy the correct SHA1 fingerprint of correct Variant and Config from the terminal console and configure the same in cloud console for your app's Android OAuth2 client.\nIn order to keep the steps cleaner, I am mentioning them as below:\n\nCreate one Android OAuth2 client in cloud api console with you app's package name.\nUse the debug SHA1 key in this Android OAuth2 client creation as I mentioned above (in order to recognized this as debug client you can append the client name with debug as \"your-app-debug\")\nCreate one Web OAuth2 client in cloud api console. This will act as the server for your app\nCopy the ClientID of this Web client and use in setServerClientId(ServerClientID) in your integration.\n\nWith these simple steps alone, your integration should work fine.\nOptionally, as the next step,\n\nYou can create another Android OAuth2 client with release key's SHA1 fingerprint for production, and for recognizing this client, can give it a name \"Your-app-release\"\n\n",
        "Source": "https://stackoverflow.com/questions/78247578/error-on-google-sign-in-credentialmanager-using-jetpack-compose"
    },
    {
        "Title": "Access AWS Secrets Manager with IMDSv2 set to required",
        "Question": "I'm working on a Java application running on an EC2 instance in AWS. My goal is to access AWS Secrets Manager using an AWS SDK for Java and an IAM role attached to the EC2 instance.\nEverything works smoothly when IMDSv2 (Instance Metadata Service version 2) is optional. However, when it's set to required as recommended, I encounter an issue.\nSpecifically, I'm receiving the error 'software.amazon.awssdk.core.exception.SdkClientException: Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain'.\nHow can I resolve this issue and successfully access AWS Secrets Manager with IMDSv2 set to required?\nTried attaching different policies, created some custom ones but the result is same.\njava sdk version used:\n<dependency>\n     <groupId>software.amazon.awssdk</groupId>\n     <artifactId>secretsmanager</artifactId>\n     <version>2.25.7</version>\n</dependency>\n\n",
        "Answer": "I did some more research and was able to figure this out. There have been issues with IMDSv2 network request and what was suggested is to increase the hop limit to '2' on the ec2 instance. As said here in the considerations section as well https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-retrieval.html#imds-considerations\nTo increase the hop limit:\n\"Use the modify-instance-metadata-options CLI command and set the http-put-response-hop-limit parameter to the required number of hops. In the following example, the hop limit is set to 2. Note that when specifying a value for http-put-response-hop-limit, you must also set http-endpoint to enabled\"\nUsing aws cli:\naws ec2 modify-instance-metadata-options \\\n--instance-id <instance-id> \\\n--http-put-response-hop-limit 2 \\\n--http-endpoint enabled\n\n",
        "Source": "https://stackoverflow.com/questions/78183614/access-aws-secrets-manager-with-imdsv2-set-to-required"
    }
]