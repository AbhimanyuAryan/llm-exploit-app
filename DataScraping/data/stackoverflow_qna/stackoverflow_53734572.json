{"questionTitle": "Maven Surefire does not rerun failed testng test, what&#39;s wrong with my configurations?", "question": "<p>I am new to surefire plugin, and trying to setup to rerun flaky test.</p>\n\n<p>My configuration is as following:</p>\n\n<pre><code>            &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;suiteXmlFiles&gt;\n                    &lt;suiteXmlFile&gt;${suiteXmlFile}&lt;/suiteXmlFile&gt;\n                &lt;/suiteXmlFiles&gt;\n                &lt;rerunFailingTestsCount&gt;1&lt;/rerunFailingTestsCount&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>And the command I used is:</p>\n\n<pre><code>mvn clean test -DsuiteXmlFile=testNG.xml -Dsurefire.rerunFailingTestsCount=2\n</code></pre>\n\n<p>I got:</p>\n\n<pre><code>[ERROR] Tests run: 2, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 11.12 s &lt;&lt;&lt; FAILURE! - in TestSuite\n\n[ERROR] ieTest1(com.mycompany.testcases.Sample.independentTest)  Time elapsed: 3.839 s  &lt;&lt;&lt; FAILURE!\n\njava.lang.AssertionError: expected [true] but found [false]\n</code></pre>\n\n<p>However I could see the /target/surefire-reports generated, but no rerun. Anybody could help figure out why the rerun is not firing?</p>\n", "acceptedAnswer": "<p>According to <a href=\"http://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#rerunFailingTestsCount\" rel=\"nofollow noreferrer\">http://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#rerunFailingTestsCount</a> , rerunFailingTestsCount only works with JUnit 4+ providers and JUnit 5+ providers since 3.0.0-M4, not with TestNG.</p>\n<p>I'm investigating this problem too, and the most complete explanation so far seems to be there: <a href=\"https://www.toolsqa.com/selenium-webdriver/retry-failed-tests-testng/\" rel=\"nofollow noreferrer\">https://www.toolsqa.com/selenium-webdriver/retry-failed-tests-testng/</a></p>\n", "questionSource": "https://stackoverflow.com/questions/53734572/maven-surefire-does-not-rerun-failed-testng-test-whats-wrong-with-my-configura"}