{"questionTitle": "How do I resolve &quot;Request reached the end of the middleware pipeline without being handled by application code.&quot;?", "question": "<p>I am attempting to convert our public API into using just the single Program.cs format as part of our .NET8 update but despite the application building and running, when I try to hit a route I get a 404 and in the debug output I get &quot;Request reached the end of the middleware pipeline without being handled by application code.&quot;\nI have stripped out all but the default &quot;app.Xyz&quot; that come with the dotnet template but the issue still remains. My &quot;app&quot; section of the Program.cs now looks like this:</p>\n<pre><code>var app = builder.Build();\n\nvar listener = app.Services.GetRequiredService&lt;DiagnosticListener&gt;();\nvar observer = ActivatorUtilities.CreateInstance&lt;AnalysisDiagnosticAdapter&gt;(app.Services);\nusing var disposable = listener.SubscribeWithAdapter(observer);\n\n\napp.UseHttpsRedirection();\napp.UseRouting();\napp.UseUserAuthentication();\napp.UseAuthorization();\n\napp.MapControllerRoute(\n    name: &quot;Default&quot;,\n    pattern:&quot;{controller=Home}/{action=Index}/{id?}&quot;\n    );\n\napp.Run();\n</code></pre>\n<p>I added in the DiagnosticAdapter to see if that would help but it doesn't really tell me anything that the default debug output did.</p>\n<p>I can add a test route in this file, using <code>app.MapGet();</code> which works and returns correctly but any controller external to this return the 404 error.</p>\n", "acceptedAnswer": "<p>You should register the controllers. Try to replacing app building line with below:</p>\n<pre><code>builder.Services.AddControllers();\nvar app = builder.Build();\n</code></pre>\n", "questionSource": "https://stackoverflow.com/questions/78208865/how-do-i-resolve-request-reached-the-end-of-the-middleware-pipeline-without-bei"}