{"questionTitle": "Not able to search for character name in Marvel API using NodeJS", "question": "<p>I am using the Marvel API to get characters data. I am using axios to get this data, below is the code:</p>\n<pre><code>const axios = require('axios');\n\nconst md5 = require('blueimp-md5');\nconst publickey = '73f5271b4d972dc0f4eba';\nconst privatekey = 'e9499a5ab5e65';\nconst ts = new Date().getTime();\nconst stringToHash = ts + privatekey + publickey;\nconst hash = md5(stringToHash);\nsp = 'Spider-man'\nconst baseUrl = 'https://gateway.marvel.com:443/v1/public/comics';\nconst url = baseUrl + '?ts=' + ts + '&amp;apikey=' + publickey + '&amp;hash=' + hash;\n\nasync function getMarvel(){\n    const { data } = await axios.get(url);\n    return data; // this will be the array of people objects\n}\n\n\n\nmodule.exports = {\n    getMarvel\n}\n</code></pre>\n<p>routes:</p>\n<pre><code>const express = require('express');\nconst router = express.Router();\nconst data = require('../data');\nconst marvelData = data.marvel;\n\n\nrouter.get('/', async (req, res) =&gt; {\n  \n  try {\n    const marv = await marvelData.getMarvel();\n    res.json(marv);\n  } catch (e) {\n    res.status(404).json({ message: e.message });\n  }\n});\n\nmodule.exports = router;\n</code></pre>\n<p>app.js</p>\n<pre><code>const express = require('express');\nconst app = express();\nconst configRoutes = require('./routes');\n\nconfigRoutes(app);\n\napp.listen(3000, () =&gt; {\n  console.log(&quot;We've now got a server!&quot;);\n  console.log('Your routes will be running on http://localhost:3000');\n});\n</code></pre>\n<p>When the query string URL is:</p>\n<pre><code>'https://gateway.marvel.com:443/v1/public/characters'\n</code></pre>\n<p>The data loads and works fine, but when I try to search it by name it does not work:</p>\n<pre><code>'https://gateway.marvel.com:443/v1/public/characters?name=Spider-Man'\n</code></pre>\n<p>It returns a 409 error, not sure what am I missing.</p>\n<p>Output when I add name to Interactive documentation of marvel api:</p>\n<pre><code>{\n  &quot;code&quot;: 200,\n  &quot;status&quot;: &quot;Ok&quot;,\n  &quot;copyright&quot;: &quot;\u00a9 2021 MARVEL&quot;,\n  &quot;attributionText&quot;: &quot;Data provided by Marvel. \u00a9 2021 MARVEL&quot;,\n  &quot;attributionHTML&quot;: &quot;&lt;a href=\\&quot;http://marvel.com\\&quot;&gt;Data provided by Marvel. \u00a9 2021 MARVEL&lt;/a&gt;&quot;,\n  &quot;etag&quot;: &quot;79ef3436d0dc139b17693635b99776556e29f495&quot;,\n  &quot;data&quot;: {\n    &quot;offset&quot;: 0,\n    &quot;limit&quot;: 20,\n    &quot;total&quot;: 0,\n    &quot;count&quot;: 0,\n    &quot;results&quot;: []\n  }\n}\n</code></pre>\n", "acceptedAnswer": "<p>In your first code stub in</p>\n<pre><code>const url = baseUrl + '&amp;ts=' + ts + '&amp;apikey=' + publickey + '&amp;hash=' + hash;\n</code></pre>\n<p>make it <code>&amp;ts</code> instead of <code>?ts</code> as continuing query parameters should start with <code>&amp;</code></p>\n", "questionSource": "https://stackoverflow.com/questions/69832429/not-able-to-search-for-character-name-in-marvel-api-using-nodejs"}