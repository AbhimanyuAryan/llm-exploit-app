{"questionTitle": "PHP displaying an image from Cloudinary triggers an Uncaught...ConfigurationException", "question": "<p>Greeetings</p>\n<p>I'm using <code>PHP 8.1.2</code> and <code>Cloudinary</code></p>\n<p>I'm still new to <code>Cloudinary</code> with <code>PHP</code>.</p>\n<p>I have a script that uploads an image to <code>Cloudinary</code>. It works just fine. On the flip-side, I don't know how to display an image that is stored on <code>Cloudinary</code>. I've found very little help online. I don't know what <code>Cloudinary</code> files/classes I need to include/require. I'm doing something wrong.</p>\n<p>If anyone can point me to a good how-to tutorial or show me how to do this, I would be most greatful.</p>\n<pre><code># show-image.html\n\n&lt;?php\nrequire_once('../vendor/autoload.php');\n\nuse Cloudinary\\Cloudinary;\n\n// image folder/name on cloudinary\n$image_on_cloudinary = 'student_images/carter-ski-jump-big.jpg';\n\n$cld_image = new Cloudinary();\n$cld_image-&gt;imageTag($image_on_cloudinary);  // line 9 referenced in error\n\n?&gt;\n</code></pre>\n<p>I get this error:</p>\n<pre><code>[30-Jan-2024 21:30:45 UTC] PHP Fatal error:  Uncaught Cloudinary\\Exception\\ConfigurationException: \nInvalid configuration, please set up your environment in /home/sacnomad/livingmuaythai.com/vendor/cloudinary/cloudinary_php/src/Configuration/Configuration.php:293\nStack trace:\n#0 /home/sacnomad/livingmuaythai.com/vendor/cloudinary/cloudinary_php/src/Cloudinary.php(59): Cloudinary\\Configuration\\Configuration-&gt;validate()\n#1 /home/sacnomad/livingmuaythai.com/students/show-image.html(9): Cloudinary\\Cloudinary-&gt;__construct()\n#2 {main}\n  thrown in /home/sacnomad/livingmuaythai.com/vendor/cloudinary/cloudinary_php/src/Configuration/Configuration.php on line 293\n</code></pre>\n<p>In my image upload script, I have this set up, which I also tried in my show-image page, minus the <code>Cloudinary upload lines</code>.</p>\n<pre><code>&lt;?php\nrequire_once('../includes/cloudinary_creds.php');\nrequire_once('../vendor/autoload.php');\n\n$cc = new CloudinaryCreds();\n\nuse Cloudinary\\Cloudinary;\nuse Cloudinary\\Configuration\\Configuration;\nConfiguration::instance( $cc-&gt;get_cloudinary_url() );\n\n// Use the UploadApi class for uploading assets\nuse Cloudinary\\Api\\Upload\\UploadApi;\n\n$upload = new UploadApi();\n\n$action = isset($_REQUEST['action']) ? $_REQUEST['action'] : '';\n\nif( isset($action) &amp;&amp; $action==&quot;Submit&quot; ){\n  if ( is_uploaded_file($_FILES['uploaded_file']['tmp_name']) ) {\n    $tmp_name = $_FILES[&quot;uploaded_file&quot;][&quot;tmp_name&quot;];\n    $image_name = $_FILES[&quot;uploaded_file&quot;][&quot;name&quot;];\n\n    $image_array = $upload-&gt;upload($tmp_name, [\n                                 'public_id' =&gt; $image_name,\n                                 'use_filename' =&gt; TRUE,\n                                 'folder' =&gt; 'student_images',\n                                 'overwrite' =&gt; TRUE ] );\n\n    print &quot;&lt;p&gt;Public_ID: &quot;.$image_array['public_id'].&quot;&lt;/p&gt;&quot;;\n  }\n}\n...\n</code></pre>\n<p>As noted, this works just fine for uploading an image. No errors.</p>\n", "acceptedAnswer": "<p>You'll need to pass the config when instantiating a Cloudinary object so that the image_tag call will generate the image url to an existing account. For example:</p>\n<pre><code>  //call the image\n  $image_on_cloudinary = 'student_images/carter-ski-jump-big.jpg';\n\n  $config = Configuration::instance();\n  $config-&gt;cloud-&gt;cloudName = 'my_cloud_name';\n  $config-&gt;cloud-&gt;apiKey = 'my_key';\n  $config-&gt;cloud-&gt;apiSecret = 'my_secret';\n  $config-&gt;url-&gt;secure = true;\n\n  $cld_image = new Cloudinary($config);\n  $cld_image-&gt;imageTag($image_on_cloudinary);\n</code></pre>\n<p>The above should generate the image URL.</p>\n", "questionSource": "https://stackoverflow.com/questions/77909670/php-displaying-an-image-from-cloudinary-triggers-an-uncaught-configurationexce"}